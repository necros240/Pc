/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var ZZ=Object.create;var Gy=Object.defineProperty;var QZ=Object.getOwnPropertyDescriptor;var eQ=Object.getOwnPropertyNames;var tQ=Object.getPrototypeOf,nQ=Object.prototype.hasOwnProperty;var H=(t,e)=>()=>(t&&(e=t(t=0)),e);var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),zg=(t,e)=>{for(var n in e)Gy(t,n,{get:e[n],enumerable:!0})},BU=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of eQ(e))!nQ.call(t,o)&&o!==n&&Gy(t,o,{get:()=>e[o],enumerable:!(r=QZ(e,o))||r.enumerable});return t};var G=(t,e,n)=>(n=t!=null?ZZ(tQ(t)):{},BU(e||!t||!t.__esModule?Gy(n,"default",{value:t,enumerable:!0}):n,t)),Gg=t=>BU(Gy({},"__esModule",{value:!0}),t);var Tr=F((_Ce,KU)=>{"use strict";var rQ=Object.create,Jy=Object.defineProperty,oQ=Object.getOwnPropertyDescriptor,YU=Object.getOwnPropertyNames,iQ=Object.getPrototypeOf,sQ=Object.prototype.hasOwnProperty,aQ=(t,e)=>function(){return e||(0,t[YU(t)[0]])((e={exports:{}}).exports,e),e.exports},cQ=(t,e)=>{for(var n in e)Jy(t,n,{get:e[n],enumerable:!0})},VU=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of YU(e))!sQ.call(t,o)&&o!==n&&Jy(t,o,{get:()=>e[o],enumerable:!(r=oQ(e,o))||r.enumerable});return t},lQ=(t,e,n)=>(n=t!=null?rQ(iQ(t)):{},VU(e||!t||!t.__esModule?Jy(n,"default",{value:t,enumerable:!0}):n,t)),uQ=t=>VU(Jy({},"__esModule",{value:!0}),t),dQ=aQ({"node_modules/request-light/lib/node/main.js"(t){(()=>{var e={46:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c,l,{signal:u}={}){return new Promise((d,f)=>{function p(){u==null||u.removeEventListener("abort",p),c.removeListener(l,m),c.removeListener("error",h)}function m(...v){p(),d(v)}function h(v){p(),f(v)}u==null||u.addEventListener("abort",p),c.on(l,m),c.on("error",h)})}},54:function(s,a,c){"use strict";var l=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};let u=c(361),d=l(c(374)),f=l(c(304)),p=d.default("agent-base");function m(){let{stack:v}=new Error;return typeof v=="string"&&v.split(`
`).some(g=>g.indexOf("(https.js:")!==-1||g.indexOf("node:https:")!==-1)}function h(v,g){return new h.Agent(v,g)}(function(v){class g extends u.EventEmitter{constructor(x,y){super();let E=y;typeof x=="function"?this.callback=x:x&&(E=x),this.timeout=null,E&&typeof E.timeout=="number"&&(this.timeout=E.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:m()?443:80}set defaultPort(x){this.explicitDefaultPort=x}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:m()?"https:":"http:"}set protocol(x){this.explicitProtocol=x}callback(x,y,E){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(x,y){let E=Object.assign({},y);typeof E.secureEndpoint!="boolean"&&(E.secureEndpoint=m()),E.host==null&&(E.host="localhost"),E.port==null&&(E.port=E.secureEndpoint?443:80),E.protocol==null&&(E.protocol=E.secureEndpoint?"https:":"http:"),E.host&&E.path&&delete E.path,delete E.agent,delete E.hostname,delete E._defaultAgent,delete E.defaultPort,delete E.createConnection,x._last=!0,x.shouldKeepAlive=!1;let T=!1,k=null,R=E.timeout||this.timeout,b=S=>{x._hadError||(x.emit("error",S),x._hadError=!0)},I=()=>{k=null,T=!0;let S=new Error(`A "socket" was not created for HTTP request before ${R}ms`);S.code="ETIMEOUT",b(S)},_=S=>{T||(k!==null&&(clearTimeout(k),k=null),b(S))},D=S=>{if(T)return;if(k!=null&&(clearTimeout(k),k=null),C=S,!!C&&typeof C.addRequest=="function")return p("Callback returned another Agent instance %o",S.constructor.name),void S.addRequest(x,E);var C;if(S)return S.once("free",()=>{this.freeSocket(S,E)}),void x.onSocket(S);let L=new Error(`no Duplex stream was returned to agent-base for \`${x.method} ${x.path}\``);b(L)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(p("Converting legacy callback function to promise"),this.promisifiedCallback=f.default(this.callback)):this.promisifiedCallback=this.callback),typeof R=="number"&&R>0&&(k=setTimeout(I,R)),"port"in E&&typeof E.port!="number"&&(E.port=Number(E.port));try{p("Resolving socket for %o request: %o",E.protocol,`${x.method} ${x.path}`),Promise.resolve(this.promisifiedCallback(x,E)).then(D,_)}catch(S){Promise.reject(S).catch(_)}}else b(new Error("`callback` is not defined"))}freeSocket(x,y){p("Freeing socket %o %o",x.constructor.name,y),x.destroy()}destroy(){p("Destroying agent %o",this.constructor.name)}}v.Agent=g,v.prototype=v.Agent.prototype})(h||(h={})),s.exports=h},304:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return function(l,u){return new Promise((d,f)=>{c.call(this,l,u,(p,m)=>{p?f(p):d(m)})})}}},370:function(s,a,c){"use strict";var l=this&&this.__awaiter||function(x,y,E,T){return new(E||(E=Promise))(function(k,R){function b(D){try{_(T.next(D))}catch(S){R(S)}}function I(D){try{_(T.throw(D))}catch(S){R(S)}}function _(D){var S;D.done?k(D.value):(S=D.value,S instanceof E?S:new E(function(C){C(S)})).then(b,I)}_((T=T.apply(x,y||[])).next())})},u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(a,"__esModule",{value:!0});let d=u(c(808)),f=u(c(404)),p=u(c(310)),m=u(c(374)),h=u(c(46)),v=c(54),g=(0,m.default)("http-proxy-agent");class w extends v.Agent{constructor(y){let E;if(E=typeof y=="string"?p.default.parse(y):y,!E)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");g("Creating new HttpProxyAgent instance: %o",E),super(E);let T=Object.assign({},E);var k;this.secureProxy=E.secureProxy||typeof(k=T.protocol)=="string"&&/^https:?$/i.test(k),T.host=T.hostname||T.host,typeof T.port=="string"&&(T.port=parseInt(T.port,10)),!T.port&&T.host&&(T.port=this.secureProxy?443:80),T.host&&T.path&&(delete T.path,delete T.pathname),this.proxy=T}callback(y,E){return l(this,void 0,void 0,function*(){let{proxy:T,secureProxy:k}=this,R=p.default.parse(y.path),b;if(R.protocol||(R.protocol="http:"),R.hostname||(R.hostname=E.hostname||E.host||null),R.port==null&&(E.port,1)&&(R.port=String(E.port)),R.port==="80"&&(R.port=""),y.path=p.default.format(R),T.auth&&y.setHeader("Proxy-Authorization",`Basic ${Buffer.from(T.auth).toString("base64")}`),k?(g("Creating `tls.Socket`: %o",T),b=f.default.connect(T)):(g("Creating `net.Socket`: %o",T),b=d.default.connect(T)),y._header){let I,_;g("Regenerating stored HTTP header string for request"),y._header=null,y._implicitHeader(),y.output&&y.output.length>0?(g("Patching connection write() output buffer with updated header"),I=y.output[0],_=I.indexOf(`\r
\r
`)+4,y.output[0]=y._header+I.substring(_),g("Output buffer: %o",y.output)):y.outputData&&y.outputData.length>0&&(g("Patching connection write() output buffer with updated header"),I=y.outputData[0].data,_=I.indexOf(`\r
\r
`)+4,y.outputData[0].data=y._header+I.substring(_),g("Output buffer: %o",y.outputData[0].data))}return yield(0,h.default)(b,"connect"),b})}}a.default=w},201:function(s,a,c){"use strict";let l=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(c(370));function u(d){return new l.default(d)}(function(d){d.HttpProxyAgent=l.default,d.prototype=l.default.prototype})(u||(u={})),s.exports=u},146:function(s,a,c){"use strict";var l=this&&this.__awaiter||function(E,T,k,R){return new(k||(k=Promise))(function(b,I){function _(C){try{S(R.next(C))}catch(L){I(L)}}function D(C){try{S(R.throw(C))}catch(L){I(L)}}function S(C){var L;C.done?b(C.value):(L=C.value,L instanceof k?L:new k(function(A){A(L)})).then(_,D)}S((R=R.apply(E,T||[])).next())})},u=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(a,"__esModule",{value:!0});let d=u(c(808)),f=u(c(404)),p=u(c(310)),m=u(c(491)),h=u(c(374)),v=c(54),g=u(c(829)),w=h.default("https-proxy-agent:agent");class x extends v.Agent{constructor(T){let k;if(k=typeof T=="string"?p.default.parse(T):T,!k)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");w("creating new HttpsProxyAgent instance: %o",k),super(k);let R=Object.assign({},k);var b;this.secureProxy=k.secureProxy||typeof(b=R.protocol)=="string"&&/^https:?$/i.test(b),R.host=R.hostname||R.host,typeof R.port=="string"&&(R.port=parseInt(R.port,10)),!R.port&&R.host&&(R.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in R)&&(R.ALPNProtocols=["http 1.1"]),R.host&&R.path&&(delete R.path,delete R.pathname),this.proxy=R}callback(T,k){return l(this,void 0,void 0,function*(){let{proxy:R,secureProxy:b}=this,I;b?(w("Creating `tls.Socket`: %o",R),I=f.default.connect(R)):(w("Creating `net.Socket`: %o",R),I=d.default.connect(R));let _=Object.assign({},R.headers),D=`CONNECT ${k.host}:${k.port} HTTP/1.1\r
`;R.auth&&(_["Proxy-Authorization"]=`Basic ${Buffer.from(R.auth).toString("base64")}`);let{host:S,port:C,secureEndpoint:L}=k;(function(q,X){return!!(!X&&q===80||X&&q===443)})(C,L)||(S+=`:${C}`),_.Host=S,_.Connection="close";for(let q of Object.keys(_))D+=`${q}: ${_[q]}\r
`;let A=g.default(I);I.write(`${D}\r
`);let{statusCode:N,buffered:B}=yield A;if(N===200){if(T.once("socket",y),k.secureEndpoint){w("Upgrading socket connection to TLS");let q=k.servername||k.host;return f.default.connect(Object.assign(Object.assign({},function(X,...ue){let De={},Le;for(Le in X)ue.includes(Le)||(De[Le]=X[Le]);return De}(k,"host","hostname","path","port")),{socket:I,servername:q}))}return I}I.destroy();let K=new d.default.Socket({writable:!1});return K.readable=!0,T.once("socket",q=>{w("replaying proxy buffer for failed request"),m.default(q.listenerCount("data")>0),q.push(B),q.push(null)}),K})}}function y(E){E.resume()}a.default=x},18:function(s,a,c){"use strict";let l=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(c(146));function u(d){return new l.default(d)}(function(d){d.HttpsProxyAgent=l.default,d.prototype=l.default.prototype})(u||(u={})),s.exports=u},829:function(s,a,c){"use strict";var l=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0});let u=l(c(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(d){return new Promise((f,p)=>{let m=0,h=[];function v(){let x=d.read();x?function(y){h.push(y),m+=y.length;let E=Buffer.concat(h,m);if(E.indexOf(`\r
\r
`)===-1)return u("have not received end of HTTP headers yet..."),void v();let T=E.toString("ascii",0,E.indexOf(`\r
`)),k=+T.split(" ")[1];u("got proxy server response: %o",T),f({statusCode:k,buffered:E})}(x):d.once("readable",v)}function g(x){u("onclose had error %o",x)}function w(){u("onend")}d.on("error",function x(y){d.removeListener("end",w),d.removeListener("error",x),d.removeListener("close",g),d.removeListener("readable",v),u("onerror %o",y),p(y)}),d.on("close",g),d.on("end",w),v()})}},539:function(s,a,c){"use strict";var l,u=this&&this.__extends||(l=function(b,I){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,D){_.__proto__=D}||function(_,D){for(var S in D)Object.prototype.hasOwnProperty.call(D,S)&&(_[S]=D[S])},l(b,I)},function(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function _(){this.constructor=b}l(b,I),b.prototype=I===null?Object.create(I):(_.prototype=I.prototype,new _)}),d=this&&this.__assign||function(){return d=Object.assign||function(b){for(var I,_=1,D=arguments.length;_<D;_++)for(var S in I=arguments[_])Object.prototype.hasOwnProperty.call(I,S)&&(b[S]=I[S]);return b},d.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var f=c(685),p=c(687),m=c(310),h=c(472),v=c(796),g=c(201),w=c(18);if(process.env.VSCODE_NLS_CONFIG){var x=process.env.VSCODE_NLS_CONFIG;h.config(JSON.parse(x))}var y=h.loadMessageBundle(),E=void 0,T=!0;function k(b){var I;return new Promise(function(_,D){var S=(0,m.parse)(b.url),C={hostname:S.hostname,agent:!!b.agent&&b.agent,port:S.port?parseInt(S.port):S.protocol==="https:"?443:80,path:S.path,method:b.type||"GET",headers:b.headers,rejectUnauthorized:typeof b.strictSSL!="boolean"||b.strictSSL};b.user&&b.password&&(C.auth=b.user+":"+b.password);var L=function(A){if(A.statusCode>=300&&A.statusCode<400&&b.followRedirects&&b.followRedirects>0&&A.headers.location){var N=A.headers.location;N.startsWith("/")&&(N=(0,m.format)({protocol:S.protocol,hostname:S.hostname,port:S.port,pathname:N})),_(k(function(B){for(var K=[],q=1;q<arguments.length;q++)K[q-1]=arguments[q];return K.forEach(function(X){return Object.keys(X).forEach(function(ue){return B[ue]=X[ue]})}),B}({},b,{url:N,followRedirects:b.followRedirects-1})))}else _({req:I,res:A})};(I=S.protocol==="https:"?p.request(C,L):f.request(C,L)).on("error",D),b.timeout&&I.setTimeout(b.timeout),b.data&&I.write(b.data),I.end(),b.token&&(b.token.isCancellationRequested&&I.destroy(new R),b.token.onCancellationRequested(function(){I.destroy(new R)}))})}a.configure=function(b,I){E=b,T=I},a.xhr=function(b){return typeof(b=d({},b)).strictSSL!="boolean"&&(b.strictSSL=T),b.agent||(b.agent=function(I,_){_===void 0&&(_={});var D=(0,m.parse)(I),S=_.proxyUrl||function(A){return A.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:A.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(D);if(!S)return null;var C=(0,m.parse)(S);if(!/^https?:$/.test(C.protocol))return null;var L={host:C.hostname,port:Number(C.port),auth:C.auth,rejectUnauthorized:typeof _.strictSSL!="boolean"||_.strictSSL,protocol:C.protocol};return D.protocol==="http:"?g(L):w(L)}(b.url,{proxyUrl:E,strictSSL:T})),typeof b.followRedirects!="number"&&(b.followRedirects=5),k(b).then(function(I){return new Promise(function(_,D){var S,C,L=I.res,A=L,N=!1,B=L.headers&&L.headers["content-encoding"];if(B&&(S=b.type,C=I.res.statusCode,!(S==="HEAD"||C>=100&&C<200||C===204||C===304))){var K={flush:v.constants.Z_SYNC_FLUSH,finishFlush:v.constants.Z_SYNC_FLUSH};if(B==="gzip"){var q=v.createGunzip(K);L.pipe(q),A=q}else if(B==="deflate"){var X=v.createInflate(K);L.pipe(X),A=X}}var ue=[];A.on("data",function(De){return ue.push(De)}),A.on("end",function(){if(!N){if(N=!0,b.followRedirects>0&&(L.statusCode>=300&&L.statusCode<=303||L.statusCode===307)){var De=L.headers.location;if(De.startsWith("/")){var Le=(0,m.parse)(b.url);De=(0,m.format)({protocol:Le.protocol,hostname:Le.hostname,port:Le.port,pathname:De})}if(De){var ft={type:b.type,url:De,user:b.user,password:b.password,headers:b.headers,timeout:b.timeout,followRedirects:b.followRedirects-1,data:b.data,token:b.token};return void(0,a.xhr)(ft).then(_,D)}}var nt=Buffer.concat(ue),at={responseText:nt.toString(),body:nt,status:L.statusCode,headers:L.headers||{}};L.statusCode>=200&&L.statusCode<300||L.statusCode===1223?_(at):D(at)}}),A.on("error",function(De){var Le;Le=R.is(De)?De:{responseText:y("error","Unable to access {0}. Error: {1}",b.url,De.message),body:Buffer.concat(ue),status:500,headers:{}},N=!0,D(Le)}),b.token&&(b.token.isCancellationRequested&&A.destroy(new R),b.token.onCancellationRequested(function(){A.destroy(new R)}))})},function(I){var _;return _=R.is(I)?I:{responseText:b.agent?y("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",b.url,I.message):y("error.cannot.connect","Unable to connect to {0}. Error: {1}",b.url,I.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(_)})},a.getErrorStatusDescription=function(b){if(!(b<400))switch(b){case 400:return y("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return y("status.401","Unauthorized. The server is refusing to respond.");case 403:return y("status.403","Forbidden. The server is refusing to respond.");case 404:return y("status.404","Not Found. The requested location could not be found.");case 405:return y("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return y("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return y("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return y("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return y("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return y("status.410","Gone. The requested page is no longer available.");case 411:return y("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return y("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return y("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return y("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return y("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return y("status.500","Internal Server Error.");case 501:return y("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return y("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return y("status.416","HTTP status code {0}",b)}};var R=function(b){function I(){var _=b.call(this,"The user aborted a request")||this;return _.name="AbortError",Object.setPrototypeOf(_,I.prototype),_}return u(I,b),I.is=function(_){return _ instanceof I},I}(Error)},800:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var l,u,d,f=c(926);function p(h){return h!==void 0}function m(h,v){return a.isPseudo&&(h="\uFF3B"+h.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v.length===0?h:h.replace(/\{(\d+)\}/g,function(g,w){var x=w[0],y=v[x],E=g;return typeof y=="string"?E=y:typeof y!="number"&&typeof y!="boolean"&&y!=null||(E=String(y)),E})}(d=a.MessageFormat||(a.MessageFormat={})).file="file",d.bundle="bundle",d.both="both",(u=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",u.languagePack="languagePack",function(h){h.is=function(v){var g=v;return g&&p(g.key)&&p(g.comment)}}(l||(l={})),a.isDefined=p,a.isPseudo=!1,a.setPseudo=function(h){a.isPseudo=h},a.format=m,a.localize=function(h,v){for(var g=[],w=2;w<arguments.length;w++)g[w-2]=arguments[w];return m(v,g)},a.loadMessageBundle=function(h){return(0,f.default)().loadMessageBundle(h)},a.config=function(h){return(0,f.default)().config(h)}},926:(s,a)=>{"use strict";var c;function l(){if(c===void 0)throw new Error("No runtime abstraction layer installed");return c}Object.defineProperty(a,"__esModule",{value:!0}),function(u){u.install=function(d){if(d===void 0)throw new Error("No runtime abstraction layer provided");c=d}}(l||(l={})),a.default=l},472:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var l=c(17),u=c(147),d=c(926),f=c(800),p=c(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return p.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return p.BundleFormat}});var m,h,v=Object.prototype.toString;function g(I){return v.call(I)==="[object Number]"}function w(I){return v.call(I)==="[object String]"}function x(I){return JSON.parse(u.readFileSync(I,"utf8"))}function y(I){return function(_,D){for(var S=[],C=2;C<arguments.length;C++)S[C-2]=arguments[C];return g(_)?_>=I.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,f.format)(I[_],S):w(D)?(console.warn("Message ".concat(D," didn't get externalized correctly.")),(0,f.format)(D,S)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function E(I,_){return m[I]=_,_}function T(I){try{return function(_){var D=x(l.join(_,"nls.metadata.json")),S=Object.create(null);for(var C in D){var L=D[C];S[C]=L.messages}return S}(I)}catch(_){return void console.log("Generating default bundle from meta data failed.",_)}}function k(I,_){var D;if(h.languagePackSupport===!0&&h.cacheRoot!==void 0&&h.languagePackId!==void 0&&h.translationsConfigFile!==void 0&&h.translationsConfig!==void 0)try{D=function(C,L){var A,N,B,K=l.join(h.cacheRoot,"".concat(C.id,"-").concat(C.hash,".json")),q=!1,X=!1;try{return A=JSON.parse(u.readFileSync(K,{encoding:"utf8",flag:"r"})),N=K,B=new Date,u.utimes(N,B,B,function(){}),A}catch(ue){if(ue.code==="ENOENT")X=!0;else{if(!(ue instanceof SyntaxError))throw ue;console.log("Syntax error parsing message bundle: ".concat(ue.message,".")),u.unlink(K,function(De){De&&console.error("Deleting corrupted bundle ".concat(K," failed."))}),q=!0}}if(A=function(ue,De){var Le=h.translationsConfig[ue.id];if(Le){var ft=x(Le).contents,nt=x(l.join(De,"nls.metadata.json")),at=Object.create(null);for(var Ye in nt){var Te=nt[Ye],z=ft["".concat(ue.outDir,"/").concat(Ye)];if(z){for(var se=[],pe=0;pe<Te.keys.length;pe++){var Ce=Te.keys[pe],be=z[w(Ce)?Ce:Ce.key];be===void 0&&(be=Te.messages[pe]),se.push(be)}at[Ye]=se}else at[Ye]=Te.messages}return at}}(C,L),!A||q)return A;if(X)try{u.writeFileSync(K,JSON.stringify(A),{encoding:"utf8",flag:"wx"})}catch(ue){if(ue.code==="EEXIST")return A;throw ue}return A}(I,_)}catch(C){console.log("Load or create bundle failed ",C)}if(!D){if(h.languagePackSupport)return T(_);var S=function(C){for(var L=h.language;L;){var A=l.join(C,"nls.bundle.".concat(L,".json"));if(u.existsSync(A))return A;var N=L.lastIndexOf("-");L=N>0?L.substring(0,N):void 0}if(L===void 0&&(A=l.join(C,"nls.bundle.json"),u.existsSync(A)))return A}(_);if(S)try{return x(S)}catch(C){console.log("Loading in the box message bundle failed.",C)}D=T(_)}return D}function R(I){if(!I)return f.localize;var _=l.extname(I);if(_&&(I=I.substr(0,I.length-_.length)),h.messageFormat===f.MessageFormat.both||h.messageFormat===f.MessageFormat.bundle){var D=function(q){for(var X,ue=l.dirname(q);X=l.join(ue,"nls.metadata.header.json"),!u.existsSync(X);){var De=l.dirname(ue);if(De===ue){X=void 0;break}ue=De}return X}(I);if(D){var S=l.dirname(D),C=m[S];if(C===void 0)try{var L=JSON.parse(u.readFileSync(D,"utf8"));try{var A=k(L,S);C=E(S,A?{header:L,nlsBundle:A}:null)}catch(q){console.error("Failed to load nls bundle",q),C=E(S,null)}}catch(q){console.error("Failed to read header file",q),C=E(S,null)}if(C){var N=I.substr(S.length+1).replace(/\\/g,"/"),B=C.nlsBundle[N];return B===void 0?(console.error("Messages for file ".concat(I," not found. See console for details.")),function(){return"Messages not found."}):y(B)}}}if(h.messageFormat===f.MessageFormat.both||h.messageFormat===f.MessageFormat.file)try{var K=x(function(q){var X;if(!(h.cacheLanguageResolution&&X)){if(f.isPseudo||!h.language)X=".nls.json";else for(var ue=h.language;ue;){var De=".nls."+ue+".json";if(u.existsSync(q+De)){X=De;break}var Le=ue.lastIndexOf("-");Le>0?ue=ue.substring(0,Le):(X=".nls.json",ue=null)}h.cacheLanguageResolution}return q+X}(I));return Array.isArray(K)?y(K):(0,f.isDefined)(K.messages)&&(0,f.isDefined)(K.keys)?y(K.messages):(console.error("String bundle '".concat(I,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(q){q.code!=="ENOENT"&&console.error("Failed to load single file bundle",q)}return console.error("Failed to load message bundle for file ".concat(I)),function(){return"Failed to load message bundle. See console for details."}}function b(I){return I&&(w(I.locale)&&(h.locale=I.locale.toLowerCase(),h.language=h.locale,m=Object.create(null)),I.messageFormat!==void 0&&(h.messageFormat=I.messageFormat),I.bundleFormat===f.BundleFormat.standalone&&h.languagePackSupport===!0&&(h.languagePackSupport=!1)),(0,f.setPseudo)(h.locale==="pseudo"),R}(function(){if(h={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:f.MessageFormat.bundle},w(process.env.VSCODE_NLS_CONFIG))try{var I=JSON.parse(process.env.VSCODE_NLS_CONFIG),_=void 0;if(I.availableLanguages){var D=I.availableLanguages["*"];w(D)&&(_=D)}if(w(I.locale)&&(h.locale=I.locale.toLowerCase()),_===void 0?h.language=h.locale:_!=="en"&&(h.language=_),function(C){return C===!0||C===!1}(I._languagePackSupport)&&(h.languagePackSupport=I._languagePackSupport),w(I._cacheRoot)&&(h.cacheRoot=I._cacheRoot),w(I._languagePackId)&&(h.languagePackId=I._languagePackId),w(I._translationsConfigFile)){h.translationsConfigFile=I._translationsConfigFile;try{h.translationsConfig=x(h.translationsConfigFile)}catch{if(I._corruptedFile){var S=l.dirname(I._corruptedFile);u.exists(S,function(L){L&&u.writeFile(I._corruptedFile,"corrupted","utf8",function(A){console.error(A)})})}}}}catch{}(0,f.setPseudo)(h.locale==="pseudo"),m=Object.create(null)})(),a.loadMessageBundle=R,a.config=b,d.default.install(Object.freeze({loadMessageBundle:R,config:b}))},374:(s,a)=>{function c(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l){return c}},491:s=>{"use strict";s.exports=require("assert")},361:s=>{"use strict";s.exports=require("events")},147:s=>{"use strict";s.exports=require("fs")},685:s=>{"use strict";s.exports=require("http")},687:s=>{"use strict";s.exports=require("https")},808:s=>{"use strict";s.exports=require("net")},17:s=>{"use strict";s.exports=require("path")},404:s=>{"use strict";s.exports=require("tls")},310:s=>{"use strict";s.exports=require("url")},796:s=>{"use strict";s.exports=require("zlib")}},n={},r=function s(a){var c=n[a];if(c!==void 0)return c.exports;var l=n[a]={exports:{}};return e[a].call(l.exports,l,l.exports,s),l.exports}(539),o=t;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})()}}),zU={};cQ(zU,{config:()=>gQ,t:()=>GU});KU.exports=uQ(zU);var fQ=require("fs"),pQ=require("fs/promises"),qU=lQ(dQ());async function mQ(t){if(t.protocol==="file:")return await(0,pQ.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:")try{let e=await(0,qU.xhr)({url:t.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(e.body)}catch(e){throw new Error(e.responseText??(0,qU.getErrorStatusDescription)(e.status)??e.toString())}throw new Error("Unsupported protocol")}function hQ(t){return(0,fQ.readFileSync)(t,"utf8")}var hd;function gQ(t){if("contents"in t){typeof t.contents=="string"?hd=JSON.parse(t.contents):hd=t.contents;return}if("fsPath"in t){let e=hQ(t.fsPath),n=JSON.parse(e);hd=WU(n)?n.contents.bundle:n;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((n,r)=>{let o=mQ(e).then(i=>{try{let s=JSON.parse(i);hd=WU(s)?s.contents.bundle:s}catch(s){r(s)}}).catch(i=>{r(i)});n(o)})}}function GU(...t){let e=t[0],n,r,o;if(typeof e=="string")n=e,r=e,t.splice(0,1),o=!t||typeof t[0]!="object"?t:t[0];else if(e instanceof Array){let s=t.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return GU(a,...s)}else r=e.message,n=r,e.comment&&e.comment.length>0&&(n+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),o=e.args??{};let i=hd==null?void 0:hd[n];return i?typeof i=="string"?Ky(i,o):i.comment?Ky(i.message,o):Ky(r,o):Ky(r,o)}var vQ=/{([^}]+)}/g;function Ky(t,e){return t.replace(vQ,(n,r)=>e[r]??n)}function WU(t){var e;return typeof((e=t==null?void 0:t.contents)==null?void 0:e.bundle)=="object"&&typeof(t==null?void 0:t.version)=="string"}});var yM=F((VCe,wM)=>{var yp=1e3,Ep=yp*60,Cp=Ep*60,xd=Cp*24,AQ=xd*7,OQ=xd*365.25;wM.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return FQ(t);if(n==="number"&&isFinite(t))return e.long?MQ(t):UQ(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function FQ(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*OQ;case"weeks":case"week":case"w":return n*AQ;case"days":case"day":case"d":return n*xd;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Cp;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ep;case"seconds":case"second":case"secs":case"sec":case"s":return n*yp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function UQ(t){var e=Math.abs(t);return e>=xd?Math.round(t/xd)+"d":e>=Cp?Math.round(t/Cp)+"h":e>=Ep?Math.round(t/Ep)+"m":e>=yp?Math.round(t/yp)+"s":t+"ms"}function MQ(t){var e=Math.abs(t);return e>=xd?aE(t,e,xd,"day"):e>=Cp?aE(t,e,Cp,"hour"):e>=Ep?aE(t,e,Ep,"minute"):e>=yp?aE(t,e,yp,"second"):t+" ms"}function aE(t,e,n,r){var o=e>=n*1.5;return Math.round(t/n)+" "+r+(o?"s":"")}});var XI=F((zCe,EM)=>{function $Q(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=yM(),n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,f=null,p,m;function h(...v){if(!h.enabled)return;let g=h,w=Number(new Date),x=w-(d||w);g.diff=x,g.prev=d,g.curr=w,d=w,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let y=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(T,k)=>{if(T==="%%")return"%";y++;let R=n.formatters[k];if(typeof R=="function"){let b=v[y];T=R.call(g,b),v.splice(y,1),y--}return T}),n.formatArgs.call(g,v),(g.log||n.log).apply(g,v)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==n.namespaces&&(p=n.namespaces,m=n.enabled(u)),m),set:v=>{f=v}}),typeof n.init=="function"&&n.init(h),h}function r(u,d){let f=n(this.namespace+(typeof d>"u"?":":d)+u);return f.log=this.log,f}function o(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){let u=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}EM.exports=$Q});var CM=F((Ko,cE)=>{Ko.formatArgs=HQ;Ko.save=BQ;Ko.load=qQ;Ko.useColors=jQ;Ko.storage=WQ();Ko.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ko.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function jQ(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function HQ(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+cE.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),t.splice(r,0,e)}Ko.log=console.debug||console.log||(()=>{});function BQ(t){try{t?Ko.storage.setItem("debug",t):Ko.storage.removeItem("debug")}catch{}}function qQ(){let t;try{t=Ko.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function WQ(){try{return localStorage}catch{}}cE.exports=XI()(Ko);var{formatters:YQ}=cE.exports;YQ.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var _M=F((GCe,bM)=>{"use strict";bM.exports=(t,e)=>{e=e||process.argv;let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),o=e.indexOf("--");return r!==-1&&(o===-1?!0:r<o)}});var DM=F((KCe,SM)=>{"use strict";var VQ=require("os"),Qi=_M(),Rr=process.env,bp;Qi("no-color")||Qi("no-colors")||Qi("color=false")?bp=!1:(Qi("color")||Qi("colors")||Qi("color=true")||Qi("color=always"))&&(bp=!0);"FORCE_COLOR"in Rr&&(bp=Rr.FORCE_COLOR.length===0||parseInt(Rr.FORCE_COLOR,10)!==0);function zQ(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function GQ(t){if(bp===!1)return 0;if(Qi("color=16m")||Qi("color=full")||Qi("color=truecolor"))return 3;if(Qi("color=256"))return 2;if(t&&!t.isTTY&&bp!==!0)return 0;let e=bp?1:0;if(process.platform==="win32"){let n=VQ.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Rr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Rr)||Rr.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Rr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Rr.TEAMCITY_VERSION)?1:0;if(Rr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Rr){let n=parseInt((Rr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Rr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Rr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Rr.TERM)||"COLORTERM"in Rr?1:(Rr.TERM==="dumb",e)}function ZI(t){let e=GQ(t);return zQ(e)}SM.exports={supportsColor:ZI,stdout:ZI(process.stdout),stderr:ZI(process.stderr)}});var PM=F((vr,uE)=>{var KQ=require("tty"),lE=require("util");vr.init=nee;vr.log=QQ;vr.formatArgs=XQ;vr.save=eee;vr.load=tee;vr.useColors=JQ;vr.destroy=lE.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");vr.colors=[6,2,3,4,5,1];try{let t=DM();t&&(t.stderr||t).level>=2&&(vr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}vr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,i)=>i.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function JQ(){return"colors"in vr.inspectOpts?!!vr.inspectOpts.colors:KQ.isatty(process.stderr.fd)}function XQ(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),i=`  ${o};1m${e} \x1B[0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(o+"m+"+uE.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=ZQ()+e+" "+t[0]}function ZQ(){return vr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function QQ(...t){return process.stderr.write(lE.format(...t)+`
`)}function eee(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function tee(){return process.env.DEBUG}function nee(t){t.inspectOpts={};let e=Object.keys(vr.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=vr.inspectOpts[e[n]]}uE.exports=XI()(vr);var{formatters:IM}=uE.exports;IM.o=function(t){return this.inspectOpts.colors=this.useColors,lE.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};IM.O=function(t){return this.inspectOpts.colors=this.useColors,lE.inspect(t,this.inspectOpts)}});var dE=F((JCe,QI)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?QI.exports=CM():QI.exports=PM()});var kM=F((XCe,TM)=>{var nv;TM.exports=function(){if(!nv){try{nv=dE()("follow-redirects")}catch{}typeof nv!="function"&&(nv=function(){})}nv.apply(null,arguments)}});var av=F((ZCe,dP)=>{var iv=require("url"),rv=iv.URL,ree=require("http"),oee=require("https"),oP=require("stream").Writable,iP=require("assert"),RM=kM(),sP=!1;try{iP(new rv)}catch(t){sP=t.code==="ERR_INVALID_URL"}var iee=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],aP=["abort","aborted","connect","error","socket","timeout"],cP=Object.create(null);aP.forEach(function(t){cP[t]=function(e,n,r){this._redirectable.emit(t,e,n,r)}});var tP=sv("ERR_INVALID_URL","Invalid URL",TypeError),nP=sv("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),see=sv("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",nP),aee=sv("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),cee=sv("ERR_STREAM_WRITE_AFTER_END","write after end"),lee=oP.prototype.destroy||LM;function Eo(t,e){oP.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var n=this;this._onNativeResponse=function(r){try{n._processResponse(r)}catch(o){n.emit("error",o instanceof nP?o:new nP({cause:o}))}},this._performRequest()}Eo.prototype=Object.create(oP.prototype);Eo.prototype.abort=function(){uP(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Eo.prototype.destroy=function(t){return uP(this._currentRequest,t),lee.call(this,t),this};Eo.prototype.write=function(t,e,n){if(this._ending)throw new cee;if(!wd(t)&&!fee(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(ov(e)&&(n=e,e=null),t.length===0){n&&n();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,n)):(this.emit("error",new aee),this.abort())};Eo.prototype.end=function(t,e,n){if(ov(t)?(n=t,t=e=null):ov(e)&&(n=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,n);else{var r=this,o=this._currentRequest;this.write(t,e,function(){r._ended=!0,o.end(null,null,n)}),this._ending=!0}};Eo.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Eo.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Eo.prototype.setTimeout=function(t,e){var n=this;function r(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function o(s){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.emit("timeout"),i()},t),r(s)}function i(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",i),n.removeListener("error",i),n.removeListener("response",i),n.removeListener("close",i),e&&n.removeListener("timeout",e),n.socket||n._currentRequest.removeListener("socket",o)}return e&&this.on("timeout",e),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",r),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Eo.prototype[t]=function(e,n){return this._currentRequest[t](e,n)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Eo.prototype,t,{get:function(){return this._currentRequest[t]}})});Eo.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Eo.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var n=t.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=e.request(this._options,this._onNativeResponse);r._redirectable=this;for(var o of aP)r.on(o,cP[o]);if(this._currentUrl=/^\//.test(this._options.path)?iv.format(this._options):this._options.path,this._isRedirect){var i=0,s=this,a=this._requestBodyBuffers;(function c(l){if(r===s._currentRequest)if(l)s.emit("error",l);else if(i<a.length){var u=a[i++];r.finished||r.write(u.data,u.encoding,c)}else s._ended&&r.end()})()}};Eo.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var n=t.headers.location;if(!n||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(uP(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new see;var r,o=this._options.beforeRedirect;o&&(r=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var i=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],eP(/^content-/i,this._options.headers));var s=eP(/^host$/i,this._options.headers),a=lP(this._currentUrl),c=s||a.host,l=/^\w+:/.test(n)?this._currentUrl:iv.format(Object.assign(a,{host:c})),u=uee(n,l);if(RM("redirecting to",u.href),this._isRedirect=!0,rP(u,this._options),(u.protocol!==a.protocol&&u.protocol!=="https:"||u.host!==c&&!dee(u.host,c))&&eP(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),ov(o)){var d={headers:t.headers,statusCode:e},f={url:l,method:i,headers:r};o(this._options,d,f),this._sanitizeOptions(this._options)}this._performRequest()};function NM(t){var e={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(t).forEach(function(r){var o=r+":",i=n[o]=t[r],s=e[r]=Object.create(i);function a(l,u,d){return pee(l)?l=rP(l):wd(l)?l=rP(lP(l)):(d=u,u=AM(l),l={protocol:o}),ov(u)&&(d=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},l,u),u.nativeProtocols=n,!wd(u.host)&&!wd(u.hostname)&&(u.hostname="::1"),iP.equal(u.protocol,o,"protocol mismatch"),RM("options",u),new Eo(u,d)}function c(l,u,d){var f=s.request(l,u,d);return f.end(),f}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function LM(){}function lP(t){var e;if(sP)e=new rv(t);else if(e=AM(iv.parse(t)),!wd(e.protocol))throw new tP({input:t});return e}function uee(t,e){return sP?new rv(t,e):lP(iv.resolve(e,t))}function AM(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new tP({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new tP({input:t.href||t});return t}function rP(t,e){var n=e||{};for(var r of iee)n[r]=t[r];return n.hostname.startsWith("[")&&(n.hostname=n.hostname.slice(1,-1)),n.port!==""&&(n.port=Number(n.port)),n.path=n.search?n.pathname+n.search:n.pathname,n}function eP(t,e){var n;for(var r in e)t.test(r)&&(n=e[r],delete e[r]);return n===null||typeof n>"u"?void 0:String(n).trim()}function sv(t,e,n){function r(o){Error.captureStackTrace(this,this.constructor),Object.assign(this,o||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return r.prototype=new(n||Error),Object.defineProperties(r.prototype,{constructor:{value:r,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),r}function uP(t,e){for(var n of aP)t.removeListener(n,cP[n]);t.on("error",LM),t.destroy(e)}function dee(t,e){iP(wd(t)&&wd(e));var n=t.length-e.length-1;return n>0&&t[n]==="."&&t.endsWith(e)}function wd(t){return typeof t=="string"||t instanceof String}function ov(t){return typeof t=="function"}function fee(t){return typeof t=="object"&&"length"in t}function pee(t){return rv&&t instanceof rv}dP.exports=NM({http:ree,https:oee});dP.exports.wrap=NM});var _p=F((QCe,FM)=>{"use strict";var OM=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);FM.exports=t=>t?Object.keys(t).map(e=>[OM.has(e)?OM.get(e):e,t[e]]).reduce((e,n)=>(e[n[0]]=n[1],e),Object.create(null)):{}});var xE=F(VM=>{"use strict";var UM=typeof process=="object"&&process?process:{stdout:null,stderr:null},mee=require("events"),MM=require("stream"),hee=require("string_decoder"),$M=hee.StringDecoder,Aa=Symbol("EOF"),Oa=Symbol("maybeEmitEnd"),il=Symbol("emittedEnd"),fE=Symbol("emittingEnd"),cv=Symbol("emittedError"),pE=Symbol("closed"),jM=Symbol("read"),mE=Symbol("flush"),HM=Symbol("flushChunk"),Co=Symbol("encoding"),Fa=Symbol("decoder"),hE=Symbol("flowing"),lv=Symbol("paused"),Sp=Symbol("resume"),mn=Symbol("buffer"),Ls=Symbol("pipes"),tr=Symbol("bufferLength"),fP=Symbol("bufferPush"),pP=Symbol("bufferShift"),xr=Symbol("objectMode"),hn=Symbol("destroyed"),mP=Symbol("error"),hP=Symbol("emitData"),BM=Symbol("emitEnd"),gP=Symbol("emitEnd2"),Ua=Symbol("async"),vP=Symbol("abort"),gE=Symbol("aborted"),yd=Symbol("signal"),uv=t=>Promise.resolve().then(t),YM=global._MP_NO_ITERATOR_SYMBOLS_!=="1",qM=YM&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),WM=YM&&Symbol.iterator||Symbol("iterator not implemented"),gee=t=>t==="end"||t==="finish"||t==="prefinish",vee=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,xee=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),vE=class{constructor(e,n,r){this.src=e,this.dest=n,this.opts=r,this.ondrain=()=>e[Sp](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},xP=class extends vE{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,n,r){super(e,n,r),this.proxyErrors=o=>n.emit("error",o),e.on("error",this.proxyErrors)}},wP=class t extends MM{constructor(e){super(),this[hE]=!1,this[lv]=!1,this[Ls]=[],this[mn]=[],this[xr]=e&&e.objectMode||!1,this[xr]?this[Co]=null:this[Co]=e&&e.encoding||null,this[Co]==="buffer"&&(this[Co]=null),this[Ua]=e&&!!e.async||!1,this[Fa]=this[Co]?new $M(this[Co]):null,this[Aa]=!1,this[il]=!1,this[fE]=!1,this[pE]=!1,this[cv]=null,this.writable=!0,this.readable=!0,this[tr]=0,this[hn]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[mn]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Ls]}),this[yd]=e&&e.signal,this[gE]=!1,this[yd]&&(this[yd].addEventListener("abort",()=>this[vP]()),this[yd].aborted&&this[vP]())}get bufferLength(){return this[tr]}get encoding(){return this[Co]}set encoding(e){if(this[xr])throw new Error("cannot set encoding in objectMode");if(this[Co]&&e!==this[Co]&&(this[Fa]&&this[Fa].lastNeed||this[tr]))throw new Error("cannot change encoding");this[Co]!==e&&(this[Fa]=e?new $M(e):null,this[mn].length&&(this[mn]=this[mn].map(n=>this[Fa].write(n)))),this[Co]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[xr]}set objectMode(e){this[xr]=this[xr]||!!e}get async(){return this[Ua]}set async(e){this[Ua]=this[Ua]||!!e}[vP](){this[gE]=!0,this.emit("abort",this[yd].reason),this.destroy(this[yd].reason)}get aborted(){return this[gE]}set aborted(e){}write(e,n,r){if(this[gE])return!1;if(this[Aa])throw new Error("write after end");if(this[hn])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let o=this[Ua]?uv:i=>i();return!this[xr]&&!Buffer.isBuffer(e)&&(xee(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):vee(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[xr]?(this.flowing&&this[tr]!==0&&this[mE](!0),this.flowing?this.emit("data",e):this[fP](e),this[tr]!==0&&this.emit("readable"),r&&o(r),this.flowing):e.length?(typeof e=="string"&&!(n===this[Co]&&!this[Fa].lastNeed)&&(e=Buffer.from(e,n)),Buffer.isBuffer(e)&&this[Co]&&(e=this[Fa].write(e)),this.flowing&&this[tr]!==0&&this[mE](!0),this.flowing?this.emit("data",e):this[fP](e),this[tr]!==0&&this.emit("readable"),r&&o(r),this.flowing):(this[tr]!==0&&this.emit("readable"),r&&o(r),this.flowing)}read(e){if(this[hn])return null;if(this[tr]===0||e===0||e>this[tr])return this[Oa](),null;this[xr]&&(e=null),this[mn].length>1&&!this[xr]&&(this.encoding?this[mn]=[this[mn].join("")]:this[mn]=[Buffer.concat(this[mn],this[tr])]);let n=this[jM](e||null,this[mn][0]);return this[Oa](),n}[jM](e,n){return e===n.length||e===null?this[pP]():(this[mn][0]=n.slice(e),n=n.slice(0,e),this[tr]-=e),this.emit("data",n),!this[mn].length&&!this[Aa]&&this.emit("drain"),n}end(e,n,r){return typeof e=="function"&&(r=e,e=null),typeof n=="function"&&(r=n,n="utf8"),e&&this.write(e,n),r&&this.once("end",r),this[Aa]=!0,this.writable=!1,(this.flowing||!this[lv])&&this[Oa](),this}[Sp](){this[hn]||(this[lv]=!1,this[hE]=!0,this.emit("resume"),this[mn].length?this[mE]():this[Aa]?this[Oa]():this.emit("drain"))}resume(){return this[Sp]()}pause(){this[hE]=!1,this[lv]=!0}get destroyed(){return this[hn]}get flowing(){return this[hE]}get paused(){return this[lv]}[fP](e){this[xr]?this[tr]+=1:this[tr]+=e.length,this[mn].push(e)}[pP](){return this[xr]?this[tr]-=1:this[tr]-=this[mn][0].length,this[mn].shift()}[mE](e){do;while(this[HM](this[pP]())&&this[mn].length);!e&&!this[mn].length&&!this[Aa]&&this.emit("drain")}[HM](e){return this.emit("data",e),this.flowing}pipe(e,n){if(this[hn])return;let r=this[il];return n=n||{},e===UM.stdout||e===UM.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&e.end():(this[Ls].push(n.proxyErrors?new xP(this,e,n):new vE(this,e,n)),this[Ua]?uv(()=>this[Sp]()):this[Sp]()),e}unpipe(e){let n=this[Ls].find(r=>r.dest===e);n&&(this[Ls].splice(this[Ls].indexOf(n),1),n.unpipe())}addListener(e,n){return this.on(e,n)}on(e,n){let r=super.on(e,n);return e==="data"&&!this[Ls].length&&!this.flowing?this[Sp]():e==="readable"&&this[tr]!==0?super.emit("readable"):gee(e)&&this[il]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[cv]&&(this[Ua]?uv(()=>n.call(this,this[cv])):n.call(this,this[cv])),r}get emittedEnd(){return this[il]}[Oa](){!this[fE]&&!this[il]&&!this[hn]&&this[mn].length===0&&this[Aa]&&(this[fE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[pE]&&this.emit("close"),this[fE]=!1)}emit(e,n,...r){if(e!=="error"&&e!=="close"&&e!==hn&&this[hn])return;if(e==="data")return!this[xr]&&!n?!1:this[Ua]?uv(()=>this[hP](n)):this[hP](n);if(e==="end")return this[BM]();if(e==="close"){if(this[pE]=!0,!this[il]&&!this[hn])return;let i=super.emit("close");return this.removeAllListeners("close"),i}else if(e==="error"){this[cv]=n,super.emit(mP,n);let i=!this[yd]||this.listeners("error").length?super.emit("error",n):!1;return this[Oa](),i}else if(e==="resume"){let i=super.emit("resume");return this[Oa](),i}else if(e==="finish"||e==="prefinish"){let i=super.emit(e);return this.removeAllListeners(e),i}let o=super.emit(e,n,...r);return this[Oa](),o}[hP](e){for(let r of this[Ls])r.dest.write(e)===!1&&this.pause();let n=super.emit("data",e);return this[Oa](),n}[BM](){this[il]||(this[il]=!0,this.readable=!1,this[Ua]?uv(()=>this[gP]()):this[gP]())}[gP](){if(this[Fa]){let n=this[Fa].end();if(n){for(let r of this[Ls])r.dest.write(n);super.emit("data",n)}}for(let n of this[Ls])n.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[xr]||(e.dataLength=0);let n=this.promise();return this.on("data",r=>{e.push(r),this[xr]||(e.dataLength+=r.length)}),n.then(()=>e)}concat(){return this[xr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[xr]?Promise.reject(new Error("cannot concat in objectMode")):this[Co]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,n)=>{this.on(hn,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>e())})}[qM](){let e=!1,n=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return n();let o=this.read();if(o!==null)return Promise.resolve({done:!1,value:o});if(this[Aa])return n();let i=null,s=null,a=d=>{this.removeListener("data",c),this.removeListener("end",l),this.removeListener(hn,u),n(),s(d)},c=d=>{this.removeListener("error",a),this.removeListener("end",l),this.removeListener(hn,u),this.pause(),i({value:d,done:!!this[Aa]})},l=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(hn,u),n(),i({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,f)=>{s=f,i=d,this.once(hn,u),this.once("error",a),this.once("end",l),this.once("data",c)})},throw:n,return:n,[qM](){return this}}}[WM](){let e=!1,n=()=>(this.pause(),this.removeListener(mP,n),this.removeListener(hn,n),this.removeListener("end",n),e=!0,{done:!0}),r=()=>{if(e)return n();let o=this.read();return o===null?n():{value:o}};return this.once("end",n),this.once(mP,n),this.once(hn,n),{next:r,throw:n,return:n,[WM](){return this}}}destroy(e){return this[hn]?(e?this.emit("error",e):this.emit(hn),this):(this[hn]=!0,this[mn].length=0,this[tr]=0,typeof this.close=="function"&&!this[pE]&&this.close(),e?this.emit("error",e):this.emit(hn),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof MM||e instanceof mee&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};VM.Minipass=wP});var GM=F((tbe,zM)=>{var wee=require("zlib").constants||{ZLIB_VERNUM:4736};zM.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},wee))});var SP=F((nbe,r$)=>{"use strict";var KM=typeof process=="object"&&process?process:{stdout:null,stderr:null},yee=require("events"),JM=require("stream"),XM=require("string_decoder").StringDecoder,Ma=Symbol("EOF"),$a=Symbol("maybeEmitEnd"),sl=Symbol("emittedEnd"),wE=Symbol("emittingEnd"),dv=Symbol("emittedError"),yE=Symbol("closed"),ZM=Symbol("read"),EE=Symbol("flush"),QM=Symbol("flushChunk"),bo=Symbol("encoding"),ja=Symbol("decoder"),CE=Symbol("flowing"),fv=Symbol("paused"),Dp=Symbol("resume"),nr=Symbol("bufferLength"),yP=Symbol("bufferPush"),EP=Symbol("bufferShift"),Nr=Symbol("objectMode"),Lr=Symbol("destroyed"),CP=Symbol("emitData"),e$=Symbol("emitEnd"),bP=Symbol("emitEnd2"),Ha=Symbol("async"),pv=t=>Promise.resolve().then(t),t$=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Eee=t$&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Cee=t$&&Symbol.iterator||Symbol("iterator not implemented"),bee=t=>t==="end"||t==="finish"||t==="prefinish",_ee=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,See=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),bE=class{constructor(e,n,r){this.src=e,this.dest=n,this.opts=r,this.ondrain=()=>e[Dp](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},_P=class extends bE{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,n,r){super(e,n,r),this.proxyErrors=o=>n.emit("error",o),e.on("error",this.proxyErrors)}};r$.exports=class n$ extends JM{constructor(e){super(),this[CE]=!1,this[fv]=!1,this.pipes=[],this.buffer=[],this[Nr]=e&&e.objectMode||!1,this[Nr]?this[bo]=null:this[bo]=e&&e.encoding||null,this[bo]==="buffer"&&(this[bo]=null),this[Ha]=e&&!!e.async||!1,this[ja]=this[bo]?new XM(this[bo]):null,this[Ma]=!1,this[sl]=!1,this[wE]=!1,this[yE]=!1,this[dv]=null,this.writable=!0,this.readable=!0,this[nr]=0,this[Lr]=!1}get bufferLength(){return this[nr]}get encoding(){return this[bo]}set encoding(e){if(this[Nr])throw new Error("cannot set encoding in objectMode");if(this[bo]&&e!==this[bo]&&(this[ja]&&this[ja].lastNeed||this[nr]))throw new Error("cannot change encoding");this[bo]!==e&&(this[ja]=e?new XM(e):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[ja].write(n)))),this[bo]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[Nr]}set objectMode(e){this[Nr]=this[Nr]||!!e}get async(){return this[Ha]}set async(e){this[Ha]=this[Ha]||!!e}write(e,n,r){if(this[Ma])throw new Error("write after end");if(this[Lr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let o=this[Ha]?pv:i=>i();return!this[Nr]&&!Buffer.isBuffer(e)&&(See(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):_ee(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[Nr]?(this.flowing&&this[nr]!==0&&this[EE](!0),this.flowing?this.emit("data",e):this[yP](e),this[nr]!==0&&this.emit("readable"),r&&o(r),this.flowing):e.length?(typeof e=="string"&&!(n===this[bo]&&!this[ja].lastNeed)&&(e=Buffer.from(e,n)),Buffer.isBuffer(e)&&this[bo]&&(e=this[ja].write(e)),this.flowing&&this[nr]!==0&&this[EE](!0),this.flowing?this.emit("data",e):this[yP](e),this[nr]!==0&&this.emit("readable"),r&&o(r),this.flowing):(this[nr]!==0&&this.emit("readable"),r&&o(r),this.flowing)}read(e){if(this[Lr])return null;if(this[nr]===0||e===0||e>this[nr])return this[$a](),null;this[Nr]&&(e=null),this.buffer.length>1&&!this[Nr]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[nr])]);let n=this[ZM](e||null,this.buffer[0]);return this[$a](),n}[ZM](e,n){return e===n.length||e===null?this[EP]():(this.buffer[0]=n.slice(e),n=n.slice(0,e),this[nr]-=e),this.emit("data",n),!this.buffer.length&&!this[Ma]&&this.emit("drain"),n}end(e,n,r){return typeof e=="function"&&(r=e,e=null),typeof n=="function"&&(r=n,n="utf8"),e&&this.write(e,n),r&&this.once("end",r),this[Ma]=!0,this.writable=!1,(this.flowing||!this[fv])&&this[$a](),this}[Dp](){this[Lr]||(this[fv]=!1,this[CE]=!0,this.emit("resume"),this.buffer.length?this[EE]():this[Ma]?this[$a]():this.emit("drain"))}resume(){return this[Dp]()}pause(){this[CE]=!1,this[fv]=!0}get destroyed(){return this[Lr]}get flowing(){return this[CE]}get paused(){return this[fv]}[yP](e){this[Nr]?this[nr]+=1:this[nr]+=e.length,this.buffer.push(e)}[EP](){return this.buffer.length&&(this[Nr]?this[nr]-=1:this[nr]-=this.buffer[0].length),this.buffer.shift()}[EE](e){do;while(this[QM](this[EP]()));!e&&!this.buffer.length&&!this[Ma]&&this.emit("drain")}[QM](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,n){if(this[Lr])return;let r=this[sl];return n=n||{},e===KM.stdout||e===KM.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&e.end():(this.pipes.push(n.proxyErrors?new _P(this,e,n):new bE(this,e,n)),this[Ha]?pv(()=>this[Dp]()):this[Dp]()),e}unpipe(e){let n=this.pipes.find(r=>r.dest===e);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(e,n){return this.on(e,n)}on(e,n){let r=super.on(e,n);return e==="data"&&!this.pipes.length&&!this.flowing?this[Dp]():e==="readable"&&this[nr]!==0?super.emit("readable"):bee(e)&&this[sl]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[dv]&&(this[Ha]?pv(()=>n.call(this,this[dv])):n.call(this,this[dv])),r}get emittedEnd(){return this[sl]}[$a](){!this[wE]&&!this[sl]&&!this[Lr]&&this.buffer.length===0&&this[Ma]&&(this[wE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[yE]&&this.emit("close"),this[wE]=!1)}emit(e,n,...r){if(e!=="error"&&e!=="close"&&e!==Lr&&this[Lr])return;if(e==="data")return n?this[Ha]?pv(()=>this[CP](n)):this[CP](n):!1;if(e==="end")return this[e$]();if(e==="close"){if(this[yE]=!0,!this[sl]&&!this[Lr])return;let i=super.emit("close");return this.removeAllListeners("close"),i}else if(e==="error"){this[dv]=n;let i=super.emit("error",n);return this[$a](),i}else if(e==="resume"){let i=super.emit("resume");return this[$a](),i}else if(e==="finish"||e==="prefinish"){let i=super.emit(e);return this.removeAllListeners(e),i}let o=super.emit(e,n,...r);return this[$a](),o}[CP](e){for(let r of this.pipes)r.dest.write(e)===!1&&this.pause();let n=super.emit("data",e);return this[$a](),n}[e$](){this[sl]||(this[sl]=!0,this.readable=!1,this[Ha]?pv(()=>this[bP]()):this[bP]())}[bP](){if(this[ja]){let n=this[ja].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[Nr]||(e.dataLength=0);let n=this.promise();return this.on("data",r=>{e.push(r),this[Nr]||(e.dataLength+=r.length)}),n.then(()=>e)}concat(){return this[Nr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[Nr]?Promise.reject(new Error("cannot concat in objectMode")):this[bo]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,n)=>{this.on(Lr,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>e())})}[Eee](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[Ma])return Promise.resolve({done:!0});let r=null,o=null,i=l=>{this.removeListener("data",s),this.removeListener("end",a),o(l)},s=l=>{this.removeListener("error",i),this.removeListener("end",a),this.pause(),r({value:l,done:!!this[Ma]})},a=()=>{this.removeListener("error",i),this.removeListener("data",s),r({done:!0})},c=()=>i(new Error("stream destroyed"));return new Promise((l,u)=>{o=u,r=l,this.once(Lr,c),this.once("error",i),this.once("end",a),this.once("data",s)})}}}[Cee](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(e){return this[Lr]?(e?this.emit("error",e):this.emit(Lr),this):(this[Lr]=!0,this.buffer.length=0,this[nr]=0,typeof this.close=="function"&&!this[yE]&&this.close(),e?this.emit("error",e):this.emit(Lr),this)}static isStream(e){return!!e&&(e instanceof n$||e instanceof JM||e instanceof yee&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var HP=F(Jo=>{"use strict";var kP=require("assert"),al=require("buffer").Buffer,s$=require("zlib"),Ed=Jo.constants=GM(),Dee=SP(),o$=al.concat,Cd=Symbol("_superWrite"),Pp=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Iee=Symbol("opts"),mv=Symbol("flushFlag"),i$=Symbol("finishFlushFlag"),jP=Symbol("fullFlushFlag"),Rt=Symbol("handle"),_E=Symbol("onError"),Ip=Symbol("sawError"),DP=Symbol("level"),IP=Symbol("strategy"),PP=Symbol("ended"),rbe=Symbol("_defaultFullFlush"),SE=class extends Dee{constructor(e,n){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[Ip]=!1,this[PP]=!1,this[Iee]=e,this[mv]=e.flush,this[i$]=e.finishFlush;try{this[Rt]=new s$[n](e)}catch(r){throw new Pp(r)}this[_E]=r=>{this[Ip]||(this[Ip]=!0,this.close(),this.emit("error",r))},this[Rt].on("error",r=>this[_E](new Pp(r))),this.once("end",()=>this.close)}close(){this[Rt]&&(this[Rt].close(),this[Rt]=null,this.emit("close"))}reset(){if(!this[Ip])return kP(this[Rt],"zlib binding closed"),this[Rt].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[jP]),this.write(Object.assign(al.alloc(0),{[mv]:e})))}end(e,n,r){return e&&this.write(e,n),this.flush(this[i$]),this[PP]=!0,super.end(null,null,r)}get ended(){return this[PP]}write(e,n,r){if(typeof n=="function"&&(r=n,n="utf8"),typeof e=="string"&&(e=al.from(e,n)),this[Ip])return;kP(this[Rt],"zlib binding closed");let o=this[Rt]._handle,i=o.close;o.close=()=>{};let s=this[Rt].close;this[Rt].close=()=>{},al.concat=l=>l;let a;try{let l=typeof e[mv]=="number"?e[mv]:this[mv];a=this[Rt]._processChunk(e,l),al.concat=o$}catch(l){al.concat=o$,this[_E](new Pp(l))}finally{this[Rt]&&(this[Rt]._handle=o,o.close=i,this[Rt].close=s,this[Rt].removeAllListeners("error"))}this[Rt]&&this[Rt].on("error",l=>this[_E](new Pp(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[Cd](al.from(a[0]));for(let l=1;l<a.length;l++)c=this[Cd](a[l])}else c=this[Cd](al.from(a));return r&&r(),c}[Cd](e){return super.write(e)}},Ba=class extends SE{constructor(e,n){e=e||{},e.flush=e.flush||Ed.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Ed.Z_FINISH,super(e,n),this[jP]=Ed.Z_FULL_FLUSH,this[DP]=e.level,this[IP]=e.strategy}params(e,n){if(!this[Ip]){if(!this[Rt])throw new Error("cannot switch params when binding is closed");if(!this[Rt].params)throw new Error("not supported in this implementation");if(this[DP]!==e||this[IP]!==n){this.flush(Ed.Z_SYNC_FLUSH),kP(this[Rt],"zlib binding closed");let r=this[Rt].flush;this[Rt].flush=(o,i)=>{this.flush(o),i()};try{this[Rt].params(e,n)}finally{this[Rt].flush=r}this[Rt]&&(this[DP]=e,this[IP]=n)}}}},RP=class extends Ba{constructor(e){super(e,"Deflate")}},NP=class extends Ba{constructor(e){super(e,"Inflate")}},TP=Symbol("_portable"),LP=class extends Ba{constructor(e){super(e,"Gzip"),this[TP]=e&&!!e.portable}[Cd](e){return this[TP]?(this[TP]=!1,e[9]=255,super[Cd](e)):super[Cd](e)}},AP=class extends Ba{constructor(e){super(e,"Gunzip")}},OP=class extends Ba{constructor(e){super(e,"DeflateRaw")}},FP=class extends Ba{constructor(e){super(e,"InflateRaw")}},UP=class extends Ba{constructor(e){super(e,"Unzip")}},DE=class extends SE{constructor(e,n){e=e||{},e.flush=e.flush||Ed.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Ed.BROTLI_OPERATION_FINISH,super(e,n),this[jP]=Ed.BROTLI_OPERATION_FLUSH}},MP=class extends DE{constructor(e){super(e,"BrotliCompress")}},$P=class extends DE{constructor(e){super(e,"BrotliDecompress")}};Jo.Deflate=RP;Jo.Inflate=NP;Jo.Gzip=LP;Jo.Gunzip=AP;Jo.DeflateRaw=OP;Jo.InflateRaw=FP;Jo.Unzip=UP;typeof s$.BrotliCompress=="function"?(Jo.BrotliCompress=MP,Jo.BrotliDecompress=$P):Jo.BrotliCompress=Jo.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Tp=F((sbe,a$)=>{var Pee=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;a$.exports=Pee!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var IE=F((cbe,c$)=>{"use strict";var{Minipass:Tee}=xE(),BP=Tp(),qP=Symbol("slurp");c$.exports=class extends Tee{constructor(e,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=BP(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=BP(e.linkpath),this.uname=e.uname,this.gname=e.gname,n&&this[qP](n),r&&this[qP](r,!0)}write(e){let n=e.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,o=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,o-n),this.ignore?!0:r>=n?super.write(e):super.write(e.slice(0,r))}[qP](e,n){for(let r in e)e[r]!==null&&e[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?BP(e[r]):e[r])}}});var WP=F(PE=>{"use strict";PE.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);PE.code=new Map(Array.from(PE.name).map(t=>[t[1],t[0]]))});var f$=F((ube,d$)=>{"use strict";var kee=(t,e)=>{if(Number.isSafeInteger(t))t<0?Nee(t,e):Ree(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},Ree=(t,e)=>{e[0]=128;for(var n=e.length;n>1;n--)e[n-1]=t&255,t=Math.floor(t/256)},Nee=(t,e)=>{e[0]=255;var n=!1;t=t*-1;for(var r=e.length;r>1;r--){var o=t&255;t=Math.floor(t/256),n?e[r-1]=l$(o):o===0?e[r-1]=0:(n=!0,e[r-1]=u$(o))}},Lee=t=>{let e=t[0],n=e===128?Oee(t.slice(1,t.length)):e===255?Aee(t):null;if(n===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n},Aee=t=>{for(var e=t.length,n=0,r=!1,o=e-1;o>-1;o--){var i=t[o],s;r?s=l$(i):i===0?s=i:(r=!0,s=u$(i)),s!==0&&(n-=s*Math.pow(256,e-o-1))}return n},Oee=t=>{for(var e=t.length,n=0,r=e-1;r>-1;r--){var o=t[r];o!==0&&(n+=o*Math.pow(256,e-r-1))}return n},l$=t=>(255^t)&255,u$=t=>(255^t)+1&255;d$.exports={encode:kee,parse:Lee}});var Rp=F((dbe,m$)=>{"use strict";var YP=WP(),kp=require("path").posix,p$=f$(),VP=Symbol("slurp"),Xo=Symbol("type"),KP=class{constructor(e,n,r,o){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Xo]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,n||0,r,o):e&&this.set(e)}decode(e,n,r,o){if(n||(n=0),!e||!(e.length>=n+512))throw new Error("need 512 bytes for header");if(this.path=bd(e,n,100),this.mode=cl(e,n+100,8),this.uid=cl(e,n+108,8),this.gid=cl(e,n+116,8),this.size=cl(e,n+124,12),this.mtime=zP(e,n+136,12),this.cksum=cl(e,n+148,12),this[VP](r),this[VP](o,!0),this[Xo]=bd(e,n+156,1),this[Xo]===""&&(this[Xo]="0"),this[Xo]==="0"&&this.path.slice(-1)==="/"&&(this[Xo]="5"),this[Xo]==="5"&&(this.size=0),this.linkpath=bd(e,n+157,100),e.slice(n+257,n+265).toString()==="ustar\x0000")if(this.uname=bd(e,n+265,32),this.gname=bd(e,n+297,32),this.devmaj=cl(e,n+329,8),this.devmin=cl(e,n+337,8),e[n+475]!==0){let s=bd(e,n+345,155);this.path=s+"/"+this.path}else{let s=bd(e,n+345,130);s&&(this.path=s+"/"+this.path),this.atime=zP(e,n+476,12),this.ctime=zP(e,n+488,12)}let i=8*32;for(let s=n;s<n+148;s++)i+=e[s];for(let s=n+156;s<n+512;s++)i+=e[s];this.cksumValid=i===this.cksum,this.cksum===null&&i===8*32&&(this.nullBlock=!0)}[VP](e,n){for(let r in e)e[r]!==null&&e[r]!==void 0&&!(n&&r==="path")&&(this[r]=e[r])}encode(e,n){if(e||(e=this.block=Buffer.alloc(512),n=0),n||(n=0),!(e.length>=n+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,o=Fee(this.path||"",r),i=o[0],s=o[1];this.needPax=o[2],this.needPax=_d(e,n,100,i)||this.needPax,this.needPax=ll(e,n+100,8,this.mode)||this.needPax,this.needPax=ll(e,n+108,8,this.uid)||this.needPax,this.needPax=ll(e,n+116,8,this.gid)||this.needPax,this.needPax=ll(e,n+124,12,this.size)||this.needPax,this.needPax=GP(e,n+136,12,this.mtime)||this.needPax,e[n+156]=this[Xo].charCodeAt(0),this.needPax=_d(e,n+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",n+257,8),this.needPax=_d(e,n+265,32,this.uname)||this.needPax,this.needPax=_d(e,n+297,32,this.gname)||this.needPax,this.needPax=ll(e,n+329,8,this.devmaj)||this.needPax,this.needPax=ll(e,n+337,8,this.devmin)||this.needPax,this.needPax=_d(e,n+345,r,s)||this.needPax,e[n+475]!==0?this.needPax=_d(e,n+345,155,s)||this.needPax:(this.needPax=_d(e,n+345,130,s)||this.needPax,this.needPax=GP(e,n+476,12,this.atime)||this.needPax,this.needPax=GP(e,n+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=n;c<n+148;c++)a+=e[c];for(let c=n+156;c<n+512;c++)a+=e[c];return this.cksum=a,ll(e,n+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let n in e)e[n]!==null&&e[n]!==void 0&&(this[n]=e[n])}get type(){return YP.name.get(this[Xo])||this[Xo]}get typeKey(){return this[Xo]}set type(e){YP.code.has(e)?this[Xo]=YP.code.get(e):this[Xo]=e}},Fee=(t,e)=>{let r=t,o="",i,s=kp.parse(t).root||".";if(Buffer.byteLength(r)<100)i=[r,o,!1];else{o=kp.dirname(r),r=kp.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(o)<=e?i=[r,o,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(o)<=e?i=[r.slice(0,100-1),o,!0]:(r=kp.join(kp.basename(o),r),o=kp.dirname(o));while(o!==s&&!i);i||(i=[t.slice(0,100-1),"",!0])}return i},bd=(t,e,n)=>t.slice(e,e+n).toString("utf8").replace(/\0.*/,""),zP=(t,e,n)=>Uee(cl(t,e,n)),Uee=t=>t===null?null:new Date(t*1e3),cl=(t,e,n)=>t[e]&128?p$.parse(t.slice(e,e+n)):$ee(t,e,n),Mee=t=>isNaN(t)?null:t,$ee=(t,e,n)=>Mee(parseInt(t.slice(e,e+n).toString("utf8").replace(/\0.*$/,"").trim(),8)),jee={12:8589934591,8:2097151},ll=(t,e,n,r)=>r===null?!1:r>jee[n]||r<0?(p$.encode(r,t.slice(e,e+n)),!0):(Hee(t,e,n,r),!1),Hee=(t,e,n,r)=>t.write(Bee(r,n),e,n,"ascii"),Bee=(t,e)=>qee(Math.floor(t).toString(8),e),qee=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",GP=(t,e,n,r)=>r===null?!1:ll(t,e,n,r.getTime()/1e3),Wee=new Array(156).join("\0"),_d=(t,e,n,r)=>r===null?!1:(t.write(r+Wee,e,n,"utf8"),r.length!==Buffer.byteLength(r)||r.length>n);m$.exports=KP});var TE=F((fbe,h$)=>{"use strict";var Yee=Rp(),Vee=require("path"),hv=class{constructor(e,n){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=n||!1}encode(){let e=this.encodeBody();if(e==="")return null;let n=Buffer.byteLength(e),r=512*Math.ceil(1+n/512),o=Buffer.allocUnsafe(r);for(let i=0;i<512;i++)o[i]=0;new Yee({path:("PaxHeader/"+Vee.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:n,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(o),o.write(e,512,n,"utf8");for(let i=n+512;i<o.length;i++)o[i]=0;return o}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let n=this[e]instanceof Date?this[e].getTime()/1e3:this[e],r=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+n+`
`,o=Buffer.byteLength(r),i=Math.floor(Math.log(o)/Math.log(10))+1;return o+i>=Math.pow(10,i)&&(i+=1),i+o+r}};hv.parse=(t,e,n)=>new hv(zee(Gee(t),e),n);var zee=(t,e)=>e?Object.keys(t).reduce((n,r)=>(n[r]=t[r],n),e):t,Gee=t=>t.replace(/\n$/,"").split(`
`).reduce(Kee,Object.create(null)),Kee=(t,e)=>{let n=parseInt(e,10);if(n!==Buffer.byteLength(e)+1)return t;e=e.slice((n+" ").length);let r=e.split("="),o=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!o)return t;let i=r.join("=");return t[o]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(o)?new Date(i*1e3):/^[0-9]+$/.test(i)?+i:i,t};h$.exports=hv});var Np=F((pbe,g$)=>{g$.exports=t=>{let e=t.length-1,n=-1;for(;e>-1&&t.charAt(e)==="/";)n=e,e--;return n===-1?t:t.slice(0,n)}});var kE=F((mbe,v$)=>{"use strict";v$.exports=t=>class extends t{warn(e,n,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=n instanceof Error&&n.code||e,r.tarCode=e,!this.strict&&r.recoverable!==!1?(n instanceof Error&&(r=Object.assign(n,r),n=n.message),this.emit("warn",r.tarCode,n,r)):n instanceof Error?this.emit("error",Object.assign(n,r)):this.emit("error",Object.assign(new Error(`${e}: ${n}`),r))}}});var XP=F((gbe,x$)=>{"use strict";var RE=["|","<",">","?",":"],JP=RE.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),Jee=new Map(RE.map((t,e)=>[t,JP[e]])),Xee=new Map(JP.map((t,e)=>[t,RE[e]]));x$.exports={encode:t=>RE.reduce((e,n)=>e.split(n).join(Jee.get(n)),t),decode:t=>JP.reduce((e,n)=>e.split(n).join(Xee.get(n)),t)}});var ZP=F((vbe,y$)=>{var{isAbsolute:Zee,parse:w$}=require("path").win32;y$.exports=t=>{let e="",n=w$(t);for(;Zee(t)||n.root;){let r=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":n.root;t=t.slice(r.length),e+=r,n=w$(t)}return[e,t]}});var C$=F((xbe,E$)=>{"use strict";E$.exports=(t,e,n)=>(t&=4095,n&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var cT=F((Ebe,F$)=>{"use strict";var{Minipass:T$}=xE(),k$=TE(),R$=Rp(),Os=require("fs"),b$=require("path"),As=Tp(),Qee=Np(),N$=(t,e)=>e?(t=As(t).replace(/^\.(\/|$)/,""),Qee(e)+"/"+t):As(t),ete=16*1024*1024,_$=Symbol("process"),S$=Symbol("file"),D$=Symbol("directory"),eT=Symbol("symlink"),I$=Symbol("hardlink"),gv=Symbol("header"),NE=Symbol("read"),tT=Symbol("lstat"),LE=Symbol("onlstat"),nT=Symbol("onread"),rT=Symbol("onreadlink"),oT=Symbol("openfile"),iT=Symbol("onopenfile"),ul=Symbol("close"),AE=Symbol("mode"),sT=Symbol("awaitDrain"),QP=Symbol("ondrain"),Fs=Symbol("prefix"),P$=Symbol("hadError"),L$=kE(),tte=XP(),A$=ZP(),O$=C$(),OE=L$(class extends T${constructor(e,n){if(n=n||{},super(n),typeof e!="string")throw new TypeError("path is required");this.path=As(e),this.portable=!!n.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=n.maxReadSize||ete,this.linkCache=n.linkCache||new Map,this.statCache=n.statCache||new Map,this.preservePaths=!!n.preservePaths,this.cwd=As(n.cwd||process.cwd()),this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.mtime=n.mtime||null,this.prefix=n.prefix?As(n.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[o,i]=A$(this.path);o&&(this.path=i,r=o)}this.win32=!!n.win32||process.platform==="win32",this.win32&&(this.path=tte.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=As(n.absolute||b$.resolve(this.cwd,e)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[LE](this.statCache.get(this.absolute)):this[tT]()}emit(e,...n){return e==="error"&&(this[P$]=!0),super.emit(e,...n)}[tT](){Os.lstat(this.absolute,(e,n)=>{if(e)return this.emit("error",e);this[LE](n)})}[LE](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=rte(e),this.emit("stat",e),this[_$]()}[_$](){switch(this.type){case"File":return this[S$]();case"Directory":return this[D$]();case"SymbolicLink":return this[eT]();default:return this.end()}}[AE](e){return O$(e,this.type==="Directory",this.portable)}[Fs](e){return N$(e,this.prefix)}[gv](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new R$({path:this[Fs](this.path),linkpath:this.type==="Link"?this[Fs](this.linkpath):this.linkpath,mode:this[AE](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new k$({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Fs](this.path),linkpath:this.type==="Link"?this[Fs](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[D$](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[gv](),this.end()}[eT](){Os.readlink(this.absolute,(e,n)=>{if(e)return this.emit("error",e);this[rT](n)})}[rT](e){this.linkpath=As(e),this[gv](),this.end()}[I$](e){this.type="Link",this.linkpath=As(b$.relative(this.cwd,e)),this.stat.size=0,this[gv](),this.end()}[S$](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let n=this.linkCache.get(e);if(n.indexOf(this.cwd)===0)return this[I$](n)}this.linkCache.set(e,this.absolute)}if(this[gv](),this.stat.size===0)return this.end();this[oT]()}[oT](){Os.open(this.absolute,"r",(e,n)=>{if(e)return this.emit("error",e);this[iT](n)})}[iT](e){if(this.fd=e,this[P$])return this[ul]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let n=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(n),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[NE]()}[NE](){let{fd:e,buf:n,offset:r,length:o,pos:i}=this;Os.read(e,n,r,o,i,(s,a)=>{if(s)return this[ul](()=>this.emit("error",s));this[nT](a)})}[ul](e){Os.close(this.fd,e)}[nT](e){if(e<=0&&this.remain>0){let o=new Error("encountered unexpected EOF");return o.path=this.absolute,o.syscall="read",o.code="EOF",this[ul](()=>this.emit("error",o))}if(e>this.remain){let o=new Error("did not encounter expected EOF");return o.path=this.absolute,o.syscall="read",o.code="EOF",this[ul](()=>this.emit("error",o))}if(e===this.remain)for(let o=e;o<this.length&&e<this.blockRemain;o++)this.buf[o+this.offset]=0,e++,this.remain++;let n=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(n)?this[QP]():this[sT](()=>this[QP]())}[sT](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let n=new Error("writing more data than expected");return n.path=this.absolute,this.emit("error",n)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[QP](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[ul](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[NE]()}}),aT=class extends OE{[tT](){this[LE](Os.lstatSync(this.absolute))}[eT](){this[rT](Os.readlinkSync(this.absolute))}[oT](){this[iT](Os.openSync(this.absolute,"r"))}[NE](){let e=!0;try{let{fd:n,buf:r,offset:o,length:i,pos:s}=this,a=Os.readSync(n,r,o,i,s);this[nT](a),e=!1}finally{if(e)try{this[ul](()=>{})}catch{}}}[sT](e){e()}[ul](e){Os.closeSync(this.fd),e()}},nte=L$(class extends T${constructor(e,n){n=n||{},super(n),this.preservePaths=!!n.preservePaths,this.portable=!!n.portable,this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=n.prefix||null,this.path=As(e.path),this.mode=this[AE](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:n.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=As(e.linkpath),typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[o,i]=A$(this.path);o&&(this.path=i,r=o)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new R$({path:this[Fs](this.path),linkpath:this.type==="Link"?this[Fs](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new k$({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Fs](this.path),linkpath:this.type==="Link"?this[Fs](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[Fs](e){return N$(e,this.prefix)}[AE](e){return O$(e,this.type==="Directory",this.portable)}write(e){let n=e.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=n,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});OE.Sync=aT;OE.Tar=nte;var rte=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";F$.exports=OE});var M$=F((Cbe,U$)=>{"use strict";U$.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var FE=F((bbe,$$)=>{"use strict";$$.exports=pt;pt.Node=Sd;pt.create=pt;function pt(t){var e=this;if(e instanceof pt||(e=new pt),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(o){e.push(o)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}pt.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};pt.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};pt.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};pt.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)ite(this,arguments[t]);return this.length};pt.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ste(this,arguments[t]);return this.length};pt.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};pt.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};pt.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};pt.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};pt.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};pt.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};pt.prototype.map=function(t,e){e=e||this;for(var n=new pt,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};pt.prototype.mapReverse=function(t,e){e=e||this;for(var n=new pt,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};pt.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;r!==null;o++)n=t(n,r.value,o),r=r.next;return n};pt.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;r!==null;o--)n=t(n,r.value,o),r=r.prev;return n};pt.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};pt.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};pt.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new pt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,o=this.head;o!==null&&r<t;r++)o=o.next;for(;o!==null&&r<e;r++,o=o.next)n.push(o.value);return n};pt.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new pt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,o=this.tail;o!==null&&r>e;r--)o=o.prev;for(;o!==null&&r>t;r--,o=o.prev)n.push(o.value);return n};pt.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,o=this.head;o!==null&&r<t;r++)o=o.next;for(var i=[],r=0;o&&r<e;r++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var r=0;r<n.length;r++)o=ote(this,o,n[r]);return i};pt.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function ote(t,e,n){var r=e===t.head?new Sd(n,null,e,t):new Sd(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function ite(t,e){t.tail=new Sd(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ste(t,e){t.head=new Sd(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Sd(t,e,n,r){if(!(this instanceof Sd))return new Sd(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{M$()(pt)}catch{}});var YE=F((Sbe,z$)=>{"use strict";var qE=class{constructor(e,n){this.path=e||"./",this.absolute=n,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:ate}=xE(),j$=HP(),cte=IE(),vT=cT(),lte=vT.Sync,ute=vT.Tar,dte=FE(),H$=Buffer.alloc(1024),$E=Symbol("onStat"),UE=Symbol("ended"),Us=Symbol("queue"),Lp=Symbol("current"),Dd=Symbol("process"),ME=Symbol("processing"),B$=Symbol("processJob"),Ms=Symbol("jobs"),lT=Symbol("jobDone"),jE=Symbol("addFSEntry"),q$=Symbol("addTarEntry"),pT=Symbol("stat"),mT=Symbol("readdir"),HE=Symbol("onreaddir"),BE=Symbol("pipe"),W$=Symbol("entry"),uT=Symbol("entryOpt"),hT=Symbol("writeEntryClass"),V$=Symbol("write"),dT=Symbol("ondrain"),WE=require("fs"),Y$=require("path"),fte=kE(),fT=Tp(),xT=fte(class extends ate{constructor(e){if(super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=fT(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[hT]=vT,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip||e.brotli){if(e.gzip&&e.brotli)throw new TypeError("gzip and brotli are mutually exclusive");e.gzip&&(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new j$.Gzip(e.gzip)),e.brotli&&(typeof e.brotli!="object"&&(e.brotli={}),this.zip=new j$.BrotliCompress(e.brotli)),this.zip.on("data",n=>super.write(n)),this.zip.on("end",n=>super.end()),this.zip.on("drain",n=>this[dT]()),this.on("resume",n=>this.zip.resume())}else this.on("drain",this[dT]);this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:n=>!0,this[Us]=new dte,this[Ms]=0,this.jobs=+e.jobs||4,this[ME]=!1,this[UE]=!1}[V$](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[UE]=!0,this[Dd](),this}write(e){if(this[UE])throw new Error("write after end");return e instanceof cte?this[q$](e):this[jE](e),this.flowing}[q$](e){let n=fT(Y$.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let r=new qE(e.path,n,!1);r.entry=new ute(e,this[uT](r)),r.entry.on("end",o=>this[lT](r)),this[Ms]+=1,this[Us].push(r)}this[Dd]()}[jE](e){let n=fT(Y$.resolve(this.cwd,e));this[Us].push(new qE(e,n)),this[Dd]()}[pT](e){e.pending=!0,this[Ms]+=1;let n=this.follow?"stat":"lstat";WE[n](e.absolute,(r,o)=>{e.pending=!1,this[Ms]-=1,r?this.emit("error",r):this[$E](e,o)})}[$E](e,n){this.statCache.set(e.absolute,n),e.stat=n,this.filter(e.path,n)||(e.ignore=!0),this[Dd]()}[mT](e){e.pending=!0,this[Ms]+=1,WE.readdir(e.absolute,(n,r)=>{if(e.pending=!1,this[Ms]-=1,n)return this.emit("error",n);this[HE](e,r)})}[HE](e,n){this.readdirCache.set(e.absolute,n),e.readdir=n,this[Dd]()}[Dd](){if(!this[ME]){this[ME]=!0;for(let e=this[Us].head;e!==null&&this[Ms]<this.jobs;e=e.next)if(this[B$](e.value),e.value.ignore){let n=e.next;this[Us].removeNode(e),e.next=n}this[ME]=!1,this[UE]&&!this[Us].length&&this[Ms]===0&&(this.zip?this.zip.end(H$):(super.write(H$),super.end()))}}get[Lp](){return this[Us]&&this[Us].head&&this[Us].head.value}[lT](e){this[Us].shift(),this[Ms]-=1,this[Dd]()}[B$](e){if(!e.pending){if(e.entry){e===this[Lp]&&!e.piped&&this[BE](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[$E](e,this.statCache.get(e.absolute)):this[pT](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[HE](e,this.readdirCache.get(e.absolute)):this[mT](e),!e.readdir))){if(e.entry=this[W$](e),!e.entry){e.ignore=!0;return}e===this[Lp]&&!e.piped&&this[BE](e)}}}[uT](e){return{onwarn:(n,r,o)=>this.warn(n,r,o),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[W$](e){this[Ms]+=1;try{return new this[hT](e.path,this[uT](e)).on("end",()=>this[lT](e)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[dT](){this[Lp]&&this[Lp].entry&&this[Lp].entry.resume()}[BE](e){e.piped=!0,e.readdir&&e.readdir.forEach(o=>{let i=e.path,s=i==="./"?"":i.replace(/\/*$/,"/");this[jE](s+o)});let n=e.entry,r=this.zip;r?n.on("data",o=>{r.write(o)||n.pause()}):n.on("data",o=>{super.write(o)||n.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),gT=class extends xT{constructor(e){super(e),this[hT]=lte}pause(){}resume(){}[pT](e){let n=this.follow?"statSync":"lstatSync";this[$E](e,WE[n](e.absolute))}[mT](e,n){this[HE](e,WE.readdirSync(e.absolute))}[BE](e){let n=e.entry,r=this.zip;e.readdir&&e.readdir.forEach(o=>{let i=e.path,s=i==="./"?"":i.replace(/\/*$/,"/");this[jE](s+o)}),r?n.on("data",o=>{r.write(o)}):n.on("data",o=>{super[V$](o)})}};xT.Sync=gT;z$.exports=xT});var Hp=F(xv=>{"use strict";var pte=SP(),mte=require("events").EventEmitter,_o=require("fs"),ET=_o.writev;if(!ET){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;ET=(n,r,o,i)=>{let s=(c,l)=>i(c,l,r),a=new e;a.oncomplete=s,t.writeBuffers(n,r,o,a)}}var $p=Symbol("_autoClose"),es=Symbol("_close"),vv=Symbol("_ended"),bt=Symbol("_fd"),G$=Symbol("_finished"),fl=Symbol("_flags"),wT=Symbol("_flush"),CT=Symbol("_handleChunk"),bT=Symbol("_makeBuf"),JE=Symbol("_mode"),VE=Symbol("_needDrain"),Up=Symbol("_onerror"),jp=Symbol("_onopen"),yT=Symbol("_onread"),Op=Symbol("_onwrite"),pl=Symbol("_open"),qa=Symbol("_path"),Id=Symbol("_pos"),$s=Symbol("_queue"),Fp=Symbol("_read"),K$=Symbol("_readSize"),dl=Symbol("_reading"),zE=Symbol("_remain"),J$=Symbol("_size"),GE=Symbol("_write"),Ap=Symbol("_writing"),KE=Symbol("_defaultFlag"),Mp=Symbol("_errored"),XE=class extends pte{constructor(e,n){if(n=n||{},super(n),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Mp]=!1,this[bt]=typeof n.fd=="number"?n.fd:null,this[qa]=e,this[K$]=n.readSize||16*1024*1024,this[dl]=!1,this[J$]=typeof n.size=="number"?n.size:1/0,this[zE]=this[J$],this[$p]=typeof n.autoClose=="boolean"?n.autoClose:!0,typeof this[bt]=="number"?this[Fp]():this[pl]()}get fd(){return this[bt]}get path(){return this[qa]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[pl](){_o.open(this[qa],"r",(e,n)=>this[jp](e,n))}[jp](e,n){e?this[Up](e):(this[bt]=n,this.emit("open",n),this[Fp]())}[bT](){return Buffer.allocUnsafe(Math.min(this[K$],this[zE]))}[Fp](){if(!this[dl]){this[dl]=!0;let e=this[bT]();if(e.length===0)return process.nextTick(()=>this[yT](null,0,e));_o.read(this[bt],e,0,e.length,null,(n,r,o)=>this[yT](n,r,o))}}[yT](e,n,r){this[dl]=!1,e?this[Up](e):this[CT](n,r)&&this[Fp]()}[es](){if(this[$p]&&typeof this[bt]=="number"){let e=this[bt];this[bt]=null,_o.close(e,n=>n?this.emit("error",n):this.emit("close"))}}[Up](e){this[dl]=!0,this[es](),this.emit("error",e)}[CT](e,n){let r=!1;return this[zE]-=e,e>0&&(r=super.write(e<n.length?n.slice(0,e):n)),(e===0||this[zE]<=0)&&(r=!1,this[es](),super.end()),r}emit(e,n){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[bt]=="number"&&this[Fp]();break;case"error":return this[Mp]?void 0:(this[Mp]=!0,super.emit(e,n));default:return super.emit(e,n)}}},_T=class extends XE{[pl](){let e=!0;try{this[jp](null,_o.openSync(this[qa],"r")),e=!1}finally{e&&this[es]()}}[Fp](){let e=!0;try{if(!this[dl]){this[dl]=!0;do{let n=this[bT](),r=n.length===0?0:_o.readSync(this[bt],n,0,n.length,null);if(!this[CT](r,n))break}while(!0);this[dl]=!1}e=!1}finally{e&&this[es]()}}[es](){if(this[$p]&&typeof this[bt]=="number"){let e=this[bt];this[bt]=null,_o.closeSync(e),this.emit("close")}}},ZE=class extends mte{constructor(e,n){n=n||{},super(n),this.readable=!1,this.writable=!0,this[Mp]=!1,this[Ap]=!1,this[vv]=!1,this[VE]=!1,this[$s]=[],this[qa]=e,this[bt]=typeof n.fd=="number"?n.fd:null,this[JE]=n.mode===void 0?438:n.mode,this[Id]=typeof n.start=="number"?n.start:null,this[$p]=typeof n.autoClose=="boolean"?n.autoClose:!0;let r=this[Id]!==null?"r+":"w";this[KE]=n.flags===void 0,this[fl]=this[KE]?r:n.flags,this[bt]===null&&this[pl]()}emit(e,n){if(e==="error"){if(this[Mp])return;this[Mp]=!0}return super.emit(e,n)}get fd(){return this[bt]}get path(){return this[qa]}[Up](e){this[es](),this[Ap]=!0,this.emit("error",e)}[pl](){_o.open(this[qa],this[fl],this[JE],(e,n)=>this[jp](e,n))}[jp](e,n){this[KE]&&this[fl]==="r+"&&e&&e.code==="ENOENT"?(this[fl]="w",this[pl]()):e?this[Up](e):(this[bt]=n,this.emit("open",n),this[wT]())}end(e,n){return e&&this.write(e,n),this[vv]=!0,!this[Ap]&&!this[$s].length&&typeof this[bt]=="number"&&this[Op](null,0),this}write(e,n){return typeof e=="string"&&(e=Buffer.from(e,n)),this[vv]?(this.emit("error",new Error("write() after end()")),!1):this[bt]===null||this[Ap]||this[$s].length?(this[$s].push(e),this[VE]=!0,!1):(this[Ap]=!0,this[GE](e),!0)}[GE](e){_o.write(this[bt],e,0,e.length,this[Id],(n,r)=>this[Op](n,r))}[Op](e,n){e?this[Up](e):(this[Id]!==null&&(this[Id]+=n),this[$s].length?this[wT]():(this[Ap]=!1,this[vv]&&!this[G$]?(this[G$]=!0,this[es](),this.emit("finish")):this[VE]&&(this[VE]=!1,this.emit("drain"))))}[wT](){if(this[$s].length===0)this[vv]&&this[Op](null,0);else if(this[$s].length===1)this[GE](this[$s].pop());else{let e=this[$s];this[$s]=[],ET(this[bt],e,this[Id],(n,r)=>this[Op](n,r))}}[es](){if(this[$p]&&typeof this[bt]=="number"){let e=this[bt];this[bt]=null,_o.close(e,n=>n?this.emit("error",n):this.emit("close"))}}},ST=class extends ZE{[pl](){let e;if(this[KE]&&this[fl]==="r+")try{e=_o.openSync(this[qa],this[fl],this[JE])}catch(n){if(n.code==="ENOENT")return this[fl]="w",this[pl]();throw n}else e=_o.openSync(this[qa],this[fl],this[JE]);this[jp](null,e)}[es](){if(this[$p]&&typeof this[bt]=="number"){let e=this[bt];this[bt]=null,_o.closeSync(e),this.emit("close")}}[GE](e){let n=!0;try{this[Op](null,_o.writeSync(this[bt],e,0,e.length,this[Id])),n=!1}finally{if(n)try{this[es]()}catch{}}}};xv.ReadStream=XE;xv.ReadStreamSync=_T;xv.WriteStream=ZE;xv.WriteStreamSync=ST});var iC=F((Pbe,sj)=>{"use strict";var hte=kE(),X$=Rp(),gte=require("events"),vte=FE(),xte=1024*1024,wte=IE(),Z$=TE(),Q$=HP(),{nextTick:yte}=require("process"),DT=Buffer.from([31,139]),wi=Symbol("state"),Pd=Symbol("writeEntry"),Wa=Symbol("readEntry"),IT=Symbol("nextEntry"),ej=Symbol("processEntry"),yi=Symbol("extendedHeader"),wv=Symbol("globalExtendedHeader"),ml=Symbol("meta"),tj=Symbol("emitMeta"),Nt=Symbol("buffer"),Ya=Symbol("queue"),hl=Symbol("ended"),nj=Symbol("emittedEnd"),Td=Symbol("emit"),rr=Symbol("unzip"),QE=Symbol("consumeChunk"),eC=Symbol("consumeChunkSub"),PT=Symbol("consumeBody"),rj=Symbol("consumeMeta"),oj=Symbol("consumeHeader"),tC=Symbol("consuming"),TT=Symbol("bufferConcat"),kT=Symbol("maybeEnd"),yv=Symbol("writing"),gl=Symbol("aborted"),nC=Symbol("onDone"),kd=Symbol("sawValidEntry"),rC=Symbol("sawNullBlock"),oC=Symbol("sawEOF"),ij=Symbol("closeStream"),Ete=t=>!0;sj.exports=hte(class extends gte{constructor(e){e=e||{},super(e),this.file=e.file||"",this[kd]=null,this.on(nC,r=>{(this[wi]==="begin"||this[kd]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(nC,e.ondone):this.on(nC,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||xte,this.filter=typeof e.filter=="function"?e.filter:Ete;let n=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==void 0?e.brotli:n?void 0:!1,this.writable=!0,this.readable=!1,this[Ya]=new vte,this[Nt]=null,this[Wa]=null,this[Pd]=null,this[wi]="begin",this[ml]="",this[yi]=null,this[wv]=null,this[hl]=!1,this[rr]=null,this[gl]=!1,this[rC]=!1,this[oC]=!1,this.on("end",()=>this[ij]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[oj](e,n){this[kd]===null&&(this[kd]=!1);let r;try{r=new X$(e,n,this[yi],this[wv])}catch(o){return this.warn("TAR_ENTRY_INVALID",o)}if(r.nullBlock)this[rC]?(this[oC]=!0,this[wi]==="begin"&&(this[wi]="header"),this[Td]("eof")):(this[rC]=!0,this[Td]("nullBlock"));else if(this[rC]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let o=r.type;if(/^(Symbolic)?Link$/.test(o)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(o)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let i=this[Pd]=new wte(r,this[yi],this[wv]);if(!this[kd])if(i.remain){let s=()=>{i.invalid||(this[kd]=!0)};i.on("end",s)}else this[kd]=!0;i.meta?i.size>this.maxMetaEntrySize?(i.ignore=!0,this[Td]("ignoredEntry",i),this[wi]="ignore",i.resume()):i.size>0&&(this[ml]="",i.on("data",s=>this[ml]+=s),this[wi]="meta"):(this[yi]=null,i.ignore=i.ignore||!this.filter(i.path,i),i.ignore?(this[Td]("ignoredEntry",i),this[wi]=i.remain?"ignore":"header",i.resume()):(i.remain?this[wi]="body":(this[wi]="header",i.end()),this[Wa]?this[Ya].push(i):(this[Ya].push(i),this[IT]())))}}}[ij](){yte(()=>this.emit("close"))}[ej](e){let n=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[Wa]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",r=>this[IT]()),n=!1)):(this[Wa]=null,n=!1),n}[IT](){do;while(this[ej](this[Ya].shift()));if(!this[Ya].length){let e=this[Wa];!e||e.flowing||e.size===e.remain?this[yv]||this.emit("drain"):e.once("drain",r=>this.emit("drain"))}}[PT](e,n){let r=this[Pd],o=r.blockRemain,i=o>=e.length&&n===0?e:e.slice(n,n+o);return r.write(i),r.blockRemain||(this[wi]="header",this[Pd]=null,r.end()),i.length}[rj](e,n){let r=this[Pd],o=this[PT](e,n);return this[Pd]||this[tj](r),o}[Td](e,n,r){!this[Ya].length&&!this[Wa]?this.emit(e,n,r):this[Ya].push([e,n,r])}[tj](e){switch(this[Td]("meta",this[ml]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[yi]=Z$.parse(this[ml],this[yi],!1);break;case"GlobalExtendedHeader":this[wv]=Z$.parse(this[ml],this[wv],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[yi]=this[yi]||Object.create(null),this[yi].path=this[ml].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[yi]=this[yi]||Object.create(null),this[yi].linkpath=this[ml].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[gl]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[gl])return;if((this[rr]===null||this.brotli===void 0&&this[rr]===!1)&&e){if(this[Nt]&&(e=Buffer.concat([this[Nt],e]),this[Nt]=null),e.length<DT.length)return this[Nt]=e,!0;for(let i=0;this[rr]===null&&i<DT.length;i++)e[i]!==DT[i]&&(this[rr]=!1);let o=this.brotli===void 0;if(this[rr]===!1&&o)if(e.length<512)if(this[hl])this.brotli=!0;else return this[Nt]=e,!0;else try{new X$(e.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[rr]===null||this[rr]===!1&&this.brotli){let i=this[hl];this[hl]=!1,this[rr]=this[rr]===null?new Q$.Unzip:new Q$.BrotliDecompress,this[rr].on("data",a=>this[QE](a)),this[rr].on("error",a=>this.abort(a)),this[rr].on("end",a=>{this[hl]=!0,this[QE]()}),this[yv]=!0;let s=this[rr][i?"end":"write"](e);return this[yv]=!1,s}}this[yv]=!0,this[rr]?this[rr].write(e):this[QE](e),this[yv]=!1;let r=this[Ya].length?!1:this[Wa]?this[Wa].flowing:!0;return!r&&!this[Ya].length&&this[Wa].once("drain",o=>this.emit("drain")),r}[TT](e){e&&!this[gl]&&(this[Nt]=this[Nt]?Buffer.concat([this[Nt],e]):e)}[kT](){if(this[hl]&&!this[nj]&&!this[gl]&&!this[tC]){this[nj]=!0;let e=this[Pd];if(e&&e.blockRemain){let n=this[Nt]?this[Nt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${n} available)`,{entry:e}),this[Nt]&&e.write(this[Nt]),e.end()}this[Td](nC)}}[QE](e){if(this[tC])this[TT](e);else if(!e&&!this[Nt])this[kT]();else{if(this[tC]=!0,this[Nt]){this[TT](e);let n=this[Nt];this[Nt]=null,this[eC](n)}else this[eC](e);for(;this[Nt]&&this[Nt].length>=512&&!this[gl]&&!this[oC];){let n=this[Nt];this[Nt]=null,this[eC](n)}this[tC]=!1}(!this[Nt]||this[hl])&&this[kT]()}[eC](e){let n=0,r=e.length;for(;n+512<=r&&!this[gl]&&!this[oC];)switch(this[wi]){case"begin":case"header":this[oj](e,n),n+=512;break;case"ignore":case"body":n+=this[PT](e,n);break;case"meta":n+=this[rj](e,n);break;default:throw new Error("invalid state: "+this[wi])}n<r&&(this[Nt]?this[Nt]=Buffer.concat([e.slice(n),this[Nt]]):this[Nt]=e.slice(n))}end(e){this[gl]||(this[rr]?this[rr].end(e):(this[hl]=!0,this.brotli===void 0&&(e=e||Buffer.alloc(0)),this.write(e)))}})});var sC=F((Tbe,uj)=>{"use strict";var Cte=_p(),cj=iC(),Bp=require("fs"),bte=Hp(),aj=require("path"),RT=Np();uj.exports=(t,e,n)=>{typeof t=="function"?(n=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(n=e,e=null),e?e=Array.from(e):e=[];let r=Cte(t);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return e.length&&Ste(r,e),r.noResume||_te(r),r.file&&r.sync?Dte(r):r.file?Ite(r,n):lj(r)};var _te=t=>{let e=t.onentry;t.onentry=e?n=>{e(n),n.resume()}:n=>n.resume()},Ste=(t,e)=>{let n=new Map(e.map(i=>[RT(i),!0])),r=t.filter,o=(i,s)=>{let a=s||aj.parse(i).root||".",c=i===a?!1:n.has(i)?n.get(i):o(aj.dirname(i),a);return n.set(i,c),c};t.filter=r?(i,s)=>r(i,s)&&o(RT(i)):i=>o(RT(i))},Dte=t=>{let e=lj(t),n=t.file,r=!0,o;try{let i=Bp.statSync(n),s=t.maxReadSize||16*1024*1024;if(i.size<s)e.end(Bp.readFileSync(n));else{let a=0,c=Buffer.allocUnsafe(s);for(o=Bp.openSync(n,"r");a<i.size;){let l=Bp.readSync(o,c,0,s,a);a+=l,e.write(c.slice(0,l))}e.end()}r=!1}finally{if(r&&o)try{Bp.closeSync(o)}catch{}}},Ite=(t,e)=>{let n=new cj(t),r=t.maxReadSize||16*1024*1024,o=t.file,i=new Promise((s,a)=>{n.on("error",a),n.on("end",s),Bp.stat(o,(c,l)=>{if(c)a(c);else{let u=new bte.ReadStream(o,{readSize:r,size:l.size});u.on("error",a),u.pipe(n)}})});return e?i.then(e,e):i},lj=t=>new cj(t)});var gj=F((kbe,hj)=>{"use strict";var Pte=_p(),aC=YE(),dj=Hp(),fj=sC(),pj=require("path");hj.exports=(t,e,n)=>{if(typeof e=="function"&&(n=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let r=Pte(t);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?Tte(r,e):r.file?kte(r,e,n):r.sync?Rte(r,e):Nte(r,e)};var Tte=(t,e)=>{let n=new aC.Sync(t),r=new dj.WriteStreamSync(t.file,{mode:t.mode||438});n.pipe(r),mj(n,e)},kte=(t,e,n)=>{let r=new aC(t),o=new dj.WriteStream(t.file,{mode:t.mode||438});r.pipe(o);let i=new Promise((s,a)=>{o.on("error",a),o.on("close",s),r.on("error",a)});return NT(r,e),n?i.then(n,n):i},mj=(t,e)=>{e.forEach(n=>{n.charAt(0)==="@"?fj({file:pj.resolve(t.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>t.add(r)}):t.add(n)}),t.end()},NT=(t,e)=>{for(;e.length;){let n=e.shift();if(n.charAt(0)==="@")return fj({file:pj.resolve(t.cwd,n.slice(1)),noResume:!0,onentry:r=>t.add(r)}).then(r=>NT(t,e));t.add(n)}t.end()},Rte=(t,e)=>{let n=new aC.Sync(t);return mj(n,e),n},Nte=(t,e)=>{let n=new aC(t);return NT(n,e),n}});var LT=F((Rbe,bj)=>{"use strict";var Lte=_p(),vj=YE(),Zo=require("fs"),xj=Hp(),wj=sC(),yj=require("path"),Ej=Rp();bj.exports=(t,e,n)=>{let r=Lte(t);if(!r.file)throw new TypeError("file is required");if(r.gzip||r.brotli||r.file.endsWith(".br")||r.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),r.sync?Ate(r,e):Fte(r,e,n)};var Ate=(t,e)=>{let n=new vj.Sync(t),r=!0,o,i;try{try{o=Zo.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")o=Zo.openSync(t.file,"w+");else throw c}let s=Zo.fstatSync(o),a=Buffer.alloc(512);e:for(i=0;i<s.size;i+=512){for(let u=0,d=0;u<512;u+=d){if(d=Zo.readSync(o,a,u,a.length-u,i+u),i===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new Ej(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(i+l+512>s.size)break;i+=l,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}r=!1,Ote(t,n,i,o,e)}finally{if(r)try{Zo.closeSync(o)}catch{}}},Ote=(t,e,n,r,o)=>{let i=new xj.WriteStreamSync(t.file,{fd:r,start:n});e.pipe(i),Ute(e,o)},Fte=(t,e,n)=>{e=Array.from(e);let r=new vj(t),o=(s,a,c)=>{let l=(m,h)=>{m?Zo.close(s,v=>c(m)):c(null,h)},u=0;if(a===0)return l(null,0);let d=0,f=Buffer.alloc(512),p=(m,h)=>{if(m)return l(m);if(d+=h,d<512&&h)return Zo.read(s,f,d,f.length-d,u+d,p);if(u===0&&f[0]===31&&f[1]===139)return l(new Error("cannot append to compressed archives"));if(d<512)return l(null,u);let v=new Ej(f);if(!v.cksumValid)return l(null,u);let g=512*Math.ceil(v.size/512);if(u+g+512>a||(u+=g+512,u>=a))return l(null,u);t.mtimeCache&&t.mtimeCache.set(v.path,v.mtime),d=0,Zo.read(s,f,0,512,u,p)};Zo.read(s,f,0,512,u,p)},i=new Promise((s,a)=>{r.on("error",a);let c="r+",l=(u,d)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",Zo.open(t.file,c,l);if(u)return a(u);Zo.fstat(d,(f,p)=>{if(f)return Zo.close(d,()=>a(f));o(d,p.size,(m,h)=>{if(m)return a(m);let v=new xj.WriteStream(t.file,{fd:d,start:h});r.pipe(v),v.on("error",a),v.on("close",s),Cj(r,e)})})};Zo.open(t.file,c,l)});return n?i.then(n,n):i},Ute=(t,e)=>{e.forEach(n=>{n.charAt(0)==="@"?wj({file:yj.resolve(t.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>t.add(r)}):t.add(n)}),t.end()},Cj=(t,e)=>{for(;e.length;){let n=e.shift();if(n.charAt(0)==="@")return wj({file:yj.resolve(t.cwd,n.slice(1)),noResume:!0,onentry:r=>t.add(r)}).then(r=>Cj(t,e));t.add(n)}t.end()}});var Sj=F((Nbe,_j)=>{"use strict";var Mte=_p(),$te=LT();_j.exports=(t,e,n)=>{let r=Mte(t);if(!r.file)throw new TypeError("file is required");if(r.gzip||r.brotli||r.file.endsWith(".br")||r.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),jte(r),$te(r,e,n)};var jte=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(n,r)=>e(n,r)&&!(t.mtimeCache.get(n)>r.mtime):(n,r)=>!(t.mtimeCache.get(n)>r.mtime)}});var Pj=F((Lbe,Ij)=>{var{promisify:Dj}=require("util"),vl=require("fs"),Hte=t=>{if(!t)t={mode:511,fs:vl};else if(typeof t=="object")t={mode:511,fs:vl,...t};else if(typeof t=="number")t={mode:t,fs:vl};else if(typeof t=="string")t={mode:parseInt(t,8),fs:vl};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||vl.mkdir,t.mkdirAsync=Dj(t.mkdir),t.stat=t.stat||t.fs.stat||vl.stat,t.statAsync=Dj(t.stat),t.statSync=t.statSync||t.fs.statSync||vl.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||vl.mkdirSync,t};Ij.exports=Hte});var kj=F((Abe,Tj)=>{var Bte=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:qte,parse:Wte}=require("path"),Yte=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=qte(t),Bte==="win32"){let e=/[*|"<>?:]/,{root:n}=Wte(t);if(e.test(t.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};Tj.exports=Yte});var Oj=F((Obe,Aj)=>{var{dirname:Rj}=require("path"),Nj=(t,e,n=void 0)=>n===e?Promise.resolve():t.statAsync(e).then(r=>r.isDirectory()?n:void 0,r=>r.code==="ENOENT"?Nj(t,Rj(e),e):void 0),Lj=(t,e,n=void 0)=>{if(n!==e)try{return t.statSync(e).isDirectory()?n:void 0}catch(r){return r.code==="ENOENT"?Lj(t,Rj(e),e):void 0}};Aj.exports={findMade:Nj,findMadeSync:Lj}});var FT=F((Fbe,Uj)=>{var{dirname:Fj}=require("path"),AT=(t,e,n)=>{e.recursive=!1;let r=Fj(t);return r===t?e.mkdirAsync(t,e).catch(o=>{if(o.code!=="EISDIR")throw o}):e.mkdirAsync(t,e).then(()=>n||t,o=>{if(o.code==="ENOENT")return AT(r,e).then(i=>AT(t,e,i));if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;return e.statAsync(t).then(i=>{if(i.isDirectory())return n;throw o},()=>{throw o})})},OT=(t,e,n)=>{let r=Fj(t);if(e.recursive=!1,r===t)try{return e.mkdirSync(t,e)}catch(o){if(o.code!=="EISDIR")throw o;return}try{return e.mkdirSync(t,e),n||t}catch(o){if(o.code==="ENOENT")return OT(t,e,OT(r,e,n));if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;try{if(!e.statSync(t).isDirectory())throw o}catch{throw o}}};Uj.exports={mkdirpManual:AT,mkdirpManualSync:OT}});var jj=F((Ube,$j)=>{var{dirname:Mj}=require("path"),{findMade:Vte,findMadeSync:zte}=Oj(),{mkdirpManual:Gte,mkdirpManualSync:Kte}=FT(),Jte=(t,e)=>(e.recursive=!0,Mj(t)===t?e.mkdirAsync(t,e):Vte(e,t).then(r=>e.mkdirAsync(t,e).then(()=>r).catch(o=>{if(o.code==="ENOENT")return Gte(t,e);throw o}))),Xte=(t,e)=>{if(e.recursive=!0,Mj(t)===t)return e.mkdirSync(t,e);let r=zte(e,t);try{return e.mkdirSync(t,e),r}catch(o){if(o.code==="ENOENT")return Kte(t,e);throw o}};$j.exports={mkdirpNative:Jte,mkdirpNativeSync:Xte}});var Wj=F((Mbe,qj)=>{var Hj=require("fs"),Zte=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,UT=Zte.replace(/^v/,"").split("."),Bj=+UT[0]>10||+UT[0]==10&&+UT[1]>=12,Qte=Bj?t=>t.mkdir===Hj.mkdir:()=>!1,ene=Bj?t=>t.mkdirSync===Hj.mkdirSync:()=>!1;qj.exports={useNative:Qte,useNativeSync:ene}});var Jj=F(($be,Kj)=>{var qp=Pj(),Wp=kj(),{mkdirpNative:Yj,mkdirpNativeSync:Vj}=jj(),{mkdirpManual:zj,mkdirpManualSync:Gj}=FT(),{useNative:tne,useNativeSync:nne}=Wj(),Yp=(t,e)=>(t=Wp(t),e=qp(e),tne(e)?Yj(t,e):zj(t,e)),rne=(t,e)=>(t=Wp(t),e=qp(e),nne(e)?Vj(t,e):Gj(t,e));Yp.sync=rne;Yp.native=(t,e)=>Yj(Wp(t),qp(e));Yp.manual=(t,e)=>zj(Wp(t),qp(e));Yp.nativeSync=(t,e)=>Vj(Wp(t),qp(e));Yp.manualSync=(t,e)=>Gj(Wp(t),qp(e));Kj.exports=Yp});var r2=F((jbe,n2)=>{"use strict";var Ei=require("fs"),Rd=require("path"),one=Ei.lchown?"lchown":"chown",ine=Ei.lchownSync?"lchownSync":"chownSync",Zj=Ei.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),Xj=(t,e,n)=>{try{return Ei[ine](t,e,n)}catch(r){if(r.code!=="ENOENT")throw r}},sne=(t,e,n)=>{try{return Ei.chownSync(t,e,n)}catch(r){if(r.code!=="ENOENT")throw r}},ane=Zj?(t,e,n,r)=>o=>{!o||o.code!=="EISDIR"?r(o):Ei.chown(t,e,n,r)}:(t,e,n,r)=>r,MT=Zj?(t,e,n)=>{try{return Xj(t,e,n)}catch(r){if(r.code!=="EISDIR")throw r;sne(t,e,n)}}:(t,e,n)=>Xj(t,e,n),cne=process.version,Qj=(t,e,n)=>Ei.readdir(t,e,n),lne=(t,e)=>Ei.readdirSync(t,e);/^v4\./.test(cne)&&(Qj=(t,e,n)=>Ei.readdir(t,n));var cC=(t,e,n,r)=>{Ei[one](t,e,n,ane(t,e,n,o=>{r(o&&o.code!=="ENOENT"?o:null)}))},e2=(t,e,n,r,o)=>{if(typeof e=="string")return Ei.lstat(Rd.resolve(t,e),(i,s)=>{if(i)return o(i.code!=="ENOENT"?i:null);s.name=e,e2(t,s,n,r,o)});if(e.isDirectory())$T(Rd.resolve(t,e.name),n,r,i=>{if(i)return o(i);let s=Rd.resolve(t,e.name);cC(s,n,r,o)});else{let i=Rd.resolve(t,e.name);cC(i,n,r,o)}},$T=(t,e,n,r)=>{Qj(t,{withFileTypes:!0},(o,i)=>{if(o){if(o.code==="ENOENT")return r();if(o.code!=="ENOTDIR"&&o.code!=="ENOTSUP")return r(o)}if(o||!i.length)return cC(t,e,n,r);let s=i.length,a=null,c=l=>{if(!a){if(l)return r(a=l);if(--s===0)return cC(t,e,n,r)}};i.forEach(l=>e2(t,l,e,n,c))})},une=(t,e,n,r)=>{if(typeof e=="string")try{let o=Ei.lstatSync(Rd.resolve(t,e));o.name=e,e=o}catch(o){if(o.code==="ENOENT")return;throw o}e.isDirectory()&&t2(Rd.resolve(t,e.name),n,r),MT(Rd.resolve(t,e.name),n,r)},t2=(t,e,n)=>{let r;try{r=lne(t,{withFileTypes:!0})}catch(o){if(o.code==="ENOENT")return;if(o.code==="ENOTDIR"||o.code==="ENOTSUP")return MT(t,e,n);throw o}return r&&r.length&&r.forEach(o=>une(t,o,e,n)),MT(t,e,n)};n2.exports=$T;$T.sync=t2});var a2=F((Hbe,jT)=>{"use strict";var o2=Jj(),Ci=require("fs"),lC=require("path"),i2=r2(),ts=Tp(),uC=class extends Error{constructor(e,n){super("Cannot extract through symbolic link"),this.path=n,this.symlink=e}get name(){return"SylinkError"}},dC=class extends Error{constructor(e,n){super(n+": Cannot cd into '"+e+"'"),this.path=e,this.code=n}get name(){return"CwdError"}},fC=(t,e)=>t.get(ts(e)),Ev=(t,e,n)=>t.set(ts(e),n),dne=(t,e)=>{Ci.stat(t,(n,r)=>{(n||!r.isDirectory())&&(n=new dC(t,n&&n.code||"ENOTDIR")),e(n)})};jT.exports=(t,e,n)=>{t=ts(t);let r=e.umask,o=e.mode|448,i=(o&r)!==0,s=e.uid,a=e.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==e.processUid||a!==e.processGid),l=e.preserve,u=e.unlink,d=e.cache,f=ts(e.cwd),p=(v,g)=>{v?n(v):(Ev(d,t,!0),g&&c?i2(g,s,a,w=>p(w)):i?Ci.chmod(t,o,n):n())};if(d&&fC(d,t)===!0)return p();if(t===f)return dne(t,p);if(l)return o2(t,{mode:o}).then(v=>p(null,v),p);let h=ts(lC.relative(f,t)).split("/");pC(f,h,o,d,u,f,null,p)};var pC=(t,e,n,r,o,i,s,a)=>{if(!e.length)return a(null,s);let c=e.shift(),l=ts(lC.resolve(t+"/"+c));if(fC(r,l))return pC(l,e,n,r,o,i,s,a);Ci.mkdir(l,n,s2(l,e,n,r,o,i,s,a))},s2=(t,e,n,r,o,i,s,a)=>c=>{c?Ci.lstat(t,(l,u)=>{if(l)l.path=l.path&&ts(l.path),a(l);else if(u.isDirectory())pC(t,e,n,r,o,i,s,a);else if(o)Ci.unlink(t,d=>{if(d)return a(d);Ci.mkdir(t,n,s2(t,e,n,r,o,i,s,a))});else{if(u.isSymbolicLink())return a(new uC(t,t+"/"+e.join("/")));a(c)}}):(s=s||t,pC(t,e,n,r,o,i,s,a))},fne=t=>{let e=!1,n="ENOTDIR";try{e=Ci.statSync(t).isDirectory()}catch(r){n=r.code}finally{if(!e)throw new dC(t,n)}};jT.exports.sync=(t,e)=>{t=ts(t);let n=e.umask,r=e.mode|448,o=(r&n)!==0,i=e.uid,s=e.gid,a=typeof i=="number"&&typeof s=="number"&&(i!==e.processUid||s!==e.processGid),c=e.preserve,l=e.unlink,u=e.cache,d=ts(e.cwd),f=v=>{Ev(u,t,!0),v&&a&&i2.sync(v,i,s),o&&Ci.chmodSync(t,r)};if(u&&fC(u,t)===!0)return f();if(t===d)return fne(d),f();if(c)return f(o2.sync(t,r));let m=ts(lC.relative(d,t)).split("/"),h=null;for(let v=m.shift(),g=d;v&&(g+="/"+v);v=m.shift())if(g=ts(lC.resolve(g)),!fC(u,g))try{Ci.mkdirSync(g,r),h=h||g,Ev(u,g,!0)}catch{let x=Ci.lstatSync(g);if(x.isDirectory()){Ev(u,g,!0);continue}else if(l){Ci.unlinkSync(g),Ci.mkdirSync(g,r),h=h||g,Ev(u,g,!0);continue}else if(x.isSymbolicLink())return new uC(g,g+"/"+m.join("/"))}return f(h)}});var BT=F((Bbe,c2)=>{var HT=Object.create(null),{hasOwnProperty:pne}=Object.prototype;c2.exports=t=>(pne.call(HT,t)||(HT[t]=t.normalize("NFD")),HT[t])});var f2=F((qbe,d2)=>{var l2=require("assert"),mne=BT(),hne=Np(),{join:u2}=require("path"),gne=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,vne=gne==="win32";d2.exports=()=>{let t=new Map,e=new Map,n=l=>l.split("/").slice(0,-1).reduce((d,f)=>(d.length&&(f=u2(d[d.length-1],f)),d.push(f||"/"),d),[]),r=new Set,o=l=>{let u=e.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(d=>t.get(d)),dirs:[...u.dirs].map(d=>t.get(d))}},i=l=>{let{paths:u,dirs:d}=o(l);return u.every(f=>f[0]===l)&&d.every(f=>f[0]instanceof Set&&f[0].has(l))},s=l=>r.has(l)||!i(l)?!1:(r.add(l),l(()=>a(l)),!0),a=l=>{if(!r.has(l))return!1;let{paths:u,dirs:d}=e.get(l),f=new Set;return u.forEach(p=>{let m=t.get(p);l2.equal(m[0],l),m.length===1?t.delete(p):(m.shift(),typeof m[0]=="function"?f.add(m[0]):m[0].forEach(h=>f.add(h)))}),d.forEach(p=>{let m=t.get(p);l2(m[0]instanceof Set),m[0].size===1&&m.length===1?t.delete(p):m[0].size===1?(m.shift(),f.add(m[0])):m[0].delete(l)}),r.delete(l),f.forEach(p=>s(p)),!0};return{check:i,reserve:(l,u)=>{l=vne?["win32 parallelization disabled"]:l.map(f=>hne(u2(mne(f))).toLowerCase());let d=new Set(l.map(f=>n(f)).reduce((f,p)=>f.concat(p)));return e.set(u,{dirs:d,paths:l}),l.forEach(f=>{let p=t.get(f);p?p.push(u):t.set(f,[u])}),d.forEach(f=>{let p=t.get(f);p?p[p.length-1]instanceof Set?p[p.length-1].add(u):p.push(new Set([u])):t.set(f,[new Set([u])])}),s(u)}}}});var h2=F((Wbe,m2)=>{var xne=process.env.__FAKE_PLATFORM__||process.platform,wne=xne==="win32",yne=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:Ene,O_TRUNC:Cne,O_WRONLY:bne,UV_FS_O_FILEMAP:p2=0}=yne.constants,_ne=wne&&!!p2,Sne=512*1024,Dne=p2|Cne|Ene|bne;m2.exports=_ne?t=>t<Sne?Dne:"w":()=>"w"});var XT=F((Ybe,T2)=>{"use strict";var Ine=require("assert"),Pne=iC(),mt=require("fs"),Tne=Hp(),Va=require("path"),D2=a2(),g2=XP(),kne=f2(),Rne=ZP(),Qo=Tp(),Nne=Np(),Lne=BT(),v2=Symbol("onEntry"),YT=Symbol("checkFs"),x2=Symbol("checkFs2"),gC=Symbol("pruneCache"),VT=Symbol("isReusable"),bi=Symbol("makeFs"),zT=Symbol("file"),GT=Symbol("directory"),vC=Symbol("link"),w2=Symbol("symlink"),y2=Symbol("hardlink"),E2=Symbol("unsupported"),C2=Symbol("checkPath"),xl=Symbol("mkdir"),Ar=Symbol("onError"),mC=Symbol("pending"),b2=Symbol("pend"),Vp=Symbol("unpend"),qT=Symbol("ended"),WT=Symbol("maybeClose"),KT=Symbol("skip"),Cv=Symbol("doChown"),bv=Symbol("uid"),_v=Symbol("gid"),Sv=Symbol("checkedCwd"),I2=require("crypto"),P2=h2(),Ane=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Dv=Ane==="win32",One=(t,e)=>{if(!Dv)return mt.unlink(t,e);let n=t+".DELETE."+I2.randomBytes(16).toString("hex");mt.rename(t,n,r=>{if(r)return e(r);mt.unlink(n,e)})},Fne=t=>{if(!Dv)return mt.unlinkSync(t);let e=t+".DELETE."+I2.randomBytes(16).toString("hex");mt.renameSync(t,e),mt.unlinkSync(e)},_2=(t,e,n)=>t===t>>>0?t:e===e>>>0?e:n,S2=t=>Nne(Qo(Lne(t))).toLowerCase(),Une=(t,e)=>{e=S2(e);for(let n of t.keys()){let r=S2(n);(r===e||r.indexOf(e+"/")===0)&&t.delete(n)}},Mne=t=>{for(let e of t.keys())t.delete(e)},Iv=class extends Pne{constructor(e){if(e||(e={}),e.ondone=n=>{this[qT]=!0,this[WT]()},super(e),this[Sv]=!1,this.reservations=kne(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[mC]=0,this[qT]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Dv,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Qo(Va.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",n=>this[v2](n))}warn(e,n,r={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(r.recoverable=!1),super.warn(e,n,r)}[WT](){this[qT]&&this[mC]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[C2](e){if(this.strip){let n=Qo(e.path).split("/");if(n.length<this.strip)return!1;if(e.path=n.slice(this.strip).join("/"),e.type==="Link"){let r=Qo(e.linkpath).split("/");if(r.length>=this.strip)e.linkpath=r.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let n=Qo(e.path),r=n.split("/");if(r.includes("..")||Dv&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:n}),!1;let[o,i]=Rne(n);o&&(e.path=i,this.warn("TAR_ENTRY_INFO",`stripping ${o} from absolute path`,{entry:e,path:n}))}if(Va.isAbsolute(e.path)?e.absolute=Qo(Va.resolve(e.path)):e.absolute=Qo(Va.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:Qo(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:n}=Va.win32.parse(e.absolute);e.absolute=n+g2.encode(e.absolute.slice(n.length));let{root:r}=Va.win32.parse(e.path);e.path=r+g2.encode(e.path.slice(r.length))}return!0}[v2](e){if(!this[C2](e))return e.resume();switch(Ine.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[YT](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[E2](e)}}[Ar](e,n){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:n}),this[Vp](),n.resume())}[xl](e,n,r){D2(Qo(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n,noChmod:this.noChmod},r)}[Cv](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[bv](e){return _2(this.uid,e.uid,this.processUid)}[_v](e){return _2(this.gid,e.gid,this.processGid)}[zT](e,n){let r=e.mode&4095||this.fmode,o=new Tne.WriteStream(e.absolute,{flags:P2(e.size),mode:r,autoClose:!1});o.on("error",c=>{o.fd&&mt.close(o.fd,()=>{}),o.write=()=>!0,this[Ar](c,e),n()});let i=1,s=c=>{if(c){o.fd&&mt.close(o.fd,()=>{}),this[Ar](c,e),n();return}--i===0&&mt.close(o.fd,l=>{l?this[Ar](l,e):this[Vp](),n()})};o.on("finish",c=>{let l=e.absolute,u=o.fd;if(e.mtime&&!this.noMtime){i++;let d=e.atime||new Date,f=e.mtime;mt.futimes(u,d,f,p=>p?mt.utimes(l,d,f,m=>s(m&&p)):s())}if(this[Cv](e)){i++;let d=this[bv](e),f=this[_v](e);mt.fchown(u,d,f,p=>p?mt.chown(l,d,f,m=>s(m&&p)):s())}s()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[Ar](c,e),n()}),e.pipe(a)),a.pipe(o)}[GT](e,n){let r=e.mode&4095||this.dmode;this[xl](e.absolute,r,o=>{if(o){this[Ar](o,e),n();return}let i=1,s=a=>{--i===0&&(n(),this[Vp](),e.resume())};e.mtime&&!this.noMtime&&(i++,mt.utimes(e.absolute,e.atime||new Date,e.mtime,s)),this[Cv](e)&&(i++,mt.chown(e.absolute,this[bv](e),this[_v](e),s)),s()})}[E2](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[w2](e,n){this[vC](e,e.linkpath,"symlink",n)}[y2](e,n){let r=Qo(Va.resolve(this.cwd,e.linkpath));this[vC](e,r,"link",n)}[b2](){this[mC]++}[Vp](){this[mC]--,this[WT]()}[KT](e){this[Vp](),e.resume()}[VT](e,n){return e.type==="File"&&!this.unlink&&n.isFile()&&n.nlink<=1&&!Dv}[YT](e){this[b2]();let n=[e.path];e.linkpath&&n.push(e.linkpath),this.reservations.reserve(n,r=>this[x2](e,r))}[gC](e){e.type==="SymbolicLink"?Mne(this.dirCache):e.type!=="Directory"&&Une(this.dirCache,e.absolute)}[x2](e,n){this[gC](e);let r=a=>{this[gC](e),n(a)},o=()=>{this[xl](this.cwd,this.dmode,a=>{if(a){this[Ar](a,e),r();return}this[Sv]=!0,i()})},i=()=>{if(e.absolute!==this.cwd){let a=Qo(Va.dirname(e.absolute));if(a!==this.cwd)return this[xl](a,this.dmode,c=>{if(c){this[Ar](c,e),r();return}s()})}s()},s=()=>{mt.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[KT](e),r();return}if(a||this[VT](e,c))return this[bi](null,e,r);if(c.isDirectory()){if(e.type==="Directory"){let l=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,u=d=>this[bi](d,e,r);return l?mt.chmod(e.absolute,e.mode,u):u()}if(e.absolute!==this.cwd)return mt.rmdir(e.absolute,l=>this[bi](l,e,r))}if(e.absolute===this.cwd)return this[bi](null,e,r);One(e.absolute,l=>this[bi](l,e,r))})};this[Sv]?i():o()}[bi](e,n,r){if(e){this[Ar](e,n),r();return}switch(n.type){case"File":case"OldFile":case"ContiguousFile":return this[zT](n,r);case"Link":return this[y2](n,r);case"SymbolicLink":return this[w2](n,r);case"Directory":case"GNUDumpDir":return this[GT](n,r)}}[vC](e,n,r,o){mt[r](n,e.absolute,i=>{i?this[Ar](i,e):(this[Vp](),e.resume()),o()})}},hC=t=>{try{return[null,t()]}catch(e){return[e,null]}},JT=class extends Iv{[bi](e,n){return super[bi](e,n,()=>{})}[YT](e){if(this[gC](e),!this[Sv]){let i=this[xl](this.cwd,this.dmode);if(i)return this[Ar](i,e);this[Sv]=!0}if(e.absolute!==this.cwd){let i=Qo(Va.dirname(e.absolute));if(i!==this.cwd){let s=this[xl](i,this.dmode);if(s)return this[Ar](s,e)}}let[n,r]=hC(()=>mt.lstatSync(e.absolute));if(r&&(this.keep||this.newer&&r.mtime>e.mtime))return this[KT](e);if(n||this[VT](e,r))return this[bi](null,e);if(r.isDirectory()){if(e.type==="Directory"){let s=!this.noChmod&&e.mode&&(r.mode&4095)!==e.mode,[a]=s?hC(()=>{mt.chmodSync(e.absolute,e.mode)}):[];return this[bi](a,e)}let[i]=hC(()=>mt.rmdirSync(e.absolute));this[bi](i,e)}let[o]=e.absolute===this.cwd?[]:hC(()=>Fne(e.absolute));this[bi](o,e)}[zT](e,n){let r=e.mode&4095||this.fmode,o=a=>{let c;try{mt.closeSync(i)}catch(l){c=l}(a||c)&&this[Ar](a||c,e),n()},i;try{i=mt.openSync(e.absolute,P2(e.size),r)}catch(a){return o(a)}let s=this.transform&&this.transform(e)||e;s!==e&&(s.on("error",a=>this[Ar](a,e)),e.pipe(s)),s.on("data",a=>{try{mt.writeSync(i,a,0,a.length)}catch(c){o(c)}}),s.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let l=e.atime||new Date,u=e.mtime;try{mt.futimesSync(i,l,u)}catch(d){try{mt.utimesSync(e.absolute,l,u)}catch{c=d}}}if(this[Cv](e)){let l=this[bv](e),u=this[_v](e);try{mt.fchownSync(i,l,u)}catch(d){try{mt.chownSync(e.absolute,l,u)}catch{c=c||d}}}o(c)})}[GT](e,n){let r=e.mode&4095||this.dmode,o=this[xl](e.absolute,r);if(o){this[Ar](o,e),n();return}if(e.mtime&&!this.noMtime)try{mt.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[Cv](e))try{mt.chownSync(e.absolute,this[bv](e),this[_v](e))}catch{}n(),e.resume()}[xl](e,n){try{return D2.sync(Qo(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n})}catch(r){return r}}[vC](e,n,r,o){try{mt[r+"Sync"](n,e.absolute),o(),e.resume()}catch(i){return this[Ar](i,e)}}};Iv.Sync=JT;T2.exports=Iv});var A2=F((Vbe,L2)=>{"use strict";var $ne=_p(),xC=XT(),R2=require("fs"),N2=Hp(),k2=require("path"),ZT=Np();L2.exports=(t,e,n)=>{typeof t=="function"?(n=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(n=e,e=null),e?e=Array.from(e):e=[];let r=$ne(t);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return e.length&&jne(r,e),r.file&&r.sync?Hne(r):r.file?Bne(r,n):r.sync?qne(r):Wne(r)};var jne=(t,e)=>{let n=new Map(e.map(i=>[ZT(i),!0])),r=t.filter,o=(i,s)=>{let a=s||k2.parse(i).root||".",c=i===a?!1:n.has(i)?n.get(i):o(k2.dirname(i),a);return n.set(i,c),c};t.filter=r?(i,s)=>r(i,s)&&o(ZT(i)):i=>o(ZT(i))},Hne=t=>{let e=new xC.Sync(t),n=t.file,r=R2.statSync(n),o=t.maxReadSize||16*1024*1024;new N2.ReadStreamSync(n,{readSize:o,size:r.size}).pipe(e)},Bne=(t,e)=>{let n=new xC(t),r=t.maxReadSize||16*1024*1024,o=t.file,i=new Promise((s,a)=>{n.on("error",a),n.on("close",s),R2.stat(o,(c,l)=>{if(c)a(c);else{let u=new N2.ReadStream(o,{readSize:r,size:l.size});u.on("error",a),u.pipe(n)}})});return e?i.then(e,e):i},qne=t=>new xC.Sync(t),Wne=t=>new xC(t)});var wC=F(Vn=>{"use strict";Vn.c=Vn.create=gj();Vn.r=Vn.replace=LT();Vn.t=Vn.list=sC();Vn.u=Vn.update=Sj();Vn.x=Vn.extract=A2();Vn.Pack=YE();Vn.Unpack=XT();Vn.Parse=iC();Vn.ReadEntry=IE();Vn.WriteEntry=cT();Vn.Header=Rp();Vn.Pax=TE();Vn.types=WP()});var Pv=F((Gbe,O2)=>{var Yne="2.0.0",Vne=Number.MAX_SAFE_INTEGER||9007199254740991,zne=16,Gne=256-6,Kne=["major","premajor","minor","preminor","patch","prepatch","prerelease"];O2.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:zne,MAX_SAFE_BUILD_LENGTH:Gne,MAX_SAFE_INTEGER:Vne,RELEASE_TYPES:Kne,SEMVER_SPEC_VERSION:Yne,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Tv=F((Kbe,F2)=>{var Jne=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};F2.exports=Jne});var zp=F((za,U2)=>{var{MAX_SAFE_COMPONENT_LENGTH:QT,MAX_SAFE_BUILD_LENGTH:Xne,MAX_LENGTH:Zne}=Pv(),Qne=Tv();za=U2.exports={};var ere=za.re=[],tre=za.safeRe=[],ge=za.src=[],ve=za.t={},nre=0,ek="[a-zA-Z0-9-]",rre=[["\\s",1],["\\d",Zne],[ek,Xne]],ore=t=>{for(let[e,n]of rre)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Be=(t,e,n)=>{let r=ore(e),o=nre++;Qne(t,o,e),ve[t]=o,ge[o]=e,ere[o]=new RegExp(e,n?"g":void 0),tre[o]=new RegExp(r,n?"g":void 0)};Be("NUMERICIDENTIFIER","0|[1-9]\\d*");Be("NUMERICIDENTIFIERLOOSE","\\d+");Be("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ek}*`);Be("MAINVERSION",`(${ge[ve.NUMERICIDENTIFIER]})\\.(${ge[ve.NUMERICIDENTIFIER]})\\.(${ge[ve.NUMERICIDENTIFIER]})`);Be("MAINVERSIONLOOSE",`(${ge[ve.NUMERICIDENTIFIERLOOSE]})\\.(${ge[ve.NUMERICIDENTIFIERLOOSE]})\\.(${ge[ve.NUMERICIDENTIFIERLOOSE]})`);Be("PRERELEASEIDENTIFIER",`(?:${ge[ve.NUMERICIDENTIFIER]}|${ge[ve.NONNUMERICIDENTIFIER]})`);Be("PRERELEASEIDENTIFIERLOOSE",`(?:${ge[ve.NUMERICIDENTIFIERLOOSE]}|${ge[ve.NONNUMERICIDENTIFIER]})`);Be("PRERELEASE",`(?:-(${ge[ve.PRERELEASEIDENTIFIER]}(?:\\.${ge[ve.PRERELEASEIDENTIFIER]})*))`);Be("PRERELEASELOOSE",`(?:-?(${ge[ve.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ge[ve.PRERELEASEIDENTIFIERLOOSE]})*))`);Be("BUILDIDENTIFIER",`${ek}+`);Be("BUILD",`(?:\\+(${ge[ve.BUILDIDENTIFIER]}(?:\\.${ge[ve.BUILDIDENTIFIER]})*))`);Be("FULLPLAIN",`v?${ge[ve.MAINVERSION]}${ge[ve.PRERELEASE]}?${ge[ve.BUILD]}?`);Be("FULL",`^${ge[ve.FULLPLAIN]}$`);Be("LOOSEPLAIN",`[v=\\s]*${ge[ve.MAINVERSIONLOOSE]}${ge[ve.PRERELEASELOOSE]}?${ge[ve.BUILD]}?`);Be("LOOSE",`^${ge[ve.LOOSEPLAIN]}$`);Be("GTLT","((?:<|>)?=?)");Be("XRANGEIDENTIFIERLOOSE",`${ge[ve.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Be("XRANGEIDENTIFIER",`${ge[ve.NUMERICIDENTIFIER]}|x|X|\\*`);Be("XRANGEPLAIN",`[v=\\s]*(${ge[ve.XRANGEIDENTIFIER]})(?:\\.(${ge[ve.XRANGEIDENTIFIER]})(?:\\.(${ge[ve.XRANGEIDENTIFIER]})(?:${ge[ve.PRERELEASE]})?${ge[ve.BUILD]}?)?)?`);Be("XRANGEPLAINLOOSE",`[v=\\s]*(${ge[ve.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ge[ve.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ge[ve.XRANGEIDENTIFIERLOOSE]})(?:${ge[ve.PRERELEASELOOSE]})?${ge[ve.BUILD]}?)?)?`);Be("XRANGE",`^${ge[ve.GTLT]}\\s*${ge[ve.XRANGEPLAIN]}$`);Be("XRANGELOOSE",`^${ge[ve.GTLT]}\\s*${ge[ve.XRANGEPLAINLOOSE]}$`);Be("COERCEPLAIN",`(^|[^\\d])(\\d{1,${QT}})(?:\\.(\\d{1,${QT}}))?(?:\\.(\\d{1,${QT}}))?`);Be("COERCE",`${ge[ve.COERCEPLAIN]}(?:$|[^\\d])`);Be("COERCEFULL",ge[ve.COERCEPLAIN]+`(?:${ge[ve.PRERELEASE]})?(?:${ge[ve.BUILD]})?(?:$|[^\\d])`);Be("COERCERTL",ge[ve.COERCE],!0);Be("COERCERTLFULL",ge[ve.COERCEFULL],!0);Be("LONETILDE","(?:~>?)");Be("TILDETRIM",`(\\s*)${ge[ve.LONETILDE]}\\s+`,!0);za.tildeTrimReplace="$1~";Be("TILDE",`^${ge[ve.LONETILDE]}${ge[ve.XRANGEPLAIN]}$`);Be("TILDELOOSE",`^${ge[ve.LONETILDE]}${ge[ve.XRANGEPLAINLOOSE]}$`);Be("LONECARET","(?:\\^)");Be("CARETTRIM",`(\\s*)${ge[ve.LONECARET]}\\s+`,!0);za.caretTrimReplace="$1^";Be("CARET",`^${ge[ve.LONECARET]}${ge[ve.XRANGEPLAIN]}$`);Be("CARETLOOSE",`^${ge[ve.LONECARET]}${ge[ve.XRANGEPLAINLOOSE]}$`);Be("COMPARATORLOOSE",`^${ge[ve.GTLT]}\\s*(${ge[ve.LOOSEPLAIN]})$|^$`);Be("COMPARATOR",`^${ge[ve.GTLT]}\\s*(${ge[ve.FULLPLAIN]})$|^$`);Be("COMPARATORTRIM",`(\\s*)${ge[ve.GTLT]}\\s*(${ge[ve.LOOSEPLAIN]}|${ge[ve.XRANGEPLAIN]})`,!0);za.comparatorTrimReplace="$1$2$3";Be("HYPHENRANGE",`^\\s*(${ge[ve.XRANGEPLAIN]})\\s+-\\s+(${ge[ve.XRANGEPLAIN]})\\s*$`);Be("HYPHENRANGELOOSE",`^\\s*(${ge[ve.XRANGEPLAINLOOSE]})\\s+-\\s+(${ge[ve.XRANGEPLAINLOOSE]})\\s*$`);Be("STAR","(<|>)?=?\\s*\\*");Be("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Be("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var yC=F((Jbe,M2)=>{var ire=Object.freeze({loose:!0}),sre=Object.freeze({}),are=t=>t?typeof t!="object"?ire:t:sre;M2.exports=are});var tk=F((Xbe,H2)=>{var $2=/^[0-9]+$/,j2=(t,e)=>{let n=$2.test(t),r=$2.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},cre=(t,e)=>j2(e,t);H2.exports={compareIdentifiers:j2,rcompareIdentifiers:cre}});var Or=F((Zbe,Y2)=>{var EC=Tv(),{MAX_LENGTH:B2,MAX_SAFE_INTEGER:CC}=Pv(),{safeRe:q2,t:W2}=zp(),lre=yC(),{compareIdentifiers:Gp}=tk(),nk=class t{constructor(e,n){if(n=lre(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>B2)throw new TypeError(`version is longer than ${B2} characters`);EC("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?q2[W2.LOOSE]:q2[W2.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>CC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>CC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>CC||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let i=+o;if(i>=0&&i<CC)return i}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(EC("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Gp(this.major,e.major)||Gp(this.minor,e.minor)||Gp(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],o=e.prerelease[n];if(EC("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return Gp(r,o)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],o=e.build[n];if(EC("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return Gp(r,o)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let i=[n,o];r===!1&&(i=[n]),Gp(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Y2.exports=nk});var Nd=F((Qbe,z2)=>{var V2=Or(),ure=(t,e,n=!1)=>{if(t instanceof V2)return t;try{return new V2(t,e)}catch(r){if(!n)return null;throw r}};z2.exports=ure});var K2=F((e_e,G2)=>{var dre=Nd(),fre=(t,e)=>{let n=dre(t,e);return n?n.version:null};G2.exports=fre});var X2=F((t_e,J2)=>{var pre=Nd(),mre=(t,e)=>{let n=pre(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};J2.exports=mre});var eH=F((n_e,Q2)=>{var Z2=Or(),hre=(t,e,n,r,o)=>{typeof n=="string"&&(o=r,r=n,n=void 0);try{return new Z2(t instanceof Z2?t.version:t,n).inc(e,r,o).version}catch{return null}};Q2.exports=hre});var rH=F((r_e,nH)=>{var tH=Nd(),gre=(t,e)=>{let n=tH(t,null,!0),r=tH(e,null,!0),o=n.compare(r);if(o===0)return null;let i=o>0,s=i?n:r,a=i?r:n,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let u=c?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};nH.exports=gre});var iH=F((o_e,oH)=>{var vre=Or(),xre=(t,e)=>new vre(t,e).major;oH.exports=xre});var aH=F((i_e,sH)=>{var wre=Or(),yre=(t,e)=>new wre(t,e).minor;sH.exports=yre});var lH=F((s_e,cH)=>{var Ere=Or(),Cre=(t,e)=>new Ere(t,e).patch;cH.exports=Cre});var dH=F((a_e,uH)=>{var bre=Nd(),_re=(t,e)=>{let n=bre(t,e);return n&&n.prerelease.length?n.prerelease:null};uH.exports=_re});var _i=F((c_e,pH)=>{var fH=Or(),Sre=(t,e,n)=>new fH(t,n).compare(new fH(e,n));pH.exports=Sre});var hH=F((l_e,mH)=>{var Dre=_i(),Ire=(t,e,n)=>Dre(e,t,n);mH.exports=Ire});var vH=F((u_e,gH)=>{var Pre=_i(),Tre=(t,e)=>Pre(t,e,!0);gH.exports=Tre});var bC=F((d_e,wH)=>{var xH=Or(),kre=(t,e,n)=>{let r=new xH(t,n),o=new xH(e,n);return r.compare(o)||r.compareBuild(o)};wH.exports=kre});var EH=F((f_e,yH)=>{var Rre=bC(),Nre=(t,e)=>t.sort((n,r)=>Rre(n,r,e));yH.exports=Nre});var bH=F((p_e,CH)=>{var Lre=bC(),Are=(t,e)=>t.sort((n,r)=>Lre(r,n,e));CH.exports=Are});var kv=F((m_e,_H)=>{var Ore=_i(),Fre=(t,e,n)=>Ore(t,e,n)>0;_H.exports=Fre});var _C=F((h_e,SH)=>{var Ure=_i(),Mre=(t,e,n)=>Ure(t,e,n)<0;SH.exports=Mre});var rk=F((g_e,DH)=>{var $re=_i(),jre=(t,e,n)=>$re(t,e,n)===0;DH.exports=jre});var ok=F((v_e,IH)=>{var Hre=_i(),Bre=(t,e,n)=>Hre(t,e,n)!==0;IH.exports=Bre});var SC=F((x_e,PH)=>{var qre=_i(),Wre=(t,e,n)=>qre(t,e,n)>=0;PH.exports=Wre});var DC=F((w_e,TH)=>{var Yre=_i(),Vre=(t,e,n)=>Yre(t,e,n)<=0;TH.exports=Vre});var ik=F((y_e,kH)=>{var zre=rk(),Gre=ok(),Kre=kv(),Jre=SC(),Xre=_C(),Zre=DC(),Qre=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return zre(t,n,r);case"!=":return Gre(t,n,r);case">":return Kre(t,n,r);case">=":return Jre(t,n,r);case"<":return Xre(t,n,r);case"<=":return Zre(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};kH.exports=Qre});var NH=F((E_e,RH)=>{var eoe=Or(),toe=Nd(),{safeRe:IC,t:PC}=zp(),noe=(t,e)=>{if(t instanceof eoe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?IC[PC.COERCEFULL]:IC[PC.COERCE]);else{let c=e.includePrerelease?IC[PC.COERCERTLFULL]:IC[PC.COERCERTL],l;for(;(l=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],o=n[3]||"0",i=n[4]||"0",s=e.includePrerelease&&n[5]?`-${n[5]}`:"",a=e.includePrerelease&&n[6]?`+${n[6]}`:"";return toe(`${r}.${o}.${i}${s}${a}`,e)};RH.exports=noe});var UH=F((C_e,FH)=>{"use strict";var roe=FE(),Ld=Symbol("max"),Ka=Symbol("length"),Kp=Symbol("lengthCalculator"),Nv=Symbol("allowStale"),Ad=Symbol("maxAge"),Ga=Symbol("dispose"),LH=Symbol("noDisposeOnSet"),or=Symbol("lruList"),ns=Symbol("cache"),OH=Symbol("updateAgeOnGet"),sk=()=>1,ck=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[Ld]=e.max||1/0,r=e.length||sk;if(this[Kp]=typeof r!="function"?sk:r,this[Nv]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ad]=e.maxAge||0,this[Ga]=e.dispose,this[LH]=e.noDisposeOnSet||!1,this[OH]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ld]=e||1/0,Rv(this)}get max(){return this[Ld]}set allowStale(e){this[Nv]=!!e}get allowStale(){return this[Nv]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Ad]=e,Rv(this)}get maxAge(){return this[Ad]}set lengthCalculator(e){typeof e!="function"&&(e=sk),e!==this[Kp]&&(this[Kp]=e,this[Ka]=0,this[or].forEach(n=>{n.length=this[Kp](n.value,n.key),this[Ka]+=n.length})),Rv(this)}get lengthCalculator(){return this[Kp]}get length(){return this[Ka]}get itemCount(){return this[or].length}rforEach(e,n){n=n||this;for(let r=this[or].tail;r!==null;){let o=r.prev;AH(this,e,r,n),r=o}}forEach(e,n){n=n||this;for(let r=this[or].head;r!==null;){let o=r.next;AH(this,e,r,n),r=o}}keys(){return this[or].toArray().map(e=>e.key)}values(){return this[or].toArray().map(e=>e.value)}reset(){this[Ga]&&this[or]&&this[or].length&&this[or].forEach(e=>this[Ga](e.key,e.value)),this[ns]=new Map,this[or]=new roe,this[Ka]=0}dump(){return this[or].map(e=>TC(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[or]}set(e,n,r){if(r=r||this[Ad],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let o=r?Date.now():0,i=this[Kp](n,e);if(this[ns].has(e)){if(i>this[Ld])return Jp(this,this[ns].get(e)),!1;let c=this[ns].get(e).value;return this[Ga]&&(this[LH]||this[Ga](e,c.value)),c.now=o,c.maxAge=r,c.value=n,this[Ka]+=i-c.length,c.length=i,this.get(e),Rv(this),!0}let s=new lk(e,n,i,o,r);return s.length>this[Ld]?(this[Ga]&&this[Ga](e,n),!1):(this[Ka]+=s.length,this[or].unshift(s),this[ns].set(e,this[or].head),Rv(this),!0)}has(e){if(!this[ns].has(e))return!1;let n=this[ns].get(e).value;return!TC(this,n)}get(e){return ak(this,e,!0)}peek(e){return ak(this,e,!1)}pop(){let e=this[or].tail;return e?(Jp(this,e),e.value):null}del(e){Jp(this,this[ns].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let o=e[r],i=o.e||0;if(i===0)this.set(o.k,o.v);else{let s=i-n;s>0&&this.set(o.k,o.v,s)}}}prune(){this[ns].forEach((e,n)=>ak(this,n,!1))}},ak=(t,e,n)=>{let r=t[ns].get(e);if(r){let o=r.value;if(TC(t,o)){if(Jp(t,r),!t[Nv])return}else n&&(t[OH]&&(r.value.now=Date.now()),t[or].unshiftNode(r));return o.value}},TC=(t,e)=>{if(!e||!e.maxAge&&!t[Ad])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Ad]&&n>t[Ad]},Rv=t=>{if(t[Ka]>t[Ld])for(let e=t[or].tail;t[Ka]>t[Ld]&&e!==null;){let n=e.prev;Jp(t,e),e=n}},Jp=(t,e)=>{if(e){let n=e.value;t[Ga]&&t[Ga](n.key,n.value),t[Ka]-=n.length,t[ns].delete(n.key),t[or].removeNode(e)}},lk=class{constructor(e,n,r,o,i){this.key=e,this.value=n,this.length=r,this.now=o,this.maxAge=i||0}},AH=(t,e,n,r)=>{let o=n.value;TC(t,o)&&(Jp(t,n),t[Nv]||(o=void 0)),o&&e.call(r,o.value,o.key,t)};FH.exports=ck});var Si=F((b_e,HH)=>{var uk=class t{constructor(e,n){if(n=ioe(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof dk)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(o=>!$H(o[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&foe(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&uoe)|(this.options.loose&&doe))+":"+e,o=MH.get(r);if(o)return o;let i=this.options.loose,s=i?So[to.HYPHENRANGELOOSE]:So[to.HYPHENRANGE];e=e.replace(s,Coe(this.options.includePrerelease)),$t("hyphen replace",e),e=e.replace(So[to.COMPARATORTRIM],aoe),$t("comparator trim",e),e=e.replace(So[to.TILDETRIM],coe),$t("tilde trim",e),e=e.replace(So[to.CARETTRIM],loe),$t("caret trim",e);let a=e.split(" ").map(d=>poe(d,this.options)).join(" ").split(/\s+/).map(d=>Eoe(d,this.options));i&&(a=a.filter(d=>($t("loose invalid filter",d,this.options),!!d.match(So[to.COMPARATORLOOSE])))),$t("range list",a);let c=new Map,l=a.map(d=>new dk(d,this.options));for(let d of l){if($H(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return MH.set(r,u),u}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>jH(r,n)&&e.set.some(o=>jH(o,n)&&r.every(i=>o.every(s=>i.intersects(s,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new soe(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(boe(this.set[n],e,this.options))return!0;return!1}};HH.exports=uk;var ooe=UH(),MH=new ooe({max:1e3}),ioe=yC(),dk=Lv(),$t=Tv(),soe=Or(),{safeRe:So,t:to,comparatorTrimReplace:aoe,tildeTrimReplace:coe,caretTrimReplace:loe}=zp(),{FLAG_INCLUDE_PRERELEASE:uoe,FLAG_LOOSE:doe}=Pv(),$H=t=>t.value==="<0.0.0-0",foe=t=>t.value==="",jH=(t,e)=>{let n=!0,r=t.slice(),o=r.pop();for(;n&&r.length;)n=r.every(i=>o.intersects(i,e)),o=r.pop();return n},poe=(t,e)=>($t("comp",t,e),t=goe(t,e),$t("caret",t),t=moe(t,e),$t("tildes",t),t=xoe(t,e),$t("xrange",t),t=yoe(t,e),$t("stars",t),t),no=t=>!t||t.toLowerCase()==="x"||t==="*",moe=(t,e)=>t.trim().split(/\s+/).map(n=>hoe(n,e)).join(" "),hoe=(t,e)=>{let n=e.loose?So[to.TILDELOOSE]:So[to.TILDE];return t.replace(n,(r,o,i,s,a)=>{$t("tilde",t,r,o,i,s,a);let c;return no(o)?c="":no(i)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:no(s)?c=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:a?($t("replaceTilde pr",a),c=`>=${o}.${i}.${s}-${a} <${o}.${+i+1}.0-0`):c=`>=${o}.${i}.${s} <${o}.${+i+1}.0-0`,$t("tilde return",c),c})},goe=(t,e)=>t.trim().split(/\s+/).map(n=>voe(n,e)).join(" "),voe=(t,e)=>{$t("caret",t,e);let n=e.loose?So[to.CARETLOOSE]:So[to.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(o,i,s,a,c)=>{$t("caret",t,o,i,s,a,c);let l;return no(i)?l="":no(s)?l=`>=${i}.0.0${r} <${+i+1}.0.0-0`:no(a)?i==="0"?l=`>=${i}.${s}.0${r} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.0${r} <${+i+1}.0.0-0`:c?($t("replaceCaret pr",c),i==="0"?s==="0"?l=`>=${i}.${s}.${a}-${c} <${i}.${s}.${+a+1}-0`:l=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.${a}-${c} <${+i+1}.0.0-0`):($t("no pr"),i==="0"?s==="0"?l=`>=${i}.${s}.${a}${r} <${i}.${s}.${+a+1}-0`:l=`>=${i}.${s}.${a}${r} <${i}.${+s+1}.0-0`:l=`>=${i}.${s}.${a} <${+i+1}.0.0-0`),$t("caret return",l),l})},xoe=(t,e)=>($t("replaceXRanges",t,e),t.split(/\s+/).map(n=>woe(n,e)).join(" ")),woe=(t,e)=>{t=t.trim();let n=e.loose?So[to.XRANGELOOSE]:So[to.XRANGE];return t.replace(n,(r,o,i,s,a,c)=>{$t("xRange",t,r,o,i,s,a,c);let l=no(i),u=l||no(s),d=u||no(a),f=d;return o==="="&&f&&(o=""),c=e.includePrerelease?"-0":"",l?o===">"||o==="<"?r="<0.0.0-0":r="*":o&&f?(u&&(s=0),a=0,o===">"?(o=">=",u?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):o==="<="&&(o="<",u?i=+i+1:s=+s+1),o==="<"&&(c="-0"),r=`${o+i}.${s}.${a}${c}`):u?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${s}.0${c} <${i}.${+s+1}.0-0`),$t("xRange return",r),r})},yoe=(t,e)=>($t("replaceStars",t,e),t.trim().replace(So[to.STAR],"")),Eoe=(t,e)=>($t("replaceGTE0",t,e),t.trim().replace(So[e.includePrerelease?to.GTE0PRE:to.GTE0],"")),Coe=t=>(e,n,r,o,i,s,a,c,l,u,d,f,p)=>(no(r)?n="":no(o)?n=`>=${r}.0.0${t?"-0":""}`:no(i)?n=`>=${r}.${o}.0${t?"-0":""}`:s?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,no(l)?c="":no(u)?c=`<${+l+1}.0.0-0`:no(d)?c=`<${l}.${+u+1}.0-0`:f?c=`<=${l}.${u}.${d}-${f}`:t?c=`<${l}.${u}.${+d+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),boe=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if($t(t[r].semver),t[r].semver!==dk.ANY&&t[r].semver.prerelease.length>0){let o=t[r].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var Lv=F((__e,zH)=>{var Av=Symbol("SemVer ANY"),mk=class t{static get ANY(){return Av}constructor(e,n){if(n=BH(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),pk("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Av?this.value="":this.value=this.operator+this.semver.version,pk("comp",this)}parse(e){let n=this.options.loose?qH[WH.COMPARATORLOOSE]:qH[WH.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new YH(r[2],this.options.loose):this.semver=Av}toString(){return this.value}test(e){if(pk("Comparator.test",e,this.options.loose),this.semver===Av||e===Av)return!0;if(typeof e=="string")try{e=new YH(e,this.options)}catch{return!1}return fk(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new VH(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new VH(this.value,n).test(e.semver):(n=BH(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||fk(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||fk(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};zH.exports=mk;var BH=yC(),{safeRe:qH,t:WH}=zp(),fk=ik(),pk=Tv(),YH=Or(),VH=Si()});var Ov=F((S_e,GH)=>{var _oe=Si(),Soe=(t,e,n)=>{try{e=new _oe(e,n)}catch{return!1}return e.test(t)};GH.exports=Soe});var JH=F((D_e,KH)=>{var Doe=Si(),Ioe=(t,e)=>new Doe(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));KH.exports=Ioe});var ZH=F((I_e,XH)=>{var Poe=Or(),Toe=Si(),koe=(t,e,n)=>{let r=null,o=null,i=null;try{i=new Toe(e,n)}catch{return null}return t.forEach(s=>{i.test(s)&&(!r||o.compare(s)===-1)&&(r=s,o=new Poe(r,n))}),r};XH.exports=koe});var eB=F((P_e,QH)=>{var Roe=Or(),Noe=Si(),Loe=(t,e,n)=>{let r=null,o=null,i=null;try{i=new Noe(e,n)}catch{return null}return t.forEach(s=>{i.test(s)&&(!r||o.compare(s)===1)&&(r=s,o=new Roe(r,n))}),r};QH.exports=Loe});var rB=F((T_e,nB)=>{var hk=Or(),Aoe=Si(),tB=kv(),Ooe=(t,e)=>{t=new Aoe(t,e);let n=new hk("0.0.0");if(t.test(n)||(n=new hk("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let o=t.set[r],i=null;o.forEach(s=>{let a=new hk(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||tB(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),i&&(!n||tB(n,i))&&(n=i)}return n&&t.test(n)?n:null};nB.exports=Ooe});var iB=F((k_e,oB)=>{var Foe=Si(),Uoe=(t,e)=>{try{return new Foe(t,e).range||"*"}catch{return null}};oB.exports=Uoe});var kC=F((R_e,lB)=>{var Moe=Or(),cB=Lv(),{ANY:$oe}=cB,joe=Si(),Hoe=Ov(),sB=kv(),aB=_C(),Boe=DC(),qoe=SC(),Woe=(t,e,n,r)=>{t=new Moe(t,r),e=new joe(e,r);let o,i,s,a,c;switch(n){case">":o=sB,i=Boe,s=aB,a=">",c=">=";break;case"<":o=aB,i=qoe,s=sB,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Hoe(t,e,r))return!1;for(let l=0;l<e.set.length;++l){let u=e.set[l],d=null,f=null;if(u.forEach(p=>{p.semver===$oe&&(p=new cB(">=0.0.0")),d=d||p,f=f||p,o(p.semver,d.semver,r)?d=p:s(p.semver,f.semver,r)&&(f=p)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&i(t,f.semver))return!1;if(f.operator===c&&s(t,f.semver))return!1}return!0};lB.exports=Woe});var dB=F((N_e,uB)=>{var Yoe=kC(),Voe=(t,e,n)=>Yoe(t,e,">",n);uB.exports=Voe});var pB=F((L_e,fB)=>{var zoe=kC(),Goe=(t,e,n)=>zoe(t,e,"<",n);fB.exports=Goe});var gB=F((A_e,hB)=>{var mB=Si(),Koe=(t,e,n)=>(t=new mB(t,n),e=new mB(e,n),t.intersects(e,n));hB.exports=Koe});var xB=F((O_e,vB)=>{var Joe=Ov(),Xoe=_i();vB.exports=(t,e,n)=>{let r=[],o=null,i=null,s=t.sort((u,d)=>Xoe(u,d,n));for(let u of s)Joe(u,e,n)?(i=u,o||(o=u)):(i&&r.push([o,i]),i=null,o=null);o&&r.push([o,null]);let a=[];for(let[u,d]of r)u===d?a.push(u):!d&&u===s[0]?a.push("*"):d?u===s[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e}});var _B=F((F_e,bB)=>{var wB=Si(),vk=Lv(),{ANY:gk}=vk,Fv=Ov(),xk=_i(),Zoe=(t,e,n={})=>{if(t===e)return!0;t=new wB(t,n),e=new wB(e,n);let r=!1;e:for(let o of t.set){for(let i of e.set){let s=eie(o,i,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},Qoe=[new vk(">=0.0.0-0")],yB=[new vk(">=0.0.0")],eie=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===gk){if(e.length===1&&e[0].semver===gk)return!0;n.includePrerelease?t=Qoe:t=yB}if(e.length===1&&e[0].semver===gk){if(n.includePrerelease)return!0;e=yB}let r=new Set,o,i;for(let p of t)p.operator===">"||p.operator===">="?o=EB(o,p,n):p.operator==="<"||p.operator==="<="?i=CB(i,p,n):r.add(p.semver);if(r.size>1)return null;let s;if(o&&i){if(s=xk(o.semver,i.semver,n),s>0)return null;if(s===0&&(o.operator!==">="||i.operator!=="<="))return null}for(let p of r){if(o&&!Fv(p,String(o),n)||i&&!Fv(p,String(i),n))return null;for(let m of e)if(!Fv(p,String(m),n))return!1;return!0}let a,c,l,u,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",o){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=EB(o,p,n),a===p&&a!==o)return!1}else if(o.operator===">="&&!Fv(o.semver,String(p),n))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=CB(i,p,n),c===p&&c!==i)return!1}else if(i.operator==="<="&&!Fv(i.semver,String(p),n))return!1}if(!p.operator&&(i||o)&&s!==0)return!1}return!(o&&l&&!i&&s!==0||i&&u&&!o&&s!==0||f||d)},EB=(t,e,n)=>{if(!t)return e;let r=xk(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},CB=(t,e,n)=>{if(!t)return e;let r=xk(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};bB.exports=Zoe});var yk=F((U_e,IB)=>{var wk=zp(),SB=Pv(),tie=Or(),DB=tk(),nie=Nd(),rie=K2(),oie=X2(),iie=eH(),sie=rH(),aie=iH(),cie=aH(),lie=lH(),uie=dH(),die=_i(),fie=hH(),pie=vH(),mie=bC(),hie=EH(),gie=bH(),vie=kv(),xie=_C(),wie=rk(),yie=ok(),Eie=SC(),Cie=DC(),bie=ik(),_ie=NH(),Sie=Lv(),Die=Si(),Iie=Ov(),Pie=JH(),Tie=ZH(),kie=eB(),Rie=rB(),Nie=iB(),Lie=kC(),Aie=dB(),Oie=pB(),Fie=gB(),Uie=xB(),Mie=_B();IB.exports={parse:nie,valid:rie,clean:oie,inc:iie,diff:sie,major:aie,minor:cie,patch:lie,prerelease:uie,compare:die,rcompare:fie,compareLoose:pie,compareBuild:mie,sort:hie,rsort:gie,gt:vie,lt:xie,eq:wie,neq:yie,gte:Eie,lte:Cie,cmp:bie,coerce:_ie,Comparator:Sie,Range:Die,satisfies:Iie,toComparators:Pie,maxSatisfying:Tie,minSatisfying:kie,minVersion:Rie,validRange:Nie,outside:Lie,gtr:Aie,ltr:Oie,intersects:Fie,simplifyRange:Uie,subset:Mie,SemVer:tie,re:wk.re,src:wk.src,tokens:wk.t,SEMVER_SPEC_VERSION:SB.SEMVER_SPEC_VERSION,RELEASE_TYPES:SB.RELEASE_TYPES,compareIdentifiers:DB.compareIdentifiers,rcompareIdentifiers:DB.rcompareIdentifiers}});var Ek=F(PB=>{PB.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{let t=require("original-fs");if(Object.keys(t).length>0)return t}catch{}return require("fs")}});var Ck=F(($_e,TB)=>{TB.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var bk=F((j_e,kB)=>{kB.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}});var AB=F((H_e,LB)=>{var $ie=Ek().require(),ro=require("path"),RB=Ck(),jie=bk(),Hie=typeof process=="object"&&process.platform==="win32",NB=t=>t&&typeof t=="object",_k=new Uint32Array(256).map((t,e)=>{for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e>>>=1;return e>>>0});function wr(t){this.sep=ro.sep,this.fs=$ie,NB(t)&&NB(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}LB.exports=wr;wr.prototype.makeDir=function(t){let e=this;function n(r){let o=r.split(e.sep)[0];r.split(e.sep).forEach(function(i){if(!(!i||i.substr(-1,1)===":")){o+=e.sep+i;var s;try{s=e.fs.statSync(o)}catch{e.fs.mkdirSync(o)}if(s&&s.isFile())throw jie.FILE_IN_THE_WAY.replace("%s",o)}})}n(t)};wr.prototype.writeFileTo=function(t,e,n,r){let o=this;if(o.fs.existsSync(t)){if(!n)return!1;var i=o.fs.statSync(t);if(i.isDirectory())return!1}var s=ro.dirname(t);o.fs.existsSync(s)||o.makeDir(s);var a;try{a=o.fs.openSync(t,"w",438)}catch{o.fs.chmodSync(t,438),a=o.fs.openSync(t,"w",438)}if(a)try{o.fs.writeSync(a,e,0,e.length,0)}finally{o.fs.closeSync(a)}return o.fs.chmodSync(t,r||438),!0};wr.prototype.writeFileToAsync=function(t,e,n,r,o){typeof r=="function"&&(o=r,r=void 0);let i=this;i.fs.exists(t,function(s){if(s&&!n)return o(!1);i.fs.stat(t,function(a,c){if(s&&c.isDirectory())return o(!1);var l=ro.dirname(t);i.fs.exists(l,function(u){u||i.makeDir(l),i.fs.open(t,"w",438,function(d,f){d?i.fs.chmod(t,438,function(){i.fs.open(t,"w",438,function(p,m){i.fs.write(m,e,0,e.length,0,function(){i.fs.close(m,function(){i.fs.chmod(t,r||438,function(){o(!0)})})})})}):f?i.fs.write(f,e,0,e.length,0,function(){i.fs.close(f,function(){i.fs.chmod(t,r||438,function(){o(!0)})})}):i.fs.chmod(t,r||438,function(){o(!0)})})})})})};wr.prototype.findFiles=function(t){let e=this;function n(r,o,i){typeof o=="boolean"&&(i=o,o=void 0);let s=[];return e.fs.readdirSync(r).forEach(function(a){var c=ro.join(r,a);e.fs.statSync(c).isDirectory()&&i&&(s=s.concat(n(c,o,i))),(!o||o.test(c))&&s.push(ro.normalize(c)+(e.fs.statSync(c).isDirectory()?e.sep:""))}),s}return n(t,void 0,!0)};wr.prototype.getAttributes=function(){};wr.prototype.setAttributes=function(){};wr.crc32update=function(t,e){return _k[(t^e)&255]^t>>>8};wr.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8")),_k.length||genCRCTable();let e=t.length,n=-1;for(let r=0;r<e;)n=wr.crc32update(n,t[r++]);return~n>>>0};wr.methodToString=function(t){switch(t){case RB.STORED:return"STORED ("+t+")";case RB.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};wr.canonical=function(t){if(!t)return"";var e=ro.posix.normalize("/"+t.split("\\").join("/"));return ro.join(".",e)};wr.sanitize=function(t,e){t=ro.resolve(ro.normalize(t));for(var n=e.split("/"),r=0,o=n.length;r<o;r++){var i=ro.normalize(ro.join(t,n.slice(r,o).join(ro.sep)));if(i.indexOf(t)===0)return i}return ro.normalize(ro.join(t,ro.basename(e)))};wr.toBuffer=function(e){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?Buffer.from(e,"utf8"):Buffer.alloc(0)};wr.readBigUInt64LE=function(t,e){var n=Buffer.from(t.slice(e,e+8));return n.swap64(),parseInt(`0x${n.toString("hex")}`)};wr.isWin=Hie;wr.crcTable=_k});var UB=F((B_e,FB)=>{var RC=Ek().require(),OB=require("path");RC.existsSync=RC.existsSync||OB.existsSync;FB.exports=function(t){var e=t||"",n=o(),r=null;function o(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return e&&RC.existsSync(e)?(r=RC.statSync(e),n.directory=r.isDirectory(),n.mtime=r.mtime,n.atime=r.atime,n.executable=(73&r.mode)!==0,n.readonly=(128&r.mode)===0,n.hidden=OB.basename(e)[0]==="."):console.warn("Invalid path: "+e),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:e,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Xp=F((q_e,Uv)=>{Uv.exports=AB();Uv.exports.Constants=Ck();Uv.exports.Errors=bk();Uv.exports.FileAttr=UB()});var $B=F((W_e,MB)=>{var Mv=Xp(),we=Mv.Constants;MB.exports=function(){var t=20,e=10,n=0,r=0,o=0,i=0,s=0,a=0,c=0,l=0,u=0,d=0,f=0,p=0,m=0;t|=Mv.isWin?2560:768,n|=we.FLG_EFS;var h={};function v(g){g=new Date(g),o=(g.getFullYear()-1980&127)<<25|g.getMonth()+1<<21|g.getDate()<<16|g.getHours()<<11|g.getMinutes()<<5|g.getSeconds()>>1}return v(+new Date),{get made(){return t},set made(g){t=g},get version(){return e},set version(g){e=g},get flags(){return n},set flags(g){n=g},get method(){return r},set method(g){switch(g){case we.STORED:this.version=10;case we.DEFLATED:default:this.version=20}r=g},get time(){return new Date((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1)},set time(g){v(g)},get crc(){return i},set crc(g){i=Math.max(0,g)>>>0},get compressedSize(){return s},set compressedSize(g){s=Math.max(0,g)>>>0},get size(){return a},set size(g){a=Math.max(0,g)>>>0},get fileNameLength(){return c},set fileNameLength(g){c=g},get extraLength(){return l},set extraLength(g){l=g},get commentLength(){return u},set commentLength(g){u=g},get diskNumStart(){return d},set diskNumStart(g){d=Math.max(0,g)>>>0},get inAttr(){return f},set inAttr(g){f=Math.max(0,g)>>>0},get attr(){return p},set attr(g){p=Math.max(0,g)>>>0},get fileAttr(){return p?(p>>>0|0)>>16&4095:0},get offset(){return m},set offset(g){m=Math.max(0,g)>>>0},get encripted(){return(n&1)===1},get entryHeaderSize(){return we.CENHDR+c+l+u},get realDataOffset(){return m+we.LOCHDR+h.fnameLen+h.extraLen},get dataHeader(){return h},loadDataHeaderFromBinary:function(g){var w=g.slice(m,m+we.LOCHDR);if(w.readUInt32LE(0)!==we.LOCSIG)throw new Error(Mv.Errors.INVALID_LOC);h={version:w.readUInt16LE(we.LOCVER),flags:w.readUInt16LE(we.LOCFLG),method:w.readUInt16LE(we.LOCHOW),time:w.readUInt32LE(we.LOCTIM),crc:w.readUInt32LE(we.LOCCRC),compressedSize:w.readUInt32LE(we.LOCSIZ),size:w.readUInt32LE(we.LOCLEN),fnameLen:w.readUInt16LE(we.LOCNAM),extraLen:w.readUInt16LE(we.LOCEXT)}},loadFromBinary:function(g){if(g.length!==we.CENHDR||g.readUInt32LE(0)!==we.CENSIG)throw new Error(Mv.Errors.INVALID_CEN);t=g.readUInt16LE(we.CENVEM),e=g.readUInt16LE(we.CENVER),n=g.readUInt16LE(we.CENFLG),r=g.readUInt16LE(we.CENHOW),o=g.readUInt32LE(we.CENTIM),i=g.readUInt32LE(we.CENCRC),s=g.readUInt32LE(we.CENSIZ),a=g.readUInt32LE(we.CENLEN),c=g.readUInt16LE(we.CENNAM),l=g.readUInt16LE(we.CENEXT),u=g.readUInt16LE(we.CENCOM),d=g.readUInt16LE(we.CENDSK),f=g.readUInt16LE(we.CENATT),p=g.readUInt32LE(we.CENATX),m=g.readUInt32LE(we.CENOFF)},dataHeaderToBinary:function(){var g=Buffer.alloc(we.LOCHDR);return g.writeUInt32LE(we.LOCSIG,0),g.writeUInt16LE(e,we.LOCVER),g.writeUInt16LE(n,we.LOCFLG),g.writeUInt16LE(r,we.LOCHOW),g.writeUInt32LE(o,we.LOCTIM),g.writeUInt32LE(i,we.LOCCRC),g.writeUInt32LE(s,we.LOCSIZ),g.writeUInt32LE(a,we.LOCLEN),g.writeUInt16LE(c,we.LOCNAM),g.writeUInt16LE(l,we.LOCEXT),g},entryHeaderToBinary:function(){var g=Buffer.alloc(we.CENHDR+c+l+u);return g.writeUInt32LE(we.CENSIG,0),g.writeUInt16LE(t,we.CENVEM),g.writeUInt16LE(e,we.CENVER),g.writeUInt16LE(n,we.CENFLG),g.writeUInt16LE(r,we.CENHOW),g.writeUInt32LE(o,we.CENTIM),g.writeUInt32LE(i,we.CENCRC),g.writeUInt32LE(s,we.CENSIZ),g.writeUInt32LE(a,we.CENLEN),g.writeUInt16LE(c,we.CENNAM),g.writeUInt16LE(l,we.CENEXT),g.writeUInt16LE(u,we.CENCOM),g.writeUInt16LE(d,we.CENDSK),g.writeUInt16LE(f,we.CENATT),g.writeUInt32LE(p,we.CENATX),g.writeUInt32LE(m,we.CENOFF),g.fill(0,we.CENHDR),g},toJSON:function(){let g=function(w){return w+" bytes"};return{made:t,version:e,flags:n,method:Mv.methodToString(r),time:this.time,crc:"0x"+i.toString(16).toUpperCase(),compressedSize:g(s),size:g(a),fileNameLength:g(c),extraLength:g(l),commentLength:g(u),diskNumStart:d,inAttr:f,attr:p,offset:m,entryHeaderSize:g(we.CENHDR+c+l+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var HB=F((Y_e,jB)=>{var Zp=Xp(),Jt=Zp.Constants;jB.exports=function(){var t=0,e=0,n=0,r=0,o=0;return{get diskEntries(){return t},set diskEntries(i){t=e=i},get totalEntries(){return e},set totalEntries(i){e=t=i},get size(){return n},set size(i){n=i},get offset(){return r},set offset(i){r=i},get commentLength(){return o},set commentLength(i){o=i},get mainHeaderSize(){return Jt.ENDHDR+o},loadFromBinary:function(i){if((i.length!==Jt.ENDHDR||i.readUInt32LE(0)!==Jt.ENDSIG)&&(i.length<Jt.ZIP64HDR||i.readUInt32LE(0)!==Jt.ZIP64SIG))throw new Error(Zp.Errors.INVALID_END);i.readUInt32LE(0)===Jt.ENDSIG?(t=i.readUInt16LE(Jt.ENDSUB),e=i.readUInt16LE(Jt.ENDTOT),n=i.readUInt32LE(Jt.ENDSIZ),r=i.readUInt32LE(Jt.ENDOFF),o=i.readUInt16LE(Jt.ENDCOM)):(t=Zp.readBigUInt64LE(i,Jt.ZIP64SUB),e=Zp.readBigUInt64LE(i,Jt.ZIP64TOT),n=Zp.readBigUInt64LE(i,Jt.ZIP64SIZE),r=Zp.readBigUInt64LE(i,Jt.ZIP64OFF),o=0)},toBinary:function(){var i=Buffer.alloc(Jt.ENDHDR+o);return i.writeUInt32LE(Jt.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(t,Jt.ENDSUB),i.writeUInt16LE(e,Jt.ENDTOT),i.writeUInt32LE(n,Jt.ENDSIZ),i.writeUInt32LE(r,Jt.ENDOFF),i.writeUInt16LE(o,Jt.ENDCOM),i.fill(" ",Jt.ENDHDR),i},toJSON:function(){let i=function(s,a){let c=s.toString(16).toUpperCase();for(;c.length<a;)c="0"+c;return"0x"+c};return{diskEntries:t,totalEntries:e,size:n+" bytes",offset:i(r,4),commentLength:o}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Dk=F(Sk=>{Sk.EntryHeader=$B();Sk.MainHeader=HB()});var qB=F((z_e,BB)=>{BB.exports=function(t){var e=require("zlib"),n={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,n)},deflateAsync:function(r){var o=e.createDeflateRaw(n),i=[],s=0;o.on("data",function(a){i.push(a),s+=a.length}),o.on("end",function(){var a=Buffer.alloc(s),c=0;a.fill(0);for(var l=0;l<i.length;l++){var u=i[l];u.copy(a,c),c+=u.length}r&&r(a)}),o.end(t)}}}});var YB=F((G_e,WB)=>{WB.exports=function(t){var e=require("zlib");return{inflate:function(){return e.inflateRawSync(t)},inflateAsync:function(n){var r=e.createInflateRaw(),o=[],i=0;r.on("data",function(s){o.push(s),i+=s.length}),r.on("end",function(){var s=Buffer.alloc(i),a=0;s.fill(0);for(var c=0;c<o.length;c++){var l=o[c];l.copy(s,a),a+=l.length}n&&n(s)}),r.end(t)}}}});var JB=F((K_e,KB)=>{"use strict";var{randomFillSync:VB}=require("crypto"),Bie=new Uint32Array(256).map((t,e)=>{for(let n=0;n<8;n++)e&1?e=e>>>1^3988292384:e>>>=1;return e>>>0}),GB=(t,e)=>Math.imul(t,e)>>>0,zB=(t,e)=>Bie[(t^e)&255]^t>>>8,$v=()=>typeof VB=="function"?VB(Buffer.alloc(12)):$v.node();$v.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let n=0;n<e;n++)t[n]=Math.random()*256&255;return t};var NC={genSalt:$v};function LC(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let n=0;n<e.length;n++)this.updateKeys(e[n])}LC.prototype.updateKeys=function(t){let e=this.keys;return e[0]=zB(e[0],t),e[1]+=e[0]&255,e[1]=GB(e[1],134775813)+1,e[2]=zB(e[2],e[1]>>>24),t};LC.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return GB(t,t^1)>>8&255};function qie(t){let e=new LC(t);return function(n){let r=Buffer.alloc(n.length),o=0;for(let i of n)r[o++]=e.updateKeys(i^e.next());return r}}function Wie(t){let e=new LC(t);return function(n,r,o=0){r||(r=Buffer.alloc(n.length));for(let i of n){let s=e.next();r[o++]=i^s,e.updateKeys(i)}return r}}function Yie(t,e,n){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let r=qie(n);if(r(t.slice(0,12))[11]!==e.crc>>>24)throw"ADM-ZIP: Wrong Password";return r(t.slice(12))}function Vie(t){Buffer.isBuffer(t)&&t.length>=12?NC.genSalt=function(){return t.slice(0,12)}:t==="node"?NC.genSalt=$v.node:NC.genSalt=$v}function zie(t,e,n,r=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let o=Wie(n),i=NC.genSalt();i[11]=e.crc>>>24&255,r&&(i[10]=e.crc>>>16&255);let s=Buffer.alloc(t.length+12);return o(i,s),o(t,s,12)}KB.exports={decrypt:Yie,encrypt:zie,_salter:Vie}});var XB=F(AC=>{AC.Deflater=qB();AC.Inflater=YB();AC.ZipCrypto=JB()});var Pk=F((X_e,ZB)=>{var Dn=Xp(),Gie=Dk(),ei=Dn.Constants,Ik=XB();ZB.exports=function(t){var e=new Gie.EntryHeader,n=Buffer.alloc(0),r=Buffer.alloc(0),o=!1,i=null,s=Buffer.alloc(0);function a(){return!t||!Buffer.isBuffer(t)?Buffer.alloc(0):(e.loadDataHeaderFromBinary(t),t.slice(e.realDataOffset,e.realDataOffset+e.compressedSize))}function c(m){return!((e.flags&8)!==8&&Dn.crc32(m)!==e.dataHeader.crc)}function l(m,h,v){if(typeof h>"u"&&typeof m=="string"&&(v=m,m=void 0),o)return m&&h&&h(Buffer.alloc(0),Dn.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var g=a();if(g.length===0)return m&&h&&h(g),g;if(e.encripted){if(typeof v!="string"&&!Buffer.isBuffer(v))throw new Error("ADM-ZIP: Incompatible password parameter");g=Ik.ZipCrypto.decrypt(g,e,v)}var w=Buffer.alloc(e.size);switch(e.method){case Dn.Constants.STORED:if(g.copy(w),c(w))return m&&h&&h(w),w;throw m&&h&&h(w,Dn.Errors.BAD_CRC),new Error(Dn.Errors.BAD_CRC);case Dn.Constants.DEFLATED:var x=new Ik.Inflater(g);if(m)x.inflateAsync(function(y){y.copy(y,0),h&&(c(y)?h(y):h(y,Dn.Errors.BAD_CRC))});else{if(x.inflate(w).copy(w,0),!c(w))throw new Error(Dn.Errors.BAD_CRC+" "+n.toString());return w}break;default:throw m&&h&&h(Buffer.alloc(0),Dn.Errors.UNKNOWN_METHOD),new Error(Dn.Errors.UNKNOWN_METHOD)}}function u(m,h){if((!i||!i.length)&&Buffer.isBuffer(t))return m&&h&&h(a()),a();if(i.length&&!o){var v;switch(e.method){case Dn.Constants.STORED:return e.compressedSize=e.size,v=Buffer.alloc(i.length),i.copy(v),m&&h&&h(v),v;default:case Dn.Constants.DEFLATED:var g=new Ik.Deflater(i);if(m)g.deflateAsync(function(x){v=Buffer.alloc(x.length),e.compressedSize=x.length,x.copy(v),h&&h(v)});else{var w=g.deflate();return e.compressedSize=w.length,w}g=null;break}}else if(m&&h)h(Buffer.alloc(0));else return Buffer.alloc(0)}function d(m,h){return(m.readUInt32LE(h+4)<<4)+m.readUInt32LE(h)}function f(m){for(var h=0,v,g,w;h<m.length;)v=m.readUInt16LE(h),h+=2,g=m.readUInt16LE(h),h+=2,w=m.slice(h,h+g),h+=g,ei.ID_ZIP64===v&&p(w)}function p(m){var h,v,g,w;m.length>=ei.EF_ZIP64_SCOMP&&(h=d(m,ei.EF_ZIP64_SUNCOMP),e.size===ei.EF_ZIP64_OR_32&&(e.size=h)),m.length>=ei.EF_ZIP64_RHO&&(v=d(m,ei.EF_ZIP64_SCOMP),e.compressedSize===ei.EF_ZIP64_OR_32&&(e.compressedSize=v)),m.length>=ei.EF_ZIP64_DSN&&(g=d(m,ei.EF_ZIP64_RHO),e.offset===ei.EF_ZIP64_OR_32&&(e.offset=g)),m.length>=ei.EF_ZIP64_DSN+4&&(w=m.readUInt32LE(ei.EF_ZIP64_DSN),e.diskNumStart===ei.EF_ZIP64_OR_16&&(e.diskNumStart=w))}return{get entryName(){return n.toString()},get rawEntryName(){return n},set entryName(m){n=Dn.toBuffer(m);var h=n[n.length-1];o=h===47||h===92,e.fileNameLength=n.length},get extra(){return s},set extra(m){s=m,e.extraLength=m.length,f(m)},get comment(){return r.toString()},set comment(m){r=Dn.toBuffer(m),e.commentLength=r.length},get name(){var m=n.toString();return o?m.substr(m.length-1).split("/").pop():m.split("/").pop()},get isDirectory(){return o},getCompressedData:function(){return u(!1,null)},getCompressedDataAsync:function(m){u(!0,m)},setData:function(m){i=Dn.toBuffer(m),!o&&i.length?(e.size=i.length,e.method=Dn.Constants.DEFLATED,e.crc=Dn.crc32(m),e.changed=!0):e.method=Dn.Constants.STORED},getData:function(m){return e.changed?i:l(!1,null,m)},getDataAsync:function(m,h){e.changed?m(i):l(!0,m,h)},set attr(m){e.attr=m},get attr(){return e.attr},set header(m){e.loadFromBinary(m)},get header(){return e},packHeader:function(){var m=e.entryHeaderToBinary(),h=Dn.Constants.CENHDR;return n.copy(m,h),h+=n.length,e.extraLength&&(s.copy(m,h),h+=e.extraLength),e.commentLength&&r.copy(m,h),m},toJSON:function(){let m=function(h){return"<"+(h&&h.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:e.toJSON(),compressedData:m(t),data:m(i)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var tq=F((Z_e,eq)=>{var QB=Pk(),Kie=Dk(),Fr=Xp();eq.exports=function(t,e){var n=[],r={},o=Buffer.alloc(0),i=new Kie.MainHeader,s=!1;let a=Object.assign(Object.create(null),e),{noSort:c}=a;t?d(a.readEntries):s=!0;function l(p){let m=i.diskEntries,h=i.offset;for(let v=0;v<m;v++){let g=h,w=new QB(t);w.header=t.slice(g,g+=Fr.Constants.CENHDR),w.entryName=t.slice(g,g+=w.header.fileNameLength),h+=w.header.entryHeaderSize,p(w)}}function u(){s=!0,r={},n=new Array(i.diskEntries);for(var p=i.offset,m=0;m<n.length;m++){var h=p,v=new QB(t);v.header=t.slice(h,h+=Fr.Constants.CENHDR),v.entryName=t.slice(h,h+=v.header.fileNameLength),v.header.extraLength&&(v.extra=t.slice(h,h+=v.header.extraLength)),v.header.commentLength&&(v.comment=t.slice(h,h+v.header.commentLength)),p+=v.header.entryHeaderSize,n[m]=v,r[v.entryName]=v}}function d(p){var m=t.length-Fr.Constants.ENDHDR,h=Math.max(0,m-65535),v=h,g=t.length,w=-1,x=0;for(m;m>=v;m--)if(t[m]===80){if(t.readUInt32LE(m)===Fr.Constants.ENDSIG){w=m,x=m,g=m+Fr.Constants.ENDHDR,v=m-Fr.Constants.END64HDR;continue}if(t.readUInt32LE(m)===Fr.Constants.END64SIG){v=h;continue}if(t.readUInt32LE(m)===Fr.Constants.ZIP64SIG){w=m,g=m+Fr.readBigUInt64LE(t,m+Fr.Constants.ZIP64SIZE)+Fr.Constants.ZIP64LEAD;break}}if(!~w)throw new Error(Fr.Errors.INVALID_FORMAT);i.loadFromBinary(t.slice(w,g)),i.commentLength&&(o=t.slice(x+Fr.Constants.ENDHDR)),p&&u()}function f(){n.length>1&&!c&&n.sort((p,m)=>p.entryName.toLowerCase().localeCompare(m.entryName.toLowerCase()))}return{get entries(){return s||u(),n},get comment(){return o.toString()},set comment(p){o=Fr.toBuffer(p),i.commentLength=o.length},getEntryCount:function(){return s?n.length:i.diskEntries},forEach:function(p){if(!s){l(p);return}n.forEach(p)},getEntry:function(p){return s||u(),r[p]||null},setEntry:function(p){s||u(),n.push(p),r[p.entryName]=p,i.totalEntries=n.length},deleteEntry:function(p){s||u();var m=r[p];if(m&&m.isDirectory){var h=this;this.getEntryChildren(m).forEach(function(v){v.entryName!==p&&h.deleteEntry(v.entryName)})}n.splice(n.indexOf(m),1),delete r[p],i.totalEntries=n.length},getEntryChildren:function(p){if(s||u(),p&&p.isDirectory){let m=[],h=p.entryName,v=h.length;return n.forEach(function(g){g.entryName.substr(0,v)===h&&m.push(g)}),m}return[]},compressToBuffer:function(){s||u(),f();let p=[],m=[],h=0,v=0;i.size=0,i.offset=0;for(let x of n){let y=x.getCompressedData();x.header.offset=v;let E=x.header.dataHeaderToBinary(),T=x.rawEntryName.length,k=Buffer.alloc(T+x.extra.length);x.rawEntryName.copy(k,0),k.copy(x.extra,T);let R=E.length+k.length+y.length;v+=R,p.push(E),p.push(k),p.push(y);let b=x.packHeader();m.push(b),i.size+=b.length,h+=R+b.length}h+=i.mainHeaderSize,i.offset=v,v=0;let g=Buffer.alloc(h);for(let x of p)x.copy(g,v),v+=x.length;for(let x of m)x.copy(g,v),v+=x.length;let w=i.toBinary();return o&&o.copy(w,Fr.Constants.ENDHDR),w.copy(g,v),g},toAsyncBuffer:function(p,m,h,v){try{s||u(),f();let g=[],w=[],x=0,y=0;i.size=0,i.offset=0;let E=function(T){if(T.length){let k=T.pop(),R=k.entryName+k.extra.toString();h&&h(R),k.getCompressedDataAsync(function(b){v&&v(R),k.header.offset=y;let I=k.header.dataHeaderToBinary(),_=Buffer.alloc(R.length,R),D=I.length+_.length+b.length;y+=D,g.push(I),g.push(_),g.push(b);let S=k.packHeader();w.push(S),i.size+=S.length,x+=D+S.length,E(T)})}else{x+=i.mainHeaderSize,i.offset=y,y=0;let k=Buffer.alloc(x);g.forEach(function(b){b.copy(k,y),y+=b.length}),w.forEach(function(b){b.copy(k,y),y+=b.length});let R=i.toBinary();o&&o.copy(R,Fr.Constants.ENDHDR),R.copy(k,y),p(k)}};E(n)}catch(g){m(g)}}}}});var rq=F((Q_e,nq)=>{var ir=Xp(),js=require("path"),Jie=Pk(),Xie=tq(),Od=(t,e)=>typeof t=="boolean"?t:e,Tk=(t,e)=>typeof t=="string"?t:e,Zie={noSort:!1,readEntries:!1,method:ir.Constants.NONE,fs:null};nq.exports=function(t,e){let n=null,r=Object.assign(Object.create(null),Zie);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(r,t),t=r.input?r.input:void 0,r.input&&delete r.input),Buffer.isBuffer(t)&&(n=t,r.method=ir.Constants.BUFFER,t=void 0)),Object.assign(r,e);let o=new ir(r);if(t&&typeof t=="string")if(o.fs.existsSync(t))r.method=ir.Constants.FILE,r.filename=t,n=o.fs.readFileSync(t);else throw new Error(ir.Errors.INVALID_FILENAME);let i=new Xie(n,r),{canonical:s,sanitize:a}=ir;function c(u){if(u&&i){var d;if(typeof u=="string"&&(d=i.getEntry(u)),typeof u=="object"&&typeof u.entryName<"u"&&typeof u.header<"u"&&(d=i.getEntry(u.entryName)),d)return d}return null}function l(u){let{join:d,normalize:f,sep:p}=js.posix;return d(".",f(p+u.split("\\").join(p)+p))}return{readFile:function(u,d){var f=c(u);return f&&f.getData(d)||null},readFileAsync:function(u,d){var f=c(u);f?f.getDataAsync(d):d(null,"getEntry failed for:"+u)},readAsText:function(u,d){var f=c(u);if(f){var p=f.getData();if(p&&p.length)return p.toString(d||"utf8")}return""},readAsTextAsync:function(u,d,f){var p=c(u);p?p.getDataAsync(function(m,h){if(h){d(m,h);return}m&&m.length?d(m.toString(f||"utf8")):d("")}):d("")},deleteFile:function(u){var d=c(u);d&&i.deleteEntry(d.entryName)},addZipComment:function(u){i.comment=u},getZipComment:function(){return i.comment||""},addZipEntryComment:function(u,d){var f=c(u);f&&(f.comment=d)},getZipEntryComment:function(u){var d=c(u);return d&&d.comment||""},updateFile:function(u,d){var f=c(u);f&&f.setData(d)},addLocalFile:function(u,d,f,p){if(o.fs.existsSync(u)){d=d?l(d):"";var m=u.split("\\").join("/").split("/").pop();d+=f||m;let h=o.fs.statSync(u);this.addFile(d,o.fs.readFileSync(u),p,h)}else throw new Error(ir.Errors.FILE_NOT_FOUND.replace("%s",u))},addLocalFolder:function(u,d,f,p){if(f instanceof RegExp?f=function(m){return function(h){return m.test(h)}}(f):typeof f!="function"&&(f=function(){return!0}),d=d?l(d):"",u=js.normalize(u),o.fs.existsSync(u)){let m=o.findFiles(u),h=this;m.length&&m.forEach(function(v){var g=js.relative(u,v).split("\\").join("/");if(f(g)){var w=o.fs.statSync(v);w.isFile()?h.addFile(d+g,o.fs.readFileSync(v),"",p||w):h.addFile(d+g+"/",Buffer.alloc(0),"",p||w)}})}else throw new Error(ir.Errors.FILE_NOT_FOUND.replace("%s",u))},addLocalFolderAsync:function(u,d,f,p){p instanceof RegExp?p=function(h){return function(v){return h.test(v)}}(p):typeof p!="function"&&(p=function(){return!0}),f=f?l(f):"",u=js.normalize(u);var m=this;o.fs.open(u,"r",function(h){if(h&&h.code==="ENOENT")d(void 0,ir.Errors.FILE_NOT_FOUND.replace("%s",u));else if(h)d(void 0,h);else{var v=o.findFiles(u),g=-1,w=function(){if(g+=1,g<v.length){var x=v[g],y=js.relative(u,x).split("\\").join("/");y=y.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),p(y)?o.fs.stat(x,function(E,T){E&&d(void 0,E),T.isFile()?o.fs.readFile(x,function(k,R){k?d(void 0,k):(m.addFile(f+y,R,"",T),w())}):(m.addFile(f+y+"/",Buffer.alloc(0),"",T),w())}):process.nextTick(()=>{w()})}else d(!0,void 0)};w()}})},addLocalFolderPromise:function(u,d){return new Promise((f,p)=>{let{filter:m,zipPath:h}=Object.assign({},d);this.addLocalFolderAsync(u,(v,g)=>{g&&p(g),v&&f(this)},h,m)})},addFile:function(u,d,f,p){let m=c(u),h=m!=null;h||(m=new Jie,m.entryName=u),m.comment=f||"";let v=typeof p=="object"&&p instanceof o.fs.Stats;v&&(m.header.time=p.mtime);var g=m.isDirectory?16:0;let w=m.isDirectory?16384:32768;v?w|=4095&p.mode:typeof p=="number"?w|=4095&p:w|=m.isDirectory?493:420,g=(g|w<<16)>>>0,m.attr=g,m.setData(d),h||i.setEntry(m)},getEntries:function(){return i?i.entries:[]},getEntry:function(u){return c(u)},getEntryCount:function(){return i.getEntryCount()},forEach:function(u){return i.forEach(u)},extractEntryTo:function(u,d,f,p,m,h){p=Od(p,!1),m=Od(m,!1),f=Od(f,!0),h=Tk(h,Tk(m,void 0));var v=c(u);if(!v)throw new Error(ir.Errors.NO_ENTRY);var g=s(v.entryName),w=a(d,h&&!v.isDirectory?h:f?g:js.basename(g));if(v.isDirectory){var x=i.getEntryChildren(v);return x.forEach(function(T){if(T.isDirectory)return;var k=T.getData();if(!k)throw new Error(ir.Errors.CANT_EXTRACT_FILE);var R=s(T.entryName),b=a(d,f?R:js.basename(R));let I=m?T.header.fileAttr:void 0;o.writeFileTo(b,k,p,I)}),!0}var y=v.getData();if(!y)throw new Error(ir.Errors.CANT_EXTRACT_FILE);if(o.fs.existsSync(w)&&!p)throw new Error(ir.Errors.CANT_OVERRIDE);let E=m?u.header.fileAttr:void 0;return o.writeFileTo(w,y,p,E),!0},test:function(u){if(!i)return!1;for(var d in i.entries)try{if(d.isDirectory)continue;var f=i.entries[d].getData(u);if(!f)return!1}catch{return!1}return!0},extractAllTo:function(u,d,f,p){if(d=Od(d,!1),p=Tk(f,p),f=Od(f,!1),!i)throw new Error(ir.Errors.NO_ZIP);i.entries.forEach(function(m){var h=a(u,s(m.entryName.toString()));if(m.isDirectory){o.makeDir(h);return}var v=m.getData(p);if(!v)throw new Error(ir.Errors.CANT_EXTRACT_FILE);let g=f?m.header.fileAttr:void 0;o.writeFileTo(h,v,d,g);try{o.fs.utimesSync(h,m.header.time,m.header.time)}catch{throw new Error(ir.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(u,d,f,p){if(d=Od(d,!1),typeof f=="function"&&!p&&(p=f),f=Od(f,!1),p||(p=function(x){throw new Error(x)}),!i){p(new Error(ir.Errors.NO_ZIP));return}u=js.resolve(u);let m=x=>a(u,js.normalize(s(x.entryName.toString()))),h=(x,y)=>new Error(x+': "'+y+'"'),v=[],g=new Set;i.entries.forEach(x=>{x.isDirectory?v.push(x):g.add(x)});for(let x of v){let y=m(x),E=f?x.header.fileAttr:void 0;try{o.makeDir(y),E&&o.fs.chmodSync(y,E),o.fs.utimesSync(y,x.header.time,x.header.time)}catch{p(h("Unable to create folder",y))}}let w=()=>{g.size===0&&p()};for(let x of g.values()){let y=js.normalize(s(x.entryName.toString())),E=a(u,y);x.getDataAsync(function(T,k){if(k){p(new Error(k));return}if(!T)p(new Error(ir.Errors.CANT_EXTRACT_FILE));else{let R=f?x.header.fileAttr:void 0;o.writeFileToAsync(E,T,d,R,function(b){if(!b){p(h("Unable to write file",E));return}o.fs.utimes(E,x.header.time,x.header.time,function(I){if(I){p(h("Unable to set times",E));return}g.delete(x),w()})})}})}w()},writeZip:function(u,d){if(arguments.length===1&&typeof u=="function"&&(d=u,u=""),!u&&r.filename&&(u=r.filename),!!u){var f=i.compressToBuffer();if(f){var p=o.writeFileTo(u,f,!0);typeof d=="function"&&d(p?null:new Error("failed"),"")}}},writeZipPromise:function(u,d){let{overwrite:f,perm:p}=Object.assign({overwrite:!0},d);return new Promise((m,h)=>{!u&&r.filename&&(u=r.filename),u||h("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(v=>{let g=w=>w?m(w):h("ADM-ZIP: Wasn't able to write zip file");o.writeFileToAsync(u,v,f,p,g)},h)})},toBufferPromise:function(){return new Promise((u,d)=>{i.toAsyncBuffer(u,d)})},toBuffer:function(u,d,f,p){return this.valueOf=2,typeof u=="function"?(i.toAsyncBuffer(u,d,f,p),null):i.compressToBuffer()}}}});var iq=F((eSe,oq)=>{oq.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var aq=F((tSe,sq)=>{sq.exports=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):iq()});var lq=F((rSe,cq)=>{cq.exports=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var kk=F((iSe,dq)=>{var uq=lq();dq.exports=class{constructor(e){this.hwm=e||16,this.head=new uq(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let n=this.head;this.head=n.next=new uq(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let n=this.tail.next;return this.tail.next=null,this.tail=n,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var Vk=F((sSe,Lq)=>{var{EventEmitter:Qie}=require("events"),jC=new Error("Stream was destroyed"),Rk=new Error("Premature close"),gq=aq(),vq=kk(),In=(1<<27)-1,$d=1,$k=2,Fd=4,jv=8,xq=In^$d,ese=In^$k,Vv=16,Hv=32,rm=64,wl=128,Bv=256,jk=512,Ud=1024,Nk=2048,Hk=4096,Bk=8192,rs=16384,Qp=32768,HC=65536,wq=Bv|jk,tse=Vv|HC,nse=rm|Vv,rse=Hk|wl,ose=In^Vv,ise=In^rm,sse=In^(rm|HC),ase=In^HC,cse=In^Bv,lse=In^(wl|Bk),use=In^Ud,fq=In^wq,yq=In^Qp,dse=In^Hv,yl=1<<17,tm=2<<17,zv=4<<17,Md=8<<17,Gv=16<<17,jd=32<<17,Lk=64<<17,em=128<<17,qk=256<<17,nm=512<<17,Eq=In^(yl|qk),Cq=In^zv,fse=In^nm,pse=In^Gv,mse=In^Md,bq=In^em,hse=In^tm,qv=Vv|yl,_q=In^qv,Wk=rs|jd,Ja=Fd|jv|$k,ti=Ja|$d,Sq=Ja|Wk,gse=Cq&ise,Yk=em|Qp,vse=Yk&_q,Dq=ti|vse,xse=ti|Ud|rs,pq=ti|rs|wl,wse=ti|Ud|wl,yse=ti|Hk|wl|Bk,Ese=ti|Vv|Ud|rs|HC,Cse=Ja|Ud|rs,bse=Hv|ti|Qp|rm,_se=ti|nm|jd,Sse=Md|Gv,Iq=Md|yl,Dse=Md|Gv|ti|yl,mq=ti|yl|Md,Ise=zv|yl,Pse=yl|qk,Tse=ti|nm|Iq|jd,kse=Gv|Ja|nm|jd,Rse=tm|ti|em|zv,OC=Symbol.asyncIterator||Symbol("asyncIterator"),FC=class{constructor(e,{highWaterMark:n=16384,map:r=null,mapWritable:o,byteLength:i,byteLengthWritable:s}={}){this.stream=e,this.queue=new vq,this.highWaterMark=n,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||Nq,this.map=o||r,this.afterWrite=Ase.bind(this),this.afterUpdateNextTick=Use.bind(this)}get ended(){return(this.stream._duplexState&jd)!==0}push(e){return this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=Md,!0):(this.stream._duplexState|=Sse,!1)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=mse),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|nm)&Cq}autoBatch(e,n){let r=[],o=this.stream;for(r.push(e);(o._duplexState&mq)===Iq;)r.push(o._writableState.shift());if(o._duplexState&ti)return n(null);o._writev(r,n)}update(){let e=this.stream;e._duplexState|=tm;do{for(;(e._duplexState&mq)===Md;){let n=this.shift();e._duplexState|=Pse,e._write(n,this.afterWrite)}e._duplexState&Ise||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=hse}updateNonPrimary(){let e=this.stream;if((e._duplexState&Tse)===nm){e._duplexState=(e._duplexState|yl)&fse,e._final(Lse.bind(this));return}if((e._duplexState&Ja)===Fd){e._duplexState&Yk||(e._duplexState|=qv,e._destroy(Pq.bind(this)));return}(e._duplexState&Dq)===$d&&(e._duplexState=(e._duplexState|qv)&xq,e._open(Tq.bind(this)))}continueUpdate(){return this.stream._duplexState&em?(this.stream._duplexState&=bq,!0):!1}updateCallback(){(this.stream._duplexState&Rse)===zv?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&em||(this.stream._duplexState|=em,this.stream._duplexState&tm||gq(this.afterUpdateNextTick))}},Ak=class{constructor(e,{highWaterMark:n=16384,map:r=null,mapReadable:o,byteLength:i,byteLengthReadable:s}={}){this.stream=e,this.queue=new vq,this.highWaterMark=n,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||i||Nq,this.map=o||r,this.pipeTo=null,this.afterRead=Ose.bind(this),this.afterUpdateNextTick=Fse.bind(this)}get ended(){return(this.stream._duplexState&rs)!==0}pipe(e,n){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof n!="function"&&(n=null),this.stream._duplexState|=jk,this.pipeTo=e,this.pipeline=new Fk(this.stream,e,n),n&&this.stream.on("error",hq),Yv(e))e._writableState.pipeline=this.pipeline,n&&e.on("error",hq),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let r=this.pipeline.done.bind(this.pipeline,e),o=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",r),e.on("close",o),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",Nse.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let n=this.stream;return e===null?(this.highWaterMark=0,n._duplexState=(n._duplexState|Ud)&sse,!1):(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),n._duplexState=(n._duplexState|wl)&ase,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=lse),e}unshift(e){let n=[this.map!==null?this.map(e):e];for(;this.buffered>0;)n.push(this.shift());for(let r=0;r<n.length-1;r++){let o=n[r];this.buffered+=this.byteLength(o),this.queue.push(o)}this.push(n[n.length-1])}read(){let e=this.stream;if((e._duplexState&pq)===wl){let n=this.shift();return this.pipeTo!==null&&this.pipeTo.write(n)===!1&&(e._duplexState&=fq),e._duplexState&Nk&&e.emit("data",n),n}return null}drain(){let e=this.stream;for(;(e._duplexState&pq)===wl&&e._duplexState&wq;){let n=this.shift();this.pipeTo!==null&&this.pipeTo.write(n)===!1&&(e._duplexState&=fq),e._duplexState&Nk&&e.emit("data",n)}}update(){let e=this.stream;e._duplexState|=Hv;do{for(this.drain();this.buffered<this.highWaterMark&&!(e._duplexState&Ese);)e._duplexState|=tse,e._read(this.afterRead),this.drain();(e._duplexState&yse)===rse&&(e._duplexState|=Bk,e.emit("readable")),e._duplexState&nse||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=dse}updateNonPrimary(){let e=this.stream;if((e._duplexState&wse)===Ud&&(e._duplexState=(e._duplexState|rs)&use,e.emit("end"),(e._duplexState&Sq)===Wk&&(e._duplexState|=Fd),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Ja)===Fd){e._duplexState&Yk||(e._duplexState|=qv,e._destroy(Pq.bind(this)));return}(e._duplexState&Dq)===$d&&(e._duplexState=(e._duplexState|qv)&xq,e._open(Tq.bind(this)))}continueUpdate(){return this.stream._duplexState&Qp?(this.stream._duplexState&=yq,!0):!1}updateCallback(){(this.stream._duplexState&bse)===rm?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&Qp||(this.stream._duplexState|=Qp,this.stream._duplexState&Hv||gq(this.afterUpdateNextTick))}},Ok=class{constructor(e){this.data=null,this.afterTransform=$se.bind(e),this.afterFinal=null}},Fk=class{constructor(e,n,r){this.from=e,this.to=n,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,n){if(n&&(this.error=n),e===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&rs)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){e._duplexState&rs||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function Nse(){this.stream._duplexState|=jk,this.updateCallback()}function Lse(t){let e=this.stream;t&&e.destroy(t),e._duplexState&Ja||(e._duplexState|=jd,e.emit("finish")),(e._duplexState&Sq)===Wk&&(e._duplexState|=Fd),e._duplexState&=Eq,e._duplexState&tm?this.updateNextTick():this.update()}function Pq(t){let e=this.stream;!t&&this.error!==jC&&(t=this.error),t&&e.emit("error",t),e._duplexState|=jv,e.emit("close");let n=e._readableState,r=e._writableState;if(n!==null&&n.pipeline!==null&&n.pipeline.done(e,t),r!==null){for(;r.drains!==null&&r.drains.length>0;)r.drains.shift().resolve(!1);r.pipeline!==null&&r.pipeline.done(e,t)}}function Ase(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=Eq,this.drains!==null&&Mse(this.drains),(e._duplexState&Dse)===Gv&&(e._duplexState&=pse,(e._duplexState&Lk)===Lk&&e.emit("drain")),this.updateCallback()}function Ose(t){t&&this.stream.destroy(t),this.stream._duplexState&=ose,this.updateCallback()}function Fse(){this.stream._duplexState&Hv||(this.stream._duplexState&=yq,this.update())}function Use(){this.stream._duplexState&tm||(this.stream._duplexState&=bq,this.update())}function Mse(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function Tq(t){let e=this.stream;t&&e.destroy(t),e._duplexState&Fd||(e._duplexState&xse||(e._duplexState|=rm),e._duplexState&_se||(e._duplexState|=zv),e.emit("open")),e._duplexState&=_q,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function $se(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}var Wv=class extends Qie{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Yse.bind(this)))}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&jv)!==0}get destroying(){return(this._duplexState&Ja)!==0}destroy(e){this._duplexState&Ja||(e||(e=jC),this._duplexState=(this._duplexState|Fd)&gse,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=$k,this._predestroy(),this._duplexState&=ese,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}on(e,n){return this._readableState!==null&&(e==="data"&&(this._duplexState|=Nk|Bv,this._readableState.updateNextTick()),e==="readable"&&(this._duplexState|=Hk,this._readableState.updateNextTick())),this._writableState!==null&&e==="drain"&&(this._duplexState|=Lk,this._writableState.updateNextTick()),super.on(e,n)}},UC=class t extends Wv{constructor(e){super(e),this._duplexState|=$d|jd,this._readableState=new Ak(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,n){return this._readableState.updateNextTick(),this._readableState.pipe(e,n),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=Bv,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=cse,this}static _fromAsyncIterator(e,n){let r,o=new t({...n,read(s){e.next().then(i).then(s.bind(null,null)).catch(s)},predestroy(){r=e.return()},destroy(s){if(!r)return s(null);r.then(s.bind(null,null)).catch(s)}});return o;function i(s){s.done?o.push(null):o.push(s.value)}}static from(e,n){if(qse(e))return e;if(e[OC])return this._fromAsyncIterator(e[OC](),n);Array.isArray(e)||(e=e===void 0?[]:[e]);let r=0;return new t({...n,read(o){this.push(r===e.length?null:e[r++]),o(null)}})}static isBackpressured(e){return(e._duplexState&Cse)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&Bv)===0}[OC](){let e=this,n=null,r=null,o=null;return this.on("error",l=>{n=l}),this.on("readable",i),this.on("close",s),{[OC](){return this},next(){return new Promise(function(l,u){r=l,o=u;let d=e.read();d!==null?a(d):e._duplexState&jv&&a(null)})},return(){return c(null)},throw(l){return c(l)}};function i(){r!==null&&a(e.read())}function s(){r!==null&&a(null)}function a(l){o!==null&&(n?o(n):l===null&&!(e._duplexState&rs)?o(jC):r({value:l,done:l===null}),o=r=null)}function c(l){return e.destroy(l),new Promise((u,d)=>{if(e._duplexState&jv)return u({value:void 0,done:!0});e.once("close",function(){l?d(l):u({value:void 0,done:!0})})})}}},Uk=class extends Wv{constructor(e){super(e),this._duplexState|=$d|rs,this._writableState=new FC(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,n){n(null)}_write(e,n){this._writableState.autoBatch(e,n)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&kse)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let n=e._writableState,r=n.queue.length+(e._duplexState&qk?1:0);return r===0?Promise.resolve(!0):(n.drains===null&&(n.drains=[]),new Promise(o=>{n.drains.push({writes:r,resolve:o})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},MC=class extends UC{constructor(e){super(e),this._duplexState=$d,this._writableState=new FC(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,n){n(null)}_write(e,n){this._writableState.autoBatch(e,n)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},$C=class extends MC{constructor(e){super(e),this._transformState=new Ok(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,n){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let n=this._transformState.data;this._transformState.data=null,e(null),this._transform(n,this._transformState.afterTransform)}else e(null)}_transform(e,n){n(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(jse.bind(this))}},Mk=class extends $C{};function jse(t,e){let n=this._transformState.afterFinal;if(t)return n(t);e!=null&&this.push(e),this.push(null),n(null)}function Hse(...t){return new Promise((e,n)=>kq(...t,r=>{if(r)return n(r);e()}))}function kq(t,...e){let n=Array.isArray(t)?[...t,...e]:[t,...e],r=n.length&&typeof n[n.length-1]=="function"?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let o=n[0],i=null,s=null;for(let l=1;l<n.length;l++)i=n[l],Yv(o)?o.pipe(i,c):(a(o,!0,l>1,c),o.pipe(i)),o=i;if(r){let l=!1,u=Yv(i)||!!(i._writableState&&i._writableState.autoDestroy);i.on("error",d=>{s===null&&(s=d)}),i.on("finish",()=>{l=!0,u||r(s)}),u&&i.on("close",()=>r(s||(l?null:Rk)))}return i;function a(l,u,d,f){l.on("error",f),l.on("close",p);function p(){if(u&&l._readableState&&!l._readableState.ended||d&&l._writableState&&!l._writableState.ended)return f(Rk)}}function c(l){if(!(!l||s)){s=l;for(let u of n)u.destroy(l)}}}function Rq(t){return!!t._readableState||!!t._writableState}function Yv(t){return typeof t._duplexState=="number"&&Rq(t)}function Bse(t){let e=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e===jC?null:e}function qse(t){return Yv(t)&&t.readable}function Wse(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function Nq(t){return Wse(t)?t.byteLength:1024}function hq(){}function Yse(){this.destroy(new Error("Stream aborted."))}Lq.exports={pipeline:kq,pipelinePromise:Hse,isStream:Rq,isStreamx:Yv,getStreamError:Bse,Stream:Wv,Writable:Uk,Readable:UC,Duplex:MC,Transform:$C,PassThrough:Mk}});var BC=F((aSe,Aq)=>{function Vse(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function zse(t){return Buffer.isEncoding(t)}function Gse(t,e,n){return Buffer.alloc(t,e,n)}function Kse(t){return Buffer.allocUnsafe(t)}function Jse(t){return Buffer.allocUnsafeSlow(t)}function Xse(t,e){return Buffer.byteLength(t,e)}function Zse(t,e){return Buffer.compare(t,e)}function Qse(t,e){return Buffer.concat(t,e)}function eae(t,e,n,r,o){return Pn(t).copy(e,n,r,o)}function tae(t,e){return Pn(t).equals(e)}function nae(t,e,n,r,o){return Pn(t).fill(e,n,r,o)}function rae(t,e,n){return Buffer.from(t,e,n)}function oae(t,e,n,r){return Pn(t).includes(e,n,r)}function iae(t,e,n,r){return Pn(t).indexOf(e,n,r)}function sae(t,e,n,r){return Pn(t).lastIndexOf(e,n,r)}function aae(t){return Pn(t).swap16()}function cae(t){return Pn(t).swap32()}function lae(t){return Pn(t).swap64()}function Pn(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function uae(t,e,n,r){return Pn(t).toString(e,n,r)}function dae(t,e,n,r,o){return Pn(t).write(e,n,r,o)}function fae(t,e,n){return Pn(t).writeDoubleLE(e,n)}function pae(t,e,n){return Pn(t).writeFloatLE(e,n)}function mae(t,e,n){return Pn(t).writeUInt32LE(e,n)}function hae(t,e,n){return Pn(t).writeInt32LE(e,n)}function gae(t,e){return Pn(t).readDoubleLE(e)}function vae(t,e){return Pn(t).readFloatLE(e)}function xae(t,e){return Pn(t).readUInt32LE(e)}function wae(t,e){return Pn(t).readInt32LE(e)}Aq.exports={isBuffer:Vse,isEncoding:zse,alloc:Gse,allocUnsafe:Kse,allocUnsafeSlow:Jse,byteLength:Xse,compare:Zse,concat:Qse,copy:eae,equals:tae,fill:nae,from:rae,includes:oae,indexOf:iae,lastIndexOf:sae,swap16:aae,swap32:cae,swap64:lae,toBuffer:Pn,toString:uae,write:dae,writeDoubleLE:fae,writeFloatLE:pae,writeUInt32LE:mae,writeInt32LE:hae,readDoubleLE:gae,readFloatLE:vae,readUInt32LE:xae,readInt32LE:wae}});var Kk=F(im=>{var ht=BC(),yae="0000000000000000000",Eae="7777777777777777777",qC="0".charCodeAt(0),Oq=ht.from([117,115,116,97,114,0]),Cae=ht.from([qC,qC]),bae=ht.from([117,115,116,97,114,32]),_ae=ht.from([32,0]),Sae=4095,Kv=257,Gk=263;im.decodeLongPath=function(e,n){return om(e,0,e.length,n)};im.encodePax=function(e){let n="";e.name&&(n+=zk(" path="+e.name+`
`)),e.linkname&&(n+=zk(" linkpath="+e.linkname+`
`));let r=e.pax;if(r)for(let o in r)n+=zk(" "+o+"="+r[o]+`
`);return ht.from(n)};im.decodePax=function(e){let n={};for(;e.length;){let r=0;for(;r<e.length&&e[r]!==32;)r++;let o=parseInt(e.subarray(0,r).toString(),10);if(!o)return n;let i=ht.toString(e.subarray(r+1,o-1)),s=i.indexOf("=");if(s===-1)return n;n[i.slice(0,s)]=i.slice(s+1),e=e.subarray(o)}return n};im.encode=function(e){let n=ht.alloc(512),r=e.name,o="";if(e.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),ht.byteLength(r)!==r.length)return null;for(;ht.byteLength(r)>100;){let i=r.indexOf("/");if(i===-1)return null;o+=o?"/"+r.slice(0,i):r.slice(0,i),r=r.slice(i+1)}return ht.byteLength(r)>100||ht.byteLength(o)>155||e.linkname&&ht.byteLength(e.linkname)>100?null:(ht.write(n,r),ht.write(n,Cl(e.mode&Sae,6),100),ht.write(n,Cl(e.uid,6),108),ht.write(n,Cl(e.gid,6),116),Nae(e.size,n,124),ht.write(n,Cl(e.mtime.getTime()/1e3|0,11),136),n[156]=qC+kae(e.type),e.linkname&&ht.write(n,e.linkname,157),ht.copy(Oq,n,Kv),ht.copy(Cae,n,Gk),e.uname&&ht.write(n,e.uname,265),e.gname&&ht.write(n,e.gname,297),ht.write(n,Cl(e.devmajor||0,6),329),ht.write(n,Cl(e.devminor||0,6),337),o&&ht.write(n,o,345),ht.write(n,Cl(Uq(n),6),148),n)};im.decode=function(e,n,r){let o=e[156]===0?0:e[156]-qC,i=om(e,0,100,n),s=El(e,100,8),a=El(e,108,8),c=El(e,116,8),l=El(e,124,12),u=El(e,136,12),d=Tae(o),f=e[157]===0?null:om(e,157,100,n),p=om(e,265,32),m=om(e,297,32),h=El(e,329,8),v=El(e,337,8),g=Uq(e);if(g===8*32)return null;if(g!==El(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(Dae(e))e[345]&&(i=om(e,345,155,n)+"/"+i);else if(!Iae(e)){if(!r)throw new Error("Invalid tar header: unknown format.")}return o===0&&i&&i[i.length-1]==="/"&&(o=5),{name:i,mode:s,uid:a,gid:c,size:l,mtime:new Date(1e3*u),type:d,linkname:f,uname:p,gname:m,devmajor:h,devminor:v,pax:null}};function Dae(t){return ht.equals(Oq,t.subarray(Kv,Kv+6))}function Iae(t){return ht.equals(bae,t.subarray(Kv,Kv+6))&&ht.equals(_ae,t.subarray(Gk,Gk+2))}function Pae(t,e,n){return typeof t!="number"?n:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function Tae(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function kae(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function Fq(t,e,n,r){for(;n<r;n++)if(t[n]===e)return n;return r}function Uq(t){let e=256;for(let n=0;n<148;n++)e+=t[n];for(let n=156;n<512;n++)e+=t[n];return e}function Cl(t,e){return t=t.toString(8),t.length>e?Eae.slice(0,e)+" ":yae.slice(0,e-t.length)+t+" "}function Rae(t,e,n){e[n]=128;for(let r=11;r>0;r--)e[n+r]=t&255,t=Math.floor(t/256)}function Nae(t,e,n){t.toString(8).length>11?Rae(t,e,n):ht.write(e,Cl(t,11),n)}function Lae(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let n=[],r;for(r=t.length-1;r>0;r--){let s=t[r];e?n.push(s):n.push(255-s)}let o=0,i=n.length;for(r=0;r<i;r++)o+=n[r]*Math.pow(256,r);return e?o:-1*o}function El(t,e,n){if(t=t.subarray(e,e+n),e=0,t[e]&128)return Lae(t);{for(;e<t.length&&t[e]===32;)e++;let r=Pae(Fq(t,32,e,t.length),t.length,t.length);for(;e<r&&t[e]===0;)e++;return r===e?0:parseInt(t.subarray(e,r).toString(),8)}}function om(t,e,n,r){return ht.toString(t.subarray(e,Fq(t,0,e,e+n)),r)}function zk(t){let e=ht.byteLength(t),n=Math.floor(Math.log(e)/Math.log(10))+1;return e+n>=Math.pow(10,n)&&n++,e+n+t}});var Bq=F((lSe,Hq)=>{var{Writable:Aae,Readable:Oae,getStreamError:Mq}=Vk(),Fae=kk(),$q=BC(),sm=Kk(),Uae=$q.alloc(0),Xk=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new Fae,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return Uae;let n=this._next(e);if(e===n.byteLength)return n;let r=[n];for(;(e-=n.byteLength)>0;)n=this._next(e),r.push(n);return $q.concat(r)}_next(e){let n=this.queue.peek(),r=n.byteLength-this._offset;if(e>=r){let o=this._offset?n.subarray(this._offset,n.byteLength):n;return this.queue.shift(),this._offset=0,this.buffered-=r,this.shifted+=r,o}return this.buffered-=e,this.shifted+=e,n.subarray(this._offset,this._offset+=e)}},Zk=class extends Oae{constructor(e,n,r){super(),this.header=n,this.offset=r,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(Mq(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=jq(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},Qk=class extends Aae{constructor(e){super(e),e||(e={}),this._buffer=new Xk,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=Jk,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=sm.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=sm.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=sm.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=sm.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?sm.decodePax(e):Object.assign({},this._paxGlobal,sm.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=jq(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(n){return this._continueWrite(n),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let n=this._stream.push(e);return this._missing===0?(this._stream.push(null),n&&this._stream._detach(),n&&this._locked===!1):n}_createStream(){return new Zk(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let n=this._callback;this._callback=Jk,n(e)}_write(e,n){this._callback=n,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(Mq(this)),e(null)}[Symbol.asyncIterator](){let e=null,n=null,r=null,o=null,i=null,s=this;return this.on("entry",l),this.on("error",f=>{e=f}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(c)},return(){return d(null)},throw(f){return d(f)}};function a(f){if(!i)return;let p=i;i=null,p(f)}function c(f,p){if(e)return p(e);if(o){f({value:o,done:!1}),o=null;return}n=f,r=p,a(null),s._finished&&n&&(n({value:void 0,done:!0}),n=r=null)}function l(f,p,m){i=m,p.on("error",Jk),n?(n({value:p,done:!1}),n=r=null):o=p}function u(){a(e),n&&(e?r(e):n({value:void 0,done:!0}),n=r=null)}function d(f){return s.destroy(f),a(f),new Promise((p,m)=>{if(s.destroyed)return p({value:void 0,done:!0});s.once("close",function(){f?m(f):p({value:void 0,done:!0})})})}}};Hq.exports=function(e){return new Qk(e)};function Jk(){}function jq(t){return t&=511,t&&512-t}});var Wq=F((uSe,eR)=>{var qq={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{eR.exports=require("fs").constants||qq}catch{eR.exports=qq}});var Kq=F((dSe,Gq)=>{var{Readable:Mae,Writable:$ae,getStreamError:Yq}=Vk(),Hd=BC(),am=Wq(),WC=Kk(),jae=493,Hae=420,Vq=Hd.alloc(1024),nR=class extends $ae{constructor(e,n,r){super({mapWritable:qae,eagerOpen:!0}),this.written=0,this.header=n,this._callback=r,this._linkname=null,this._isLinkname=n.type==="symlink"&&!n.linkname,this._isVoid=n.type!=="file"&&n.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let n=this._callback;this._callback=null,n(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,n){if(this._isLinkname)return this._linkname=this._linkname?Hd.concat([this._linkname,e]):e,n(null);if(this._isVoid)return e.byteLength>0?n(new Error("No body allowed for this entry")):n();if(this.written+=e.byteLength,this._pack.push(e))return n();this._pack._drain=n}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?Hd.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),zq(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return Yq(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},rR=class extends Mae{constructor(e){super(e),this._drain=tR,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,n,r){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof n=="function"&&(r=n,n=null),r||(r=tR),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=Bae(e.mode)),e.mode||(e.mode=e.type==="directory"?jae:Hae),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof n=="string"&&(n=Hd.from(n));let o=new nR(this,e,r);return Hd.isBuffer(n)?(e.size=n.byteLength,o.write(n),o.end(),o):(o._isVoid,o)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(Vq),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let n=WC.encode(e);if(n){this.push(n);return}}this._encodePax(e)}_encodePax(e){let n=WC.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),r={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:n.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(WC.encode(r)),this.push(n),zq(this,n.byteLength),r.size=e.size,r.type=e.type,this.push(WC.encode(r))}_doDrain(){let e=this._drain;this._drain=tR,e()}_predestroy(){let e=Yq(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let n=this._pending.shift();n.destroy(e),n._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};Gq.exports=function(e){return new rR(e)};function Bae(t){switch(t&am.S_IFMT){case am.S_IFBLK:return"block-device";case am.S_IFCHR:return"character-device";case am.S_IFDIR:return"directory";case am.S_IFIFO:return"fifo";case am.S_IFLNK:return"symlink"}return"file"}function tR(){}function zq(t,e){e&=511,e&&t.push(Vq.subarray(0,512-e))}function qae(t){return Hd.isBuffer(t)?t:Hd.from(t)}});var Jq=F(oR=>{oR.extract=Bq();oR.pack=Kq()});var iR=F((vSe,Qq)=>{Qq.exports=function(e,n,r){e(n),r&&r(n===!0?null:n)}});var VC=F((xSe,tW)=>{"use strict";var eW=iR();tW.exports=function(e,n){if(!e)return function(o,i){return o?eW(i,o,n):i(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(o){return e[o]}));var r=0;return function(o,i){if(o)return eW(i,o,n);r>=e.length?i(!0):i(null,e[r++])}}});var rW=F((wSe,nW)=>{"use strict";var Vae=VC();nW.exports=function(t){return Vae(Object.keys(t))}});var sR=F((ySe,oW)=>{"use strict";var zae=iR();oW.exports=function(e,n){return function(r,o){if(r)return zae(o,r,n);if(e!=null){var i=e;e=null,o(null,i)}else o(!0)}}});var sW=F((ESe,iW)=>{"use strict";iW.exports=function(e){var n=0;return e=e||1/0,function(r,o){if(r)return o&&o(r);if(n>e)return o(!0);o(null,n++)}}});var cW=F((CSe,aW)=>{"use strict";aW.exports=function(e){return e=e||Math.random,function(n,r){return n?r&&r(n):r(null,e())}}});var uW=F((bSe,lW)=>{"use strict";lW.exports=function(){return function(e,n){n(!0)}}});var fW=F((_Se,dW)=>{"use strict";dW.exports=function(e){return function(n,r){r(e)}}});var mW=F((SSe,pW)=>{"use strict";pW.exports={keys:rW(),once:sR(),values:VC(),count:sW(),infinite:cW(),empty:uW(),error:fW()}});var cm=F((DSe,hW)=>{"use strict";hW.exports=function(e,n){var r,o,i;n||(i=new Error("no done callback supplied"));function s(a){if(r=a,o)return s.abort();(function c(){for(var l=!0,u=!1;l;)if(u=!1,r(null,function(d,f){if(u=!0,d=d||o){if(l=!1,n)n(d===!0?null:d);else if(d&&d!==!0)throw console.warn(i),d}else e&&e(f)===!1||o?(l=!1,r(o||!0,n||function(){})):l||c()}),!u){l=!1;return}})()}return s.abort=function(a,c){if(typeof a=="function"&&(c=a,a=!0),o=a||!0,r)return r(o,c||function(){})},s}});var vW=F((ISe,gW)=>{"use strict";var Gae=cm();gW.exports=function(e){return Gae(null,e)}});var wW=F((PSe,xW)=>{"use strict";var Kae=cm();xW.exports=function(e){return Kae(function(n){console.log(n)},e)}});var lm=F((TSe,yW)=>{yW.exports=function(e){return e&&(typeof e=="string"?function(n){return n[e]}:typeof e=="object"&&typeof e.exec=="function"?function(n){var r=e.exec(n);return r&&r[0]}:e)}});var bW=F((kSe,CW)=>{"use strict";function EW(t){return t}var Jae=lm(),Xae=cm();CW.exports=function(e,n){var r=!1;return n?e=Jae(e)||EW:(n=e,e=EW),Xae(function(o){if(e(o))return r=!0,n(null,o),!1},function(o){r||n(o===!0?null:o,null)})}});var zC=F((RSe,_W)=>{"use strict";var Zae=cm();_W.exports=function(e,n,r){r||(r=n,n=null);var o=Zae(function(i){n=e(n,i)},function(i){r(i,n)});return arguments.length===2?function(i){i(null,function(s,a){if(s)return r(s===!0?null:s);n=a,o(i)})}:o}});var aR=F((NSe,SW)=>{"use strict";var Qae=zC();SW.exports=function(e){return Qae(function(n,r){return n.push(r),n},[],e)}});var IW=F((LSe,DW)=>{"use strict";var ece=aR();DW.exports=function(){return e=>{let n,r,o=new Promise((i,s)=>{n=i,r=s});return ece((i,s)=>{i?r(i):n(s)})(e),o}}});var TW=F((ASe,PW)=>{"use strict";var tce=zC();PW.exports=function(e){return tce(function(n,r){return n+r},"",e)}});var RW=F((OSe,kW)=>{"use strict";kW.exports={drain:cm(),onEnd:vW(),log:wW(),find:bW(),reduce:zC(),collect:aR(),collectAsPromise:IW(),concat:TW()}});var LW=F((FSe,NW)=>{"use strict";function nce(t){return t}var rce=lm();NW.exports=function(e){return e?(e=rce(e),function(n){return function(r,o){n(r,function(i,s){try{s=i?null:e(s)}catch(a){return n(a,function(){return o(a)})}o(i,s)})}}):nce}});var OW=F((USe,AW)=>{"use strict";function oce(t){return t}var ice=lm();AW.exports=function(e){if(!e)return oce;e=ice(e);var n=!1,r,o;return function(i){return function s(a,c){if(o)return c(o);a?(o=a,n?i(a,function(l){n?r=c:c(a)}):i(a,function(l){c(a)})):i(null,function(l,u){l?c(l):o?c(o):(n=!0,e(u,function(d,f){n=!1,o?(c(o),r&&r(o)):d?s(d,c):c(null,f)}))})}}}});var cR=F((MSe,FW)=>{var sce=lm();function ace(t){return t}FW.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(n){return e.test(n)}:sce(e)||ace}});var GC=F(($Se,UW)=>{"use strict";var cce=cR();UW.exports=function(e){return e=cce(e),function(n){return function r(o,i){for(var s,a=!0;a;)a=!1,s=!0,n(o,function(c,l){if(!c&&!e(l))return s?a=!0:r(c,i);i(c,l)}),s=!1}}}});var $W=F((jSe,MW)=>{"use strict";var lce=cR(),uce=GC();MW.exports=function(e){return e=lce(e),uce(function(n){return!e(n)})}});var HW=F((HSe,jW)=>{"use strict";jW.exports=function(e,n){var r=!1;function o(i){r||!n||(r=!0,n(i===!0?null:i))}return function(i){return function(s,a){return s&&o(s),i(s,function(c,l){c?o(c):e&&e(l),a(c,l)})}}}});var qW=F((BSe,BW)=>{"use strict";BW.exports=function(e,n){n=n||{};var r=n.last||!1,o=!1;if(typeof e=="number"){r=!0;var i=e;e=function(){return--i}}return function(s){function a(c){s(!0,function(l){r=!1,c(l||!0)})}return function(c,l){o&&!c?r?a(l):l(o):(o=c)?s(o,l):s(null,function(u,d){(o=o||u)?l(o):e(d)?l(null,d):(o=!0,r?l(null,d):a(l))})}}}});var lR=F((qSe,WW)=>{"use strict";function dce(t){return t}var fce=lm(),pce=GC();WW.exports=function(e,n){e=fce(e)||dce;var r={};return pce(function(o){var i=e(o);return r[i]?!!n:(r[i]=!0,!n)})}});var VW=F((WSe,YW)=>{"use strict";var mce=lR();YW.exports=function(e){return mce(e,!0)}});var GW=F((YSe,zW)=>{"use strict";var hce=VC(),gce=sR();zW.exports=function(){return function(e){var n;return function(r,o){r?n?n(r,function(a){e(a||r,o)}):e(r,o):n?i():s();function i(){n(null,function(a,c){a?a===!0?s():e(!0,function(l){o(a)}):o(null,c)})}function s(){n=null,e(null,function(a,c){if(a)return o(a);c&&typeof c=="object"?c=hce(c):typeof c!="function"&&(c=gce(c)),n=c,i()})}}}}});var JW=F((VSe,KW)=>{"use strict";KW.exports={map:LW(),asyncMap:OW(),filter:GC(),filterNot:$W(),through:HW(),take:qW(),unique:lR(),nonUnique:VW(),flatten:GW()}});var uR=F((zSe,XW)=>{"use strict";XW.exports=function t(e){var n=arguments.length;if(typeof e=="function"&&e.length===1){for(var r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(a){if(r==null)throw new TypeError("partial sink should only be called once!");var c=r;switch(r=null,n){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var i=e;i&&typeof i.source=="function"&&(i=i.source);for(var o=1;o<n;o++){var s=arguments[o];typeof s=="function"?i=s(i):s&&typeof s=="object"&&(s.sink(i),i=s.source)}return i}});var Xv=F((Bd,tY)=>{"use strict";var ZW=mW(),QW=RW(),eY=JW();Bd=tY.exports=uR();Bd.pull=Bd;for(os in ZW)Bd[os]=ZW[os];var os;for(os in eY)Bd[os]=eY[os];var os;for(os in QW)Bd[os]=QW[os];var os});var ER=F((yDe,SY)=>{var wDe=SY.exports=function(t){(function e(){var n=!0,r=!1,o=!1;do o=!0,n=!1,t.call(this,function(){o?n=!0:e()}),o=!1;while(n)})()}});var IY=F((EDe,DY)=>{var Pce=ER();DY.exports=function(t,e){return function(n){var r=[],o,i;function s(l){r.push(l)}t=t||function(l){this.queue(l)},e=e||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&s(u),l=="end"&&(o=!0,s(null)),l=="error"&&(i=u)},queue:s},c;return function(l,u){if(o=o||l,l)return n(l,function(){if(c){var d=c;c=null,d(l)}u(l)});c=u,Pce(function d(f){if(c)if(u=c,i)c=null,u(i);else if(r.length){var p=r.shift();c=null,u(p===null,p)}else n(o,function(m,h){if(m&&m!==!0)return i=m,f();if(o=o||m)e.call(a);else if(h!==null&&(t.call(a,h),i||o))return n(i||o,function(){c=null,u(i||o)});f(d)})})}}}});var TY=F((CDe,PY)=>{PY.exports=function(){var t=[],e=0;function n(){return t.reduce(function(r,o){return r+o.length},0)}return{length:e,data:this,add:function(r){if(!Buffer.isBuffer(r))throw new Error("data must be a buffer, was: "+JSON.stringify(r));return this.length=e=e+r.length,t.push(r),this},has:function(r){return r==null?e>0:e>=r},get:function(r){var o;if(r==null||r===e){e=0;var i=t;return t=[],i.length==1?i[0]:Buffer.concat(i)}else if(t.length>1&&r<=(o=t[0].length)){var s=t[0].slice(0,r);return r===o?t.shift():t[0]=t[0].slice(r,o),e-=r,s}else if(r<e){for(var a=[],c=0;c+t[0].length<r;){var l=t.shift();c+=l.length,a.push(l)}return c<r&&(a.push(t[0].slice(0,r-c)),t[0]=t[0].slice(r-c,t[0].length),this.length=e=e-r),Buffer.concat(a)}else throw new Error("could not get "+r+" bytes")}}}});var LY=F((bDe,NY)=>{"use strict";var Tce=TY();function kce(t){return Number.isFinite(t)}function kY(t){return typeof t=="function"}function RY(t,e){return e?function(n,r){var o=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),r)},e);t(n,function(i,s){clearTimeout(o),r(i,s)})}:t}NY.exports=function(t){var e=[],n,r,o=!1,i=Tce(),s,a,c;function l(){for(;e.length;)if(e[0].length==null&&i.has(1))e.shift().cb(null,i.get());else if(i.has(e[0].length)){var f=e.shift();f.cb(null,i.get(f.length))}else if(s==!0&&e[0].length&&i.length<e[0].length){var p="stream ended with:"+i.length+" but wanted:"+e[0].length;e.shift().cb(new Error(p))}else if(s)e.shift().cb(s);else return!!e.length;return e.length||!i.has(1)||c}function u(){var f=l();f&&!o&&n&&!o&&!a&&(o=!0,r(null,function(p,m){if(o=!1,p)return s=p,l();i.add(m),u()}))}function d(f){if(c){for(;e.length;)e.shift().cb(c);return cb&&cb(c)}r=RY(f,t),n=f,u()}return d.abort=function(f,p){c=f||!0,n?(o=!0,n(c,function(){for(;e.length;)e.shift().cb(c);p&&p(c)})):p()},d.read=function(f,p,m){if(kY(p)&&(m=p,p=t),kY(m))e.push({length:kce(f)?f:null,cb:m}),u();else return a=!0,function(h,v){if(o||i.has(1)){if(h)return n(h,v);e.push({length:null,cb:v}),u()}else RY(n,p)(h,function(g,w){v(g,w)})}},d}});var YY=F((Wd,WY)=>{var Rce=IY(),Nce=LY(),AY=dE(),OY=0,FY=1,UY=2,MY="GOODBYE";function $Y(t){let e=Buffer.alloc(9),n=0,r=t.value!==void 0?t.value:t.end;return typeof t=="string"&&t===MY?(e.fill(0),[e,null]):(typeof r=="string"?(n=FY,r=Buffer.from(r,"utf-8")):Buffer.isBuffer(r)?n=OY:(n=UY,r=Buffer.from(JSON.stringify(r),"utf-8")),n=t.stream<<3|t.end<<2|n,e[0]=n,e.writeUInt32BE(r.length,1),e.writeInt32BE(t.req||0,5),[e,r])}function jY(t){if(t.length!==9)throw new Error("expected header to be 9 bytes long");let e=t[0],n=t.readUInt32BE(1);return{req:t.readInt32BE(5),stream:!!(e&8),end:!!(e&4),value:null,length:n,type:e&3}}function HY(t,e){if(t.length!==e.length)throw new Error("incorrect length, expected:"+e.length+" found:"+t.length);if(e.type===OY)e.value=t;else if(e.type===FY)e.value=t.toString();else if(e.type===UY)e.value=JSON.parse(t.toString());else throw new Error("unknown message type");return e}function BY(t){return Rce(function(n){t&&t("encoded: %o",n);let[r,o]=$Y(n);this.queue(r),o!==null&&this.queue(o)})}function qY(t){let e=Nce(),n=!1;return function(o){return e(o),function(s,a){if(n)return a(!0);if(s)return e.abort(s,a);e.read(9,function(l,u){if(l)return a(l);let d=jY(u);if(d.length===0)return n=!0,a(null,MY);e.read(d.length,function(p,m){if(p)return a(p);try{HY(m,d)}catch(h){return a(h)}t&&t("decoded: %o",d),a(null,d)})})}}}Wd=WY.exports=function(e,n){let r=n===!0?AY("packet-stream-codec"):typeof n=="string"?AY(n):null;return{source:BY(r)(e.source),sink(o){return e.sink(qY(r)(o))}}};Wd.encodePair=$Y;Wd.decodeHead=jY;Wd.decodeBody=HY;Wd.encode=BY;Wd.decode=qY});var CR=F((_De,VY)=>{function Lce(t){return t&&(t===!0?!0:{message:t.message,name:t.name,stack:t.stack})}function Ace(t){console.error("packet-stream asked to read after closed",t)}VY.exports={flat:Lce,closedread:Ace}});var KY=F((SDe,GY)=>{var{flat:zY,closedread:Oce}=CR();function ZC(t,e,n){this.id=t,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=e,this._remove=n}ZC.prototype.write=function(t,e){let n=this._ps;e?(this.writeEnd=e,n&&(n.read({req:this.id,stream:!0,end:!0,value:zY(e)}),this.readEnd&&this.destroy(e),n._maybedone(e))):n&&n.read({req:this.id,stream:!0,end:!1,value:t})};ZC.prototype.end=function(t){this.write(null,zY(t||!0))};ZC.prototype.destroy=function(t){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}this.write(null,t)}this._ps&&(this._remove(),this._remove=null,this.read=Oce,this._ps=null)};GY.exports=ZC});var ZY=F((DDe,XY)=>{var JY=KY(),{flat:bR,closedread:Fce}=CR();function Ii(t){this.ended=!1,this.opts=t,this._req_counter=1,this._requests=new Map,this._instreams=new Map,this._outstreams=new Map,this._closecbs=[],this._closing=!1,this._closed=!1,t.close&&this._closecbs.push(t.close)}Ii.prototype.message=function(t){this.read({req:0,stream:!1,end:!1,value:t})};Ii.prototype.request=function(t,e){if(this._closing)return e(new Error("parent stream is closing"));let n=this._req_counter++;this._requests.set(n,(r,o)=>{this._requests.delete(n),e(r,o),this._maybedone(r)}),this.read({req:n,stream:!1,end:!1,value:t})};Ii.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");let t=this._req_counter++,e=new JY(t,this,()=>{this._outstreams.delete(t)});return this._outstreams.set(t,e),e};Ii.prototype.close=function(t){if(!t)throw new Error("packet-stream.close *must* have callback");if(this._closed)return t();this._closecbs.push(t),this._closing=!0,this._maybedone()};Ii.prototype.destroy=function(t){t=t||bR(t),this.ended=t,this._closing=!0;let e=t===!0?new Error("unexpected end of parent stream"):t,n=0;this._requests.forEach(r=>{n++,r(e)}),this._instreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(e)}),this._outstreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(e)}),n===0&&t===!0&&(e=null),this._maybedone(e)};Ii.prototype._maybedone=function(t){this._closed||!this._closing||this._requests.size!==0||this._instreams.size!==0||this._outstreams.size!==0||(this.read(null,t||!0),this._closed=!0,this._closecbs.forEach(e=>{e(t)}),this.opts=null,this._closecbs.length=0,this.read=Fce,this._requests.clear(),this._instreams.clear(),this._outstreams.clear())};Ii.prototype.read=function(t){console.error("please overwrite read method to do IO",t)};Ii.prototype.write=function(t,e){this.ended||(e?this.destroy(e):t.req&&!t.stream?this._onrequest(t):t.req&&t.stream?this._onstream(t):this._onmessage(t))};Ii.prototype._onmessage=function(t){this.opts&&typeof this.opts.message=="function"&&this.opts.message(t.value)};Ii.prototype._onrequest=function(t){let e=t.req*-1;if(t.req<0)this._requests.has(e)&&this._requests.get(e)(t.end?t.value:null,t.end?null:t.value);else if(this.opts&&typeof this.opts.request=="function"){let n=!1;this.opts.request(t.value,(r,o)=>{if(n)throw new Error("cb called twice from local api");n=!0,r?this.read({value:bR(r),end:!0,req:e}):this.read({value:o,end:!1,req:e}),this._maybedone()})}else{if(this.ended){let n=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:bR(n),end:!0,stream:!1,req:e})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:e});this._maybedone()}};Ii.prototype._onstream=function(t){if(t.req<0){let e=t.req*-1,n=this._outstreams.get(e);if(!n)return console.error("no stream for incoming msg",t);t.end?(n.writeEnd&&this._outstreams.delete(e),n.readEnd=!0,n.read(null,t.value),this._maybedone()):n.read(t.value)}else{let e=t.req,n=this._instreams.get(e);n||(n=new JY(e*-1,this,()=>{this._instreams.delete(e)}),this._instreams.set(e,n),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)),t.end?(n.writeEnd&&this._instreams.delete(e),n.readEnd=!0,n.read&&n.read(null,t.value),this._maybedone()):n.read?n.read(t.value):console.error("no .read for stream:",n.id,"dropped:",t)}};XY.exports=t=>new Ii(t)});var eV=F((IDe,rx)=>{"use strict";var Uce=Xv();function Mce(t){let e=!1;return(n,r)=>{e||(e=!0,t(n,r))}}function _R(t,e){let n=[],r=!1,o=!1,i,s,a=Mce((c,l)=>{e&&e(c,l),t=null,e=null,i=null,s&&s(c||!0,()=>{})});return t.read=function(c,l){if(r=r||l,i){let u=i;i=null,u(r,c)}else!r&&!o&&n.push(c);r&&a(r!==!0?r:null)},{source(c,l){c?(t&&t.write(null,c),l(c),n.length=0,o=!0,a(c!==!0?c:null)):n.length?l(null,n.shift()):r?l(r):i=l},sink(c){if(r)return s=null,c(r,()=>{});s=c,Uce.drain(l=>{if(r)return!1;t.write(l)},l=>{t&&!t.writeEnd&&t.write(null,l||!0),a&&a(l)})(c)}}}function QY(t,e){return _R(t,n=>{t.writeEnd||t.write(null,n||!0),e&&e(n)})}function $ce(t){return QY(t).source}function jce(t,e){return QY(t,e).sink}rx.exports=_R;rx.exports.source=$ce;rx.exports.sink=jce;rx.exports.duplex=_R});var nV=F((PDe,tV)=>{tV.exports=function(e){var n,r,o;function i(s){return function(a,c){s(a,function(l,u){if(l&&!o)return o=!0,c(null,e);l&&n?c(l):l?r=c:c(null,u)})}}return i.end=function(){return n=!0,r&&r(n),i},i}});var oV=F((TDe,rV)=>{var Hce=nV(),SR=Xv();rV.exports=function(t,e){e=e||"GOODBYE";var n=Hce(e);return{source:SR(t.source,n),sink:SR(SR.filter(function(r){if(r!==e)return!0;n.end()}),t.sink)}}});var ox=F(is=>{"use strict";var QC=Xv();function Bce(t){return t?Object.keys(t).length===0:!0}is.set=function(e,n,r){let o,i;for(let s=0;s<n.length;s++){let a=n[s];e[a]=e[a]||{},o=e,i=a,e=e[a]}o[i]=r};is.get=function(e,n){if(typeof n=="string")return e[n];let r;for(let o=0;o<n.length;o++){let i=n[o];if(r=e=e[i],e==null)return e}return r};is.prefix=function(e,n){let r;for(let o=0;o<n.length;o++){let i=n[o];if(r=e=e[i],typeof e!="object")return e}return typeof r!="object"?!!r:!1};function qce(t,e){for(let n in e){let r=e[n];t[r]||(t[r]={}),t=t[r]}return t}function Wce(t,e){(function n(r,o){let i=e[o];if(r)e.length-1===o?delete r[i]:o<e.length&&n(r[i],o+1);else return;Bce(r[i])&&delete r[i]})(t,0)}function Yce(t,e){for(let n in e)t[n]=e[n];return t}is.mount=function(e,n,r){if(!Array.isArray(n))throw new Error("path must be array of strings");return Yce(qce(e,n),r)};is.unmount=function(e,n){return Wce(e,n)};var eb=t=>t==="source",tb=t=>t==="sink",DR=t=>t==="duplex",Vce=t=>t==="sync",zce=t=>t==="async",iV=t=>Vce(t)||zce(t),Gce=t=>eb(t)||tb(t)||DR(t);is.isRequest=iV;is.isStream=Gce;function IR(t){return function(e){e(t||!0,()=>{})}}function sV(t){return{source:QC.error(t),sink:IR(t)}}is.errorAsStream=function(e,n){return eb(e)?QC.error(n):tb(e)?IR(n):sV(n)};is.errorAsStreamOrCb=function(e,n,r){return iV(e)?r(n):DR(e)?sV(n):eb(e)?QC.error(n):tb(e)?IR(n):r(n)};is.pipeToStream=function(e,n,r){eb(e)?n(r):tb(e)?r(n):DR(e)&&QC(n,r,n)}});var PR=F((RDe,aV)=>{"use strict";function Kce(t){return typeof t=="string"?[`Error: ${t}`]:t.stack?t.stack.split(`
`):[`${t.name}: ${t.message}`]}aV.exports=function(e,n){let r=new Error(n),o=r.stack.split(`
`);o.splice(1,1);let i=Kce(e);i[0]="  "+i[0];for(let s=1;s<o.length;s++)if(i.includes(o[s])){o.splice(s);break}return r.stack=o.concat(i).join(`
`),r}});var dV=F((NDe,uV)=>{"use strict";var Jce=ZY(),TR=eV(),Xce=oV(),um=ox(),cV=PR(),lV=dE()("muxrpc:psc");uV.exports=function(e,n,r){let o=Jce({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,l=s.args,u=!1,d=!1;l.push((f,p)=>{d=!0,u=!0,a(f,p)});try{e("async",c,l)}catch(f){if(u||d)throw cV(f,"no callback provided to muxrpc async funtion");a(f)}},stream(s){s.read=function(c,l){if(l)return s.write(null,l);let{name:u,type:d,args:f}=c,p,m;if(s.read=null,!um.isStream(d))return s.write(null,new Error(`unsupported stream type: ${d}`));try{m=e(d,u,f)}catch(g){p=g}let v=TR[d==="source"?"sink":d==="sink"?"source":"duplex"](s);return um.pipeToStream(d,v,p?um.errorAsStream(d,p):m)}},close(s){if(o=null,i.ended=!0,!i.closed&&(i.closed=!0,r)){let a=r;r=null,a(s)}}}),i=Xce(TR(o,()=>{}));return i=n?n(i,lV.enabled?lV.namespace:!1):i,i.remoteCall=function(s,a,c,l){if(a==="emit")return o.message(c);if(!(um.isRequest(s)||um.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(um.isRequest(s))return o.request({name:a,args:c},l);let u=o.stream(),d=TR[s](u,l);return u.write({name:a,args:c,type:s}),d},i.isOpen=function(){return!o.ended},i.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!o){a&&a();return}if(s){o.destroy(s),a&&a();return}return o.close(c=>{if(a)a(c);else if(c)throw cV(c,"no callback provided for muxrpc close")}),this},i.closed=!1,i}});var pV=F((LDe,fV)=>{"use strict";var Zce=PR(),Qce=ox();function kR(t,e,n,r){for(let o in e){let i=e[o],s=n?n.concat(o):[o];if(i&&typeof i=="object"){let a=i;t[o]=kR({},a,s,r)}else{let a=i;t[o]=(...c)=>r(a,s,c)}}return t}function ele(t){if(t)throw Zce(t,"callback not provided")}function tle(t,e,n,r){t=t||{};function o(i,s,a){let c=typeof a[a.length-1]=="function"?a.pop():i==="sync"||i==="async"?null:ele;if(typeof c=="function"){let l;try{l=n(i,s,a,c)}catch(u){return Qce.errorAsStreamOrCb(i,u,c)}return l}else return new Promise((l,u)=>{n(i,s,a,(d,f)=>{d?u(d):l(f)})})}return r?o("async","manifest",[function(i,s){if(i)return r(i);kR(t,s,null,o),r(null,s,t)}]):kR(t,e,null,o),t}fV.exports=tle});var gV=F((ADe,hV)=>{"use strict";var nb=ox();function mV(t){return Array.isArray(t)?t:t.split(".")}function nle(t){return t&&typeof t.pre=="function"&&typeof t.test=="function"&&typeof t.post=="function"}hV.exports=function(e){if(nle(e))return e;if(typeof e=="function")return{pre:e};let n=null,r={};function o(i){if(i.allow){n={};for(let s of i.allow)nb.set(n,mV(s),!0)}else n=null;if(i.deny)for(let s of i.deny)nb.set(r,mV(s),!0);else r={};return this}return e&&o(e),o.pre=i=>{if(i=Array.isArray(i)?i:[i],n&&!nb.prefix(n,i))return new Error(`method:${i} is not in list of allowed methods`);if(r&&nb.prefix(r,i))return new Error(`method:${i} is on list of disallowed methods`)},o.post=()=>{},o.test=i=>o.pre(i),o.get=()=>({allow:n,deny:r}),o}});var xV=F((ODe,vV)=>{"use strict";var rle=gV(),RR=ox();vV.exports=function(e,n,r){r=rle(r);function o(s,a){return s===RR.get(n,a)}function i(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&o("sync",a)){let l=c.pop(),u;try{u=RR.get(e,a).apply(this,c)}catch(d){return l(d)}return l(null,u)}if(!o(s,a))throw new Error(`no ${s}:${a}`);return RR.get(e,a).apply(this,c)}return function(a,c,l){let u=r.pre(c,l);if(u)throw u;return i.call(this,a,c,l)}}});var EV=F((FDe,yV)=>{"use strict";var ole=YY(),ile=require("events").EventEmitter,sle=dV(),ale=pV(),cle=xV();function wV(t,e,n,r,o,i,s){let a;typeof t=="function"&&(a=t,t={}),e=e||{},t=t||{};let c=new ile;i||(i=ole);let l,u={_emit(f,p){return c&&c._emit(f,p),u},id:r},d=sle(cle(n,e,o).bind(u),i,f=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let p=l;l=null,p(f)}});if(ale(c,t,(f,p,m,h)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(f,p,m,h)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",p=>{u.id=p});let f=!0;c.createStream=p=>{if(l=p,f)return f=!1,d;throw new Error("one stream per rpc")}}else c.stream=d;return c.closed=!1,c.close=function(f,p){return d.close(f,p),this},c}yV.exports=function(t,e,n){return arguments.length>3?wV.apply(this,arguments):function(r,o,i){return wV(t,e,r,i,o,n,!0)}}});var sb=F((Qa,_V)=>{var UDe=uR(),lle=ER();function CV(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function bV(t,e,n){var r,o=!1,i;function s(){i||(i=!0,n&&n(r===!0?null:r))}function a(){o||(o=!0,l(),r?s():t(r=!0,s))}function c(u){l(),r||t(r=u,s)}function l(){e.on("finish",a),e.removeListener("close",a),e.removeListener("error",c)}e.on("close",a),e.on("finish",a),e.on("error",c),process.nextTick(function(){lle(function(u){t(null,function(d,f){if(r=r||d,d===!0)return e._isStdio?s():e.end();if(r=r||d)return CV(e),s(r);if(e._isStdio)e.write(f,function(){u()});else{var p=e.write(f);p===!1?e.once("drain",u):u()}})})})}function ule(t){var e=!1,n=!1,r;function o(){var i=t.read();if(i!==null&&r){var s=r;r=null,s(null,i)}}return t.on("readable",function(){n=!0,r&&o()}).on("end",function(){e=!0,r&&r(e)}).on("error",function(i){e=i,r&&r(e)}),function(i,s){r=s,e?s(e):n&&o()}}function rb(t){var e=[],n=[],r,o=!1,i;function s(){for(;(e.length||r)&&n.length;)n.shift()(e.length?null:r,e.shift());!e.length&&o&&(o=!1,t.resume())}return t.on("data",function(a){e.push(a),s(),e.length&&t.pause&&(o=!0,t.pause())}),t.on("end",function(){r=!0,s()}),t.on("close",function(){r=!0,s()}),t.on("error",function(a){r=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;n.length;)n.shift()(a);c(a)};var l=u;if(r)return u();t.once("close",u),CV(t)}else n.push(c),s()}}var dle=rb,ob=function(t,e){return function(n){return bV(n,t,e)}},ib=function(t){return rb(t)};Qa=_V.exports=function(t,e){return t.writable&&t.write?t.readable?function(n){return bV(n,t,e),rb(t)}:ob(t,e):ib(t)};Qa.sink=ob;Qa.source=ib;Qa.read=dle;Qa.read1=rb;Qa.read2=ule;Qa.duplex=function(t,e){return{source:ib(t),sink:ob(t,e)}};Qa.transform=function(t){return function(e){var n=ib(t);return ob(t)(e),n}}});var DV=F((MDe,ab)=>{var fle=require("stream");ab.exports=NR;ab.exports.source=function(t){return NR(null,t)};ab.exports.sink=function(t){return NR(t,null)};var SV=typeof setImmediate>"u"?process.nextTick:setImmediate;function NR(t,e){t&&typeof t=="object"&&(e=t.source,t=t.sink);var n=[],r=[],o,i,s=new fle;s.writable=s.readable=!0,s.write=function(v){return n.length?n.shift()(null,v):r.push(v),n.length||(i=!0),!!n.length},s.end=function(){e?r.length?h():e(o=!0,n.length?n.shift():function(){}):n.length&&n.shift()(!0)},s.source=function(v,g){r.length?(g(null,r.shift()),r.length||s.emit("drain")):((o=o||v)?g(o):n.push(g),i&&(i=!1,s.emit("drain")))};var a;t&&(a=t(s.source)),a&&!e&&(e=a);var c=[],l=[],u=!1,d=!1,f=!1;if(s.sink=function(v){e=v,SV(h)},e){s.sink(e),s.paused=!0;var p=s.on.bind(s);s.on=(v,g)=>{var w=p(v,g);return v==="data"&&s.paused&&SV(s.resume.bind(s)),w};var m=s.pipe.bind(s);s.pipe=function(v,g){var w=m(v,g);return s.paused&&s.resume(),w}}function h(){if(d=!1,!(!e||f)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(u)return s.emit("end");f=!0,e(null,function v(g,w){f=!1,s.paused?(g===!0?u=g:g?s.emit("error",g):c.push(w),d=!0):g&&(o=g)!==!0?s.emit("error",g):(o=o||g)?s.emit("end"):(s.emit("data",w),f=!0,e(null,v))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,h(),s},s.destroy=function(){!o&&e&&e(o=!0,function(){}),o=!0,n.length&&n.shift()(!0),s.emit("close")},s}});var PV=F(($De,IV)=>{IV.exports=ple;function ple(t,e){typeof t=="function"&&(e=t,t=!1);var n=[],r,o;function i(d,f){d&&(r=d,o&&u(r)),o=f,l()}var s;function a(d){s=s||d||!0,l()}function c(d){if(!s){if(o){u(r,d);return}n.push(d)}}if(t)return{push:c,end:a,source:i,buffer:n};return i.push=c,i.end=a,i.buffer=n,i;function l(){o&&(r?u(r):!n.length&&s?u(s):n.length&&u(null,n.shift()))}function u(d,f){var p=o;if(d&&e){var m=e;e=null,m(d===!0?null:d)}o=null,p(d,f)}}});var VR=F((IIe,az)=>{"use strict";var iz=require("child_process"),Ble=1024*1024,sz={exec(t,e){iz.exec(t,{maxBuffer:2*Ble,windowsHide:!0},e)},spawn(t,e,n){return iz.spawn(t,e,n)},stripLine(t,e){let n=0;for(;e-- >0;){let r=t.indexOf(`
`,n);r>=0&&(n=r+1)}return n>0?t.substring(n):t},split(t,e){let n=t.trim().split(/\s+/);return n.length>e&&(n[e-1]=n.slice(e-1).join(" ")),n},extractColumns(t,e,n){let r=t.split(/(\r\n|\n|\r)/),o=[];return n||(n=Math.max.apply(null,e)+1),r.forEach(i=>{let s=sz.split(i,n),a=[];e.forEach(c=>{a.push(s[c]||"")}),o.push(a)}),o},parseTable(t){let e=t.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(n=>n.trim().length>0).map(n=>n.split(/(\r\n|\n|\r)/).filter(r=>r.trim().length>0));return e.forEach(n=>{for(let r=0;n[r];){let o=n[r];o.startsWith(" ")?(n[r-1]+=o.trimLeft(),n.splice(r,1)):r+=1}}),e.map(n=>{let r={};return n.forEach(o=>{let i=o.indexOf(":"),s=o.slice(0,i).trim();r[s]=o.slice(i+1).trim()}),r})}};az.exports=sz});var lz=F((PIe,cz)=>{"use strict";var qle=require("os"),Tb=require("fs"),Pi=VR(),Wle=t=>new Promise((e,n)=>{Tb.existsSync(t)?e():Tb.mkdir(t,r=>{r?n(r):e()})}),zR={darwin(t){return new Promise((e,n)=>{Pi.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(r,o,i){if(r)n(r);else{if(r=i.toString().trim(),r){n(r);return}let s=Pi.stripLine(o.toString(),2),a=Pi.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);if(l&&l[1]===String(t))return!0});a&&a[2].length?e(parseInt(a[2],10)):n(new Error(`pid of port (${t}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(t){return new Promise((e,n)=>{let r="netstat -tunlp";Pi.exec(r,function(o,i,s){if(o)n(o);else{let a=s.toString().trim();a&&console.warn(a);let c=Pi.stripLine(i.toString(),2),l=Pi.extractColumns(c,[3,6],7).find(u=>{let d=String(u[0]).match(/:(\d+)$/);if(d&&d[1]===String(t))return!0});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?e(parseInt(u,10)):n(new Error(`pid of port (${t}) not found`))}else n(new Error(`pid of port (${t}) not found`))}})})},win32(t){return new Promise((e,n)=>{Pi.exec("netstat -ano",function(r,o,i){if(r)n(r);else{if(r=i.toString().trim(),r){n(r);return}let s=Pi.stripLine(o.toString(),4),a=Pi.extractColumns(s,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(t))return!0});a&&a[1].length&&parseInt(a[1],10)>0?e(parseInt(a[1],10)):n(new Error(`pid of port (${t}) not found`))}})})},android(t){return new Promise((e,n)=>{let r=qle.tmpdir()+"/.find-process",o=r+"/"+process.pid,i='netstat -tunp >> "'+o+'"';Wle(r).then(()=>{Pi.exec(i,()=>{Tb.readFile(o,"utf8",(s,a)=>{if(Tb.unlink(o,()=>{}),s)n(s);else{a=Pi.stripLine(a,2);let c=Pi.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);if(u&&u[1]===String(t))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?e(parseInt(l,10)):n(new Error(`pid of port (${t}) not found`))}else n(new Error(`pid of port (${t}) not found`))}})})})})}};function Yle(t){let e=process.platform;return new Promise((n,r)=>{if(!(e in zR))return r(new Error(`platform ${e} is unsupported`));let o=zR[e];typeof o=="string"&&(o=zR[o]),o(t).then(n,r)})}cz.exports=Yle});var pz=F((TIe,fz)=>{"use strict";var kb=require("path"),kl=VR();function GR(t,e){return e?t&&t.match?t.match(e):!1:!0}function uz(t){let e=t.split(kb.sep),n=e[e.length-1];n&&(e[e.length-1]=n.split(" ")[0]);let r=[];for(let o of e){let i=o.indexOf(" -");if(i>=0){r.push(o.substring(0,i).trim());break}else if(o.endsWith(" ")){r.push(o.trim());break}r.push(o)}return r.join(kb.sep)}function dz(t){if(process.platform==="darwin"){let e=t.indexOf(".app/");if(e>=0)return kb.basename(t.substring(0,e))}return kb.basename(t)}var KR={darwin(t){return new Promise((e,n)=>{let r;"pid"in t?r=`ps -p ${t.pid} -ww -o pid,ppid,uid,gid,args`:r="ps ax -ww -o pid,ppid,uid,gid,args",kl.exec(r,function(o,i,s){if(o)"pid"in t?e([]):n(o);else{if(o=s.toString().trim(),o){n(o);return}let a=kl.stripLine(i.toString(),1),l=kl.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&t.pid?u[0]===String(t.pid):u[4]&&t.name?GR(u[4],t.name):!!u[0]).map(u=>{let d=String(u[4]),f=uz(d);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:dz(f),bin:f,cmd:u[4]}});t.strict&&t.name&&(l=l.filter(u=>u.name===t.name)),e(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(t){return new Promise((e,n)=>{let r="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",o=[],i=kl.spawn("powershell.exe",["/c",r],{detached:!1,windowsHide:!0});i.stdout.on("data",s=>{o.push(s.toString())}),i.on("close",s=>{if(s!==0)return n(new Error("Command '"+r+"' terminated with code: "+s));let a=kl.parseTable(o.join("")).filter(c=>{if("pid"in t)return c.ProcessId===String(t.pid);if(t.name){let l=c.Name||"";return t.strict?l===t.name||l.endsWith(".exe")&&l.slice(0,-4)===t.name:GR(c.CommandLine||l,t.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));e(a)})})},android(t){return new Promise((e,n)=>{let r="ps";kl.exec(r,function(o,i,s){if(o)"pid"in t?e([]):n(o);else{if(o=s.toString().trim(),o){n(o);return}let a=kl.stripLine(i.toString(),1),l=kl.extractColumns(a,[0,3],4).filter(u=>u[0]&&t.pid?u[0]===String(t.pid):u[1]&&t.name?GR(u[1],t.name):!!u[0]).map(u=>{let d=String(u[1]),f=uz(d);return{pid:parseInt(u[0],10),name:dz(f),bin:f,cmd:d}});t.strict&&t.name&&(l=l.filter(u=>u.name===t.name)),e(l)}})})}};function Vle(t){let e=process.platform;return new Promise((n,r)=>{if(!(e in KR))return r(new Error(`platform ${e} is unsupported`));let o=KR[e];typeof o=="string"&&(o=KR[o]),o(t).then(n,r)})}fz.exports=Vle});var gz=F((kIe,hz)=>{"use strict";var zle=lz(),mz=pz(),JR={port(t,e){return zle(t,e).then(n=>JR.pid(n,e),()=>[])},pid(t,e){return mz({pid:t,strict:e})},name(t,e){return mz({name:t,strict:e})}};function Gle(t,e,n){return new Promise((r,o)=>{if(!(t in JR))o(new Error(`do not support find by "${t}"`));else{let i=/^\d+$/.test(e);t==="pid"&&!i?o(new Error("pid must be a number")):t==="port"&&!i?o(new Error("port must be a number")):JR[t](e,n).then(r,o)}})}hz.exports=Gle});var xz=F((RIe,vz)=>{"use strict";vz.exports=gz()});var z3=F(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.BaseTelemetryReporter=void 0;var ZN=class{constructor(e,n,r){this.telemetrySender=e,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,n,r,o){o?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logUsage(e,{properties:n,measurements:r})}sendTelemetryEvent(e,n,r){this.internalSendTelemetryEvent(e,n,r,!1)}sendRawTelemetryEvent(e,n,r){let o={...n};for(let i of Object.keys(o??{})){let s=o[i];typeof i=="string"&&s!==void 0&&(o[i]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(e,o,r)}sendDangerousTelemetryEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,n,r,!0)}internalSendTelemetryErrorEvent(e,n,r,o){o?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logError(e,{properties:n,measurements:r})}sendTelemetryErrorEvent(e,n,r){this.internalSendTelemetryErrorEvent(e,n,r,!1)}sendDangerousTelemetryErrorEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,n,r,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};C_.BaseTelemetryReporter=ZN});var G3=F(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.BaseTelemetrySender=void 0;var pc;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})(pc||(pc={}));var QN=class{constructor(e,n){this._instantiationStatus=pc.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=e}sendEventData(e,n){if(!this._telemetryClient){this._instantiationStatus!==pc.INSTANTIATED&&this._eventQueue.push({eventName:e,data:n});return}this._telemetryClient.logEvent(e,n)}sendErrorData(e,n){if(!this._telemetryClient){this._instantiationStatus!==pc.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:n});return}let r={stack:e.stack,message:e.message,name:e.name};n?n.properties={...n.properties,...r}:n={properties:r},this._telemetryClient.logEvent("unhandlederror",n)}async flush(){var e;return(e=this._telemetryClient)==null?void 0:e.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:n})=>this.sendEventData(e,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:n})=>this.sendErrorData(e,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===pc.NOT_INSTANTIATED&&(this._instantiationStatus=pc.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=pc.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=pc.INSTANTIATED}))}};b_.BaseTelemetrySender=QN});var tL=F(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.TelemetryUtil=void 0;var eL=class t{static applyReplacements(e,n){for(let r of Object.keys(e))for(let o of n)o.lookup.test(r)&&(o.replacementString!==void 0?e[r]=o.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return t._instance||(t._instance=new t),t._instance}};__.TelemetryUtil=eL});var jm,mc,Gs,ds,Hm,jx,nL=H(()=>{jm="function",mc="object",Gs="undefined",ds="prototype",Hm=Object,jx=Hm[ds]});var qr,jt,Bm,rL,Gl,oL,hc,Li,Hx,iL,gc,Bx,qx,K3,S_,D_,fs,sL,I_,P_,qm,sn,T_,aL,Wr,cL,lL,ai,Ze=H(()=>{qr=void 0,jt=null,Bm="",rL="boolean",Gl="function",oL="number",hc="object",Li="prototype",Hx="__proto__",iL="string",gc="undefined",Bx="constructor",qx="Symbol",K3="_polyfill",S_="indexOf",D_="lastIndexOf",fs="length",sL="done",I_="value",P_="name",qm="slice",sn=Object,T_=sn[Li],aL=String,Wr=aL[Li],cL=Math,lL=Array,ai=lL[Li]});function Wx(t,e){var n=e;try{n=t()}catch{}return n}var uL=H(()=>{});function Wm(t){return function(e){return typeof e===t}}function nf(t){var e="[object "+t+"]";return function(n){return!!(n&&rf(n)===e)}}function rf(t){return T_.toString.call(t)}function k_(t,e){return typeof t===e}function Oe(t){return typeof t===gc||t===gc}function te(t){return t===jt||Oe(t)}function dL(t){return t===jt||!R_(t)}function R_(t){return!!t||t!==qr}function Pt(t){return!t&&te(t)?!1:!!t&&typeof t===hc}function Kl(t){return!!t&&Ne(t.then)}function N_(t){return!t||!Wx(function(){return t&&0+t},t)}function ms(t){return!(!t||Wx(function(){return!(t&&0+t)},!t))}var Jpe,fL,Ae,Ne,he,Ym,cr,ps,Xpe,Zpe,Qpe,eme,tme,Ks,ao=H(()=>{Ze();uL();Jpe=[iL,oL,rL,gc,"symbol","bigint"];fL=function(t){return t!==hc&&Jpe.indexOf(t)!==-1},Ae=Wm(iL),Ne=Wm(Gl);he=lL.isArray,Ym=nf("Date"),cr=Wm(oL),ps=Wm(rL),Xpe=nf("RegExp"),Zpe=nf("File"),Qpe=nf("FormData"),eme=nf("Blob"),tme=nf("ArrayBuffer"),Ks=nf("Error")});var of,L_=H(()=>{Ze();of=sn.getOwnPropertyDescriptor});function wn(t,e){return t&&T_.hasOwnProperty.call(t,e)}var A_=H(()=>{Ze()});function J3(t,e){return wn(t,e)||!!of(t,e)}var Ao,O_=H(()=>{Ze();L_();A_();Ao=sn.hasOwn||J3});function de(t,e,n){if(t&&Pt(t)){for(var r in t)if(Ao(t,r)&&e.call(n||t,r,t[r])===-1)break}}var Jl=H(()=>{ao();O_()});function pL(t,e,n,r){var o={};return de(t,function(i,s){o[i]=e?s:i,o[s]=n?s:i}),r(o)}var X3=H(()=>{Jl()});function Xt(t){throw new Error(t)}function Wt(t){throw new TypeError(t)}var Xl=H(()=>{});function Z3(t){var e=[];return de(t,function(n,r){e.push([n,r])}),e}function Q3(t){var e=[];return de(t,function(n,r){e.push(r)}),e}var e4=H(()=>{Jl()});function Kn(t){return(!Pt(t)||t===jt)&&Wt("objKeys called on non-object"),sn.keys(t)}function co(t){return mL&&de(t,function(e,n){(he(n)||Pt(n))&&mL(n)}),Js(t)}var mL,t4,nme,sf,Js,F_,Vm,rme,dLe,zm=H(()=>{Ze();ao();Xl();Jl();e4();mL=sn.freeze,t4=function(t){return t},nme=function(t){return t[Hx]||jt},sf=sn.assign;Js=mL||t4,F_=sn.seal||t4,Vm=sn.getPrototypeOf||nme,rme=sn.entries||Z3,dLe=sn.values||Q3});function hL(t){return pL(t,1,0,co)}function gL(t){return pL(t,0,0,co)}function n4(t){var e={};return de(t,function(n,r){e[n]=r[1],e[r[0]]=r[1]}),co(e)}function vL(t){return n4(t)}var xL=H(()=>{X3();Jl();zm()});var U_,wL=H(()=>{xL();U_=gL({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12})});var Rn,Gm=H(()=>{Ze();Rn=aL});function EL(){var t;return typeof globalThis!==gc&&(t=globalThis),!t&&typeof self!==gc&&(t=self),!t&&typeof window!==gc&&(t=window),!t&&typeof global!==gc&&(t=global),t}function M_(){if(!yL){var t=EL()||{};yL=t[r4]=t[r4]||{}}return yL}var r4,yL,$_=H(()=>{Ze();r4="__tsUtils$gblCfg"});function fe(t,e){var n=Bm;if(Ks(t))n="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'";else try{n=JSON.stringify(t,jt,e?cr(e)?e:4:qr)}catch(r){n=" - "+fe(r,e)}return rf(t)+": "+n}var Zl=H(()=>{Ze();ao()});function i4(t){return function(e){return e[t]}}var CL,o4,j_,Yr,Ai,lo=H(()=>{Zl();Xl();Gm();Ze();CL=ai[qm],o4=function(t,e){Wt("'"+Rn(t)+"' not defined for "+fe(e))},j_=function(t){return function(e){return e[t].apply(e,CL.call(arguments,1))}},Yr=function(t,e){var n=e&&e[t];return function(r){var o=r&&r[t]||n;if(o)return o.apply(r,CL.call(arguments,1));o4(t,r)}},Ai=function(t,e,n){var r=e&&e[t];return function(o){var i=o&&o[t]||r;if(i||n){var s=arguments;return(i||n).apply(o,i?CL.call(s,1):s)}o4(t,o)}}});var NLe,s4,a4=H(()=>{Ze();NLe=cL.min,s4=cL.max});var bL,c4=H(()=>{Ze();lo();bL=Yr(qm,Wr)});function l4(t,e,n){return te(t)&&Wt("'polyStrSubstr called with invalid "+fe(t)),n<0?Bm:(e=e||0,e<0&&(e=s4(e+t[fs],0)),Oe(n)?bL(t,e):bL(t,e,e+n))}function Ql(t,e){return an(t,0,e)}var an,hs,H_=H(()=>{ao();Zl();Xl();Ze();lo();a4();c4();an=Yr("substring",Wr),hs=Ai("substr",Wr,l4)});function ome(t,e,n){Ae(t)||Wt("'"+fe(t)+"' is not a string");var r=Ae(e)?e:Rn(e),o=r[fs],i=n>0?n:0;return an(t,i,i+o)===r}var af,u4=H(()=>{ao();Zl();Xl();Ze();lo();Gm();H_();af=Ai("startsWith",Wr,ome)});function ime(){if(!_L){var t=M_();_L=t.gblSym=t.gblSym||{k:{},s:{}}}return _L}function B_(t){var e={description:Rn(t),toString:function(){return qx+"("+t+")"}};return e[K3]=!0,e}function p4(t){var e=ime();if(!Ao(e.k,t)){var n=B_(t),r=Kn(e.s).length;n[d4]=function(){return r+"_"+n.toString()},e.k[t]=n,e.s[n[d4]()]=Rn(t)}return e.k[t]}function m4(t){var e,n=U_[t];return n&&(e=f4[n]=f4[n]||B_(qx+"."+n)),e}var d4,_L,f4,h4=H(()=>{wL();Ze();O_();Gm();$_();zm();d4="_urid";f4={}});function g4(t){var e={};if(e[q_.c]=!0,e[q_.e]=!0,t.l){e.get=function(){return t.l.v};var n=of(t.l,"v");n&&n.set&&(e.set=function(r){t.l.v=r})}return de(t,function(r,o){e[q_[r]]=Oe(o)?e[q_[r]]:o}),e}function W_(t,e,n,r,o,i){var s={e:i,c:o};return n&&(s.g=n),r&&(s.s=r),Nn(t,e,g4(s))}function gt(t,e,n){return Nn(t,e,g4(n))}var q_,Nn,sme,Km=H(()=>{Ze();ao();Jl();L_();q_={e:"enumerable",c:"configurable",v:I_,w:"writable",g:"get",s:"set"};Nn=sn.defineProperty,sme=sn.defineProperties});function gs(t){var e={};return SL&&SL(),e.b=Lt.lzy,Nn(e,"v",{configurable:!0,get:function(){var n=t();return Lt.lzy||(Nn(e,"v",{value:n}),e.b&&delete e.b),Lt.lzy&&e.b!==Lt.lzy&&(e.b=Lt.lzy),n}}),e}var Lt,SL,eu=H(()=>{Ze();$_();Km();SL=function(){Lt=M_(),SL=jt}});function vc(t,e){return gs(function(){return Wx(t,e)})}var Y_=H(()=>{eu();uL()});var v4,Jm,Xm,V_,z_,G_,DL,ci,Vr,At,tu,Zt,nu,cn,Zm,Ln,K_,Yx,IL,Vx=H(()=>{Ze();$_();Y_();eu();v4="window",ci=function(t){return vc(function(){return At(t)||qr},qr)},Vr=function(t){return(!Jm||t===!1||Lt&&Lt.lzy&&!Jm.b)&&(Jm=vc(EL,jt)),Jm.v},At=function(t,e){var n=!Jm||e===!1?Vr(e):Jm.v;return n&&n[t]?n[t]:t===v4&&Xm?Xm.v:jt},tu=function(){return!!Zt()},Zt=function(){return(!V_||Lt&&Lt.lzy&&!V_.b)&&(V_=ci("document")),V_.v},nu=function(){return!!cn()},cn=function(){return(!Xm||Lt&&Lt.lzy&&!Xm.b)&&(Xm=ci(v4)),Xm.v},Zm=function(){return!!Ln()},Ln=function(){return(!z_||Lt&&Lt.lzy&&!z_.b)&&(z_=ci("navigator")),z_.v},K_=function(){return!!Yx()},Yx=function(){return(!G_||Lt&&Lt.lzy&&!G_.b)&&(G_=ci("history")),G_.v},IL=function(){return!DL&&(DL=vc(function(){return!!(process&&(process.versions||{}).node)},!1)),DL.v}});function w4(t){return vc(function(){return uo.v?uo.v[t]:qr},qr)}function PL(){return!!zx()}function zx(){var t=!uo||Lt&&Lt.lzy&&!uo.b;return t&&(uo=ci(qx)),(!J_||t)&&(J_=w4("for")),(!x4||t)&&(x4=w4("keyFor")),uo.v}function cf(t,e){var n=U_[t];return(!uo||Lt.lzy&&!uo.b)&&zx(),uo.v?uo.v[n||t]:e?qr:m4(t)}function lf(t,e){return(!uo||Lt.lzy&&!uo.b)&&zx(),uo.v?uo.v(t):e?jt:B_(t)}function Gx(t){return(!J_||Lt.lzy&&!uo.b)&&zx(),(J_.v||p4)(t)}var uo,J_,x4,y4,X_=H(()=>{Ze();h4();wL();ao();eu();Y_();Vx();y4=Wm("symbol")});function Kx(t){return!!t&&Ne(t.next)}function E4(t){return!dL(t)&&Ne(t[cf(3)])}var TL=H(()=>{X_();ao()});function C4(t,e,n){if(t&&(Kx(t)||(!Z_&&(Z_=gs(function(){return cf(3)})),t=t[Z_.v]?t[Z_.v]():null),Kx(t))){var r=void 0,o=void 0;try{for(var i=0;!(o=t.next())[sL]&&e.call(n||t,o[I_],i,t)!==-1;)i++}catch(s){r={e:s},t.throw&&(o=null,t.throw(r))}finally{try{o&&!o[sL]&&t.return&&t.return(o)}finally{if(r)throw r.e}}}}var Z_,b4=H(()=>{eu();Ze();X_();TL()});var xc,Q_=H(()=>{lo();xc=j_("apply")});function Oi(t,e){return!Oe(e)&&t&&(he(e)?xc(t.push,t,e):Kx(e)||E4(e)?C4(e,function(n){t.push(n)}):t.push(e)),t}var _4=H(()=>{ao();TL();b4();Q_()});function ne(t,e,n){if(t)for(var r=t[fs]>>>0,o=0;o<r&&!(o in t&&e.call(n||t,t[o],o,t)===-1);o++);}var eS=H(()=>{Ze()});var ct,ame,kL=H(()=>{Ze();lo();ct=Yr(S_,ai),ame=Yr(D_,ai)});var Xs,S4=H(()=>{Ze();lo();Xs=Yr("map",ai)});var Er,Jx=H(()=>{Ze();lo();Er=Yr(qm,ai)});var Xx,RL=H(()=>{lo();Xx=j_("call")});function D4(t,e,n){return ct(t,e,n)!==-1}var I4=H(()=>{kL()});var tS,P4=H(()=>{Ze();lo();I4();tS=Ai("includes",ai,D4)});var Qm,T4=H(()=>{Ze();lo();Qm=Yr("reduce",ai)});function lme(t){if(!t)return{};var e=typeof t;if(e!==hc&&e!==Gl)throw new TypeError("Prototype must be an Object or function: "+fe(t));function n(){}return n[Li]=t,new n}var cme,Zx,NL=H(()=>{Ze();Zl();cme=sn.create,Zx=cme||lme});function AL(t,e){var n=sn.setPrototypeOf||function(r,o){!LL&&(LL=gs(function(){var i;return i={},i[Hx]=[],i instanceof Array})),LL.v?r[Hx]=o:de(o,function(i,s){return r[i]=s})};return n(t,e)}var LL,k4=H(()=>{eu();Ze();Jl()});function OL(t,e,n){var r=n||Error,o=r[Li][P_],i=Error.captureStackTrace;return ume(t,function(){var s=this;try{R4(r,t);var a=xc(r,s,Er(arguments))||s;if(a!==s){var c=Vm(s);c!==Vm(a)&&AL(a,c)}return i&&i(a,s[Bx]),e&&e(a,arguments),a}finally{R4(r,o)}},r)}var ume,R4,N4,L4=H(()=>{Jx();Q_();Ze();NL();Km();zm();k4();ume=function(t,e,n){N4(e,t),e=AL(e,n);function r(){this.constructor=e,N4(this,t)}return e[Li]=n===jt?Zx(n):(r[Li]=n[Li],new r),e},R4=function(t,e){try{e&&(t[P_]=e)}catch{}},N4=function(t,e){try{gt(t,P_,{v:e,c:!0,e:!1})}catch{}}});function Qt(){return(Date.now||A4)()}function A4(){return new Date().getTime()}var FL=H(()=>{});function UL(t){return function(n){return te(n)&&Wt("strTrim called ["+fe(n)+"]"),n&&n.replace&&(n=n.replace(t,Bm)),n}}var O4,F4,U4,M4=H(()=>{ao();Zl();Xl();Ze();O4=UL(/^\s+|(?=\s)\s+$/g),F4=UL(/^\s+/g),U4=UL(/(?=\s)\s+$/g)});var ut,dme,fme,$4=H(()=>{Ze();lo();M4();ut=Ai("trim",Wr,O4),dme=Ai("trimStart",Wr,F4),fme=Ai("trimEnd",Wr,U4)});function Jn(t){if(!t||typeof t!==hc)return!1;jL||(jL=nu()?cn():!0);var e=!1;if(t!==jL){$L||(ML=Function[Li].toString,$L=Xx(ML,sn));try{var n=Vm(t);e=!n,e||(wn(n,Bx)&&(n=n[Bx]),e=n&&typeof n===Gl&&ML.call(n)===$L)}catch{}}return e}var ML,$L,jL,HL=H(()=>{RL();Vx();Ze();A_();zm()});function mme(t,e,n,r){var o;return ne(t,function(i){if(i.k===e)return o=i,-1}),o||(o={k:e,v:e},t.push(o),r(o)),o.v}function BL(t,e,n,r){var o=n.handler,i=n.path?r?n.path.concat(r):n.path:[],s={handler:n.handler,src:n.src,path:i},a=typeof e,c=!1,l=!1;e&&a===hc?c=Jn(e):l=e===jt||fL(a);var u={type:a,isPrim:l,isPlain:c,value:e,result:e,path:i,origin:n.src,copy:function(d,f){return BL(t,d,f?s:n,f)},copyTo:function(d,f){return H4(t,d,f,s)}};return u.isPrim?o&&Xx(o,n,u)?u.result:e:mme(t,e,i,function(d){gt(u,"result",{g:function(){return d.v},s:function(m){d.v=m}});for(var f=0,p=o;!Xx(p||(f<j4.length?j4[f++]:pme),n,u);)p=jt})}function H4(t,e,n,r){if(!te(n))for(var o in n)e[o]=BL(t,n[o],r,o);return e}function B4(t,e,n){var r={handler:n,src:e,path:[]};return H4([],t,e,r)}function q4(t,e){var n={handler:e,src:t};return BL([],t,n)}function hme(t){var e=t.value;if(he(e)){var n=t.result=[];return n.length=e.length,t.copyTo(n,e),!0}return!1}function gme(t){var e=t.value;return Ym(e)?(t.result=new Date(e.getTime()),!0):!1}function vme(t){return t.type===Gl}function W4(t){var e=t.value;if(e&&t.isPlain){var n=t.result={};return t.copyTo(n,e),!0}return!1}var pme,j4,Y4=H(()=>{eS();RL();ao();Ze();Km();HL();pme=function(t){return t.value&&W4(t),!0},j4=[hme,W4,vme,gme]});function xme(t,e){return ne(e,function(n){B4(t,n)}),t}function nS(t,e,n,r,o,i,s){return xme(q4(t)||{},Er(arguments))}var V4=H(()=>{eS();Jx();Y4()});var eh,z4=H(()=>{Ze();lo();eh=i4(fs)});function wc(){return(!rS||!rS.b&&Lt&&Lt.lzy)&&(rS=ci("performance")),rS.v}function th(){var t=wc();return t&&t.now?t.now():Qt()}var rS,G4=H(()=>{FL();Vx();eu()});function wme(t,e,n){Ae(t)||Wt("'"+fe(t)+"' is not a string");var r=Ae(e)?e:Rn(e),o=r[fs],i=t[fs],s=!Oe(n)&&n<i?n:i;return an(t,s-o,s)===r}var ru,K4=H(()=>{ao();Zl();Xl();Ze();lo();Gm();H_();ru=Ai("endsWith",Wr,wme)});var fo,yme,J4=H(()=>{Ze();lo();fo=Yr(S_,Wr),yme=Yr(D_,Wr)});function Z4(t,e,n){var r,o=!0,i=t?e(jt):jt,s,a=function(){return o=!1,i&&i[qL]&&i[qL](),s},c=function(){return o=!0,i&&i[oS]&&i[oS](),s},l=function(){return i&&i[WL]?i[WL]():o},u=function(){return i=e(i),o||a(),s},d=function(){i&&n(i),i=jt},f=function(p){!p&&i&&d(),p&&!i&&u()};return s=(r={cancel:d,refresh:u},r[WL]=l,r[oS]=c,r[qL]=a,r[X4]=!1,r),Nn(s,X4,{get:function(){return!!i},set:f}),{h:s,dn:function(){i=jt}}}var oS,qL,WL,X4,Q4=H(()=>{Ze();Km();oS="ref",qL="un"+oS,WL="hasRef",X4="enabled"});function YL(t,e,n,r){var o=he(n),i=o?n.length:0,s=(i>0?n[0]:o?qr:n)||setTimeout,a=(i>1?n[1]:qr)||clearTimeout,c=r[0];r[0]=function(){l.dn(),xc(c,t,Er(arguments))};var l=Z4(e,function(u){if(u){if(u.refresh)return u.refresh(),u;xc(a,t,[u])}return xc(s,t,r)},function(u){xc(a,t,[u])});return l.h}function Oo(t,e){return YL(this,!0,qr,Er(arguments))}function VL(t,e,n){return YL(this,!0,t,Er(arguments,1))}function zL(t,e){return YL(this,!1,qr,Er(arguments))}var e6=H(()=>{Jx();Q_();ao();Ze();Q4()});var Re=H(()=>{_4();eS();P4();kL();S4();T4();Jx();ao();L4();FL();Zl();xL();Vx();V4();eu();z4();G4();Y_();Xl();NL();Km();Jl();L_();O_();A_();HL();zm();K4();J4();u4();H_();Gm();$4();X_();e6()});function Fo(t,e){typeof e!==jm&&e!==null&&Wt("Class extends value "+String(e)+" is not a constructor or null"),GL(t,e);function n(){this.constructor=t}t[ds]=e===null?Zx(e):(n[ds]=e[ds],new n)}function iS(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}var A1e,O1e,t6,Cme,Fi,GL,n6=H(()=>{Re();nL();A1e=(Vr()||{}).Symbol,O1e=(Vr()||{}).Reflect,t6="hasOwnProperty",Cme=function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)jx[t6].call(e,o)&&(t[o]=e[o])}return t},Fi=sf||Cme,GL=function(t,e){return GL=Hm.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r[t6](o)&&(n[o]=r[o])},GL(t,e)}});var r6=H(()=>{});var Uo=H(()=>{nL();n6();r6();Re()});function u6(t){return t&&(t===tA[ou]||t===Array[ou])}function nA(t){return u6(t)||t===Function[ou]}function uf(t){var e;if(t){if(ew)return ew(t);var n=t[l6]||t[ou]||(t[lS]?t[lS][ou]:null);e=t[aS]||n,wn(t,aS)||(delete t[KL],e=t[aS]=t[KL]||t[aS],t[KL]=n)}return e}function fS(t,e){var n=[];if(s6)n=s6(t);else for(var r in t)typeof r=="string"&&wn(t,r)&&n.push(r);if(n&&n.length>0)for(var o=0;o<n.length;o++)e(n[o])}function rA(t,e,n){return e!==lS&&typeof t[e]===uS&&(n||wn(t,e))}function pS(t){Wt("DynamicProto: "+t)}function _me(t){var e={};return fS(t,function(n){!e[n]&&rA(t,n,!1)&&(e[n]=t[n])}),e}function oA(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}function Sme(t,e,n,r){function o(c,l,u){var d=l[u];if(d[XL]&&r){var f=c[dS]||{};f[Qx]!==!1&&(d=(f[l[nh]]||{})[u]||d)}return function(){return d.apply(c,arguments)}}var i={};fS(n,function(c){i[c]=o(e,n,c)});for(var s=uf(t),a=[];s&&!nA(s)&&!oA(a,s);)fS(s,function(c){!i[c]&&rA(s,c,!ew)&&(i[c]=o(e,s,c))}),a.push(s),s=uf(s);return i}function Dme(t,e,n,r){var o=null;if(t&&wn(n,nh)){var i=t[dS]||{};if(o=(i[n[nh]]||{})[e],o||pS("Missing ["+e+"] "+uS),!o[ZL]&&i[Qx]!==!1){for(var s=!wn(t,e),a=uf(t),c=[];s&&a&&!nA(a)&&!oA(c,a);){var l=a[e];if(l){s=l===r;break}c.push(a),a=uf(a)}try{s&&(t[e]=o),o[ZL]=1}catch{i[Qx]=!1}}}return o}function Ime(t,e,n){var r=e[t];return r===n&&(r=uf(e)[t]),typeof r!==uS&&pS("["+t+"] is not a "+uS),r}function Pme(t,e,n,r,o){function i(c,l){var u=function(){var d=Dme(this,l,c,u)||Ime(l,c,u);return d.apply(this,arguments)};return u[XL]=1,u}if(!u6(t)){var s=n[dS]=n[dS]||{},a=s[e]=s[e]||{};s[Qx]!==!1&&(s[Qx]=!!o),fS(n,function(c){rA(n,c,!1)&&n[c]!==r[c]&&(a[c]=n[c],delete n[c],(!wn(t,c)||t[c]&&!t[c][XL])&&(t[c]=i(t,c)))})}}function Tme(t,e){if(ew){for(var n=[],r=uf(e);r&&!nA(r)&&!oA(n,r);){if(r===t)return!0;n.push(r),r=uf(r)}return!1}return!0}function JL(t,e){return wn(t,ou)?t.name||e||o6:((t||{})[lS]||{}).name||e||o6}function tt(t,e,n,r){wn(t,ou)||pS("theClass is an invalid class definition.");var o=t[ou];Tme(o,e)||pS("["+JL(t)+"] not in hierarchy of ["+JL(e)+"]");var i=null;wn(o,nh)?i=o[nh]:(i=bme+JL(t,"_")+"$"+eA.n,eA.n++,o[nh]=i);var s=tt[c6],a=!!s[cS];a&&r&&r[cS]!==void 0&&(a=!!r[cS]);var c=_me(e),l=Sme(o,e,c,a);n(e,l);var u=!!ew&&!!s[QL];u&&r&&(u=!!r[QL]),Pme(o,i,e,c,u!==!1)}var sS,lS,ou,uS,dS,XL,nh,bme,ZL,Qx,c6,o6,l6,aS,i6,KL,cS,QL,tA,ew,s6,a6,eA,Cr=H(()=>{Re();lS="constructor",ou="prototype",uS="function",dS="_dynInstFuncs",XL="_isDynProxy",nh="_dynClass",bme="_dynCls$",ZL="_dynInstChk",Qx=ZL,c6="_dfOpts",o6="_unknown_",l6="__proto__",aS="_dyn"+l6,i6="__dynProto$Gbl",KL="_dynInstProto",cS="useBaseInst",QL="setInstFuncs",tA=Object,ew=tA.getPrototypeOf,s6=tA.getOwnPropertyNames,a6=Vr(),eA=a6[i6]||(a6[i6]={o:(sS={},sS[QL]=!0,sS[cS]=!0,sS),n:1e3});tt[c6]=eA.o});var iA,d6=H(()=>{"use strict";iA=100});var lr,sA,mS=H(()=>{Re();lr=hL,sA=vL});var vs,f6=H(()=>{mS();vs=lr({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});var Zs,iu,ke,df,ff,rh,yc,xs,Ui,_t,su,Qe,Qs,hS,pf,mf,ea,Mo,au,aA,zr,cu,Xn,gS,oh,ih,sh,lu,cA,$o,tw,hf,vS,ta,li,ah,uu,ws,jo,ch,gf,ui,du,nw,na,xS,Ec,lA,Ho,rw,ow,vf,ys,wS,lh,uh,fu,Ot=H(()=>{Zs="toLowerCase",iu="blkVal",ke="length",df="rdOnly",ff="notify",rh="warnToConsole",yc="throwInternal",xs="setDf",Ui="watch",_t="logger",su="apply",Qe="push",Qs="splice",hS="hdlr",pf="cancel",mf="initialize",ea="identifier",Mo="isInitialized",au="getPlugin",aA="pollInternalLogs",zr="name",cu="time",Xn="processNext",gS="getProcessTelContext",oh="getNotifyMgr",ih="addNotificationListener",sh="removeNotificationListener",lu="enabled",cA="stopPollingInternalLogs",$o="unload",tw="onComplete",hf="version",vS="loggingLevelConsole",ta="createNew",li="teardown",ah="messageId",uu="message",ws="isAsync",jo="diagLog",ch="_doTeardown",gf="update",ui="getNext",du="setNextPlugin",nw="userAgent",na="split",xS="nodeType",Ec="replace",lA="logInternalMessage",Ho="type",rw="handler",ow="isChildEvt",vf="getCtx",ys="setCtx",wS="complete",lh="traceId",uh="spanId",fu="traceFlags"});function p6(t,e){uA||(uA=OL("AggregationError",function(r,o){o[ke]>1&&(r.errors=o[1])}));var n=t||"One or more errors occurred.";throw ne(e,function(r,o){n+=`
`.concat(o," > ").concat(fe(r))}),new uA(n,e||[])}var uA,m6=H(()=>{Re();Ot()});function pu(t,e){return yS(t,function(n){e&&e({value:n,rejected:!1})},function(n){e&&e({rejected:!0,reason:n})})}function yS(t,e,n,r){var o=t;return Kl(t)?(e||n)&&(o=t.then(e,n)):e&&e(t),r&&(o=h6(o,r)),o}function h6(t,e){var n=t;return e&&(Kl(t)?t.finally?n=t.finally(e):n=t.then(function(r){return e(),r},function(r){throw e(),r}):e()),n}var dA=H(()=>{Re()});function g6(t,e,n,r){fA=fA||{toString:function(){return"[[PromiseState]]"}},pA=pA||{toString:function(){return"[[PromiseResult]]"}},mA=mA||{toString:function(){return"[[PromiseIsHandled]]"}},Nn(t,fA,{get:e}),Nn(t,pA,{get:n}),Nn(t,mA,{get:r})}var fA,pA,mA,hA,v6=H(()=>{Re();hA=!1});var ES,gA=H(()=>{ES=["pending","resolving","resolved","rejected"]});function w6(t,e,n,r){var o=Zt();!CS&&(CS=vc(function(){var c;return o&&o.createEvent&&(c=o.createEvent("Event")),!!c&&c.initEvent},null));var i=CS.v?o.createEvent("Event"):r?new Event(e):{};if(n&&n(i),CS.v&&i.initEvent(e,!1,!0),i&&t[x6])t[x6](i);else{var s=t["on"+e];if(s)s(i);else{var a=At("console");a&&(a.error||a.log)(e,fe(i))}}}var x6,CS,y6=H(()=>{Re();x6="dispatchEvent"});var dh,vA=H(()=>{dh="Promise"});function E6(t){return Ne(t)?t.toString():fe(t)}function b6(t,e,n){var r=Er(arguments,3),o=0,i=!1,s,a=[],c=Rme++,l=iw.length>0?iw[iw.length-1]:void 0,u=!1,d=null,f;!xA&&(xA=ci(dh+"RejectionEvent"));var p=function(E,T){try{iw.push(c),u=!0,d&&d.cancel(),d=null;var k=t(function(R,b){a.push(function(){try{var I=o===2?E:T,_=Oe(I)?s:Ne(I)?I(s):I;Kl(_)?_.then(R,b):I?R(_):o===3?b(_):R(_)}catch(D){b(D)}}),i&&g()},r);return k}finally{iw.pop()}},m=function(E){return p(void 0,E)},h=function(E){var T=E,k=E;return Ne(E)&&(T=function(R){return E&&E(),R},k=function(R){throw E&&E(),R}),p(T,k)},v=function(){return ES[o]},g=function(){if(a.length>0){var E=a.slice();a=[],u=!0,e(E),d&&d.cancel(),d=null}},w=function(E,T){return function(k){if(o===T){if(E===2&&Kl(k)){o=1,k.then(w(2,1),w(3,1));return}o=E,i=!0,s=k,g(),!u&&E===3&&!d&&(d=Oo(x,Nme))}}},x=function(){if(!u)if(IL())process.emit(C6,s,f);else{var E=cn()||Vr();w6(E,kme,function(T){return gt(T,"promise",{g:function(){return f}}),T.reason=s,T},!!xA.v)}};f={then:p,catch:m,finally:h},Nn(f,"state",{get:v}),hA&&g6(f,v,function(){return rf(s)},function(){return u}),PL()&&(f[cf(11)]="IPromise");var y=function(){return"IPromise"+(hA?"["+c+(Oe(l)?"":":"+l)+"]":"")+" "+v()+(i?" - "+E6(s):"")};return f.toString=y,function(){Ne(n)||Wt(dh+": executor is not a function - "+E6(n));var T=w(3,0);try{n.call(f,w(2,0),T)}catch(k){T(k)}}(),f}function fh(t){return function(e){var n=Er(arguments,1);return t(function(r,o){try{var i=[],s=1;ne(e,function(a,c){a&&(s++,yS(a,function(l){i[c]=l,--s===0&&r(i)},o))}),s--,s===0&&r(i)}catch(a){o(a)}},n)}}function ph(t){return function(e){var n=Er(arguments,1);return Kl(e)?e:t(function(r){r(e)},n)}}function mh(t){return function(e){var n=Er(arguments,1);return t(function(r,o){o(e)},n)}}var C6,kme,iw,Rme,Nme,xA,bS=H(()=>{Re();dA();v6();gA();y6();vA();C6="unhandledRejection",kme=C6.toLowerCase(),iw=[],Rme=0,Nme=10});function _6(t){var e=cr(t)?t:0;return function(n){Oo(function(){Lme(n)},e)}}var Lme,S6=H(()=>{Re();Lme=function(t){ne(t,function(e){try{e()}catch{}})}});function hh(t,e){return b6(hh,_6(e),t,e)}var LUe,AUe,OUe,D6=H(()=>{bS();S6();LUe=fh(hh),AUe=ph(hh),OUe=mh(hh)});function sw(t,e){!wA&&(wA=ci(dh));var n=wA.v;if(!n)return hh(t);Ne(t)||Wt(dh+": executor is not a function - "+fe(t));var r=0;function o(){return ES[r]}var i=new n(function(s,a){function c(u){r=2,s(u)}function l(u){r=3,a(u)}t(c,l)});return Nn(i,"state",{get:o}),i}var wA,BUe,qUe,WUe,I6=H(()=>{D6();bS();gA();Re();vA();BUe=fh(sw),qUe=ph(sw),WUe=mh(sw)});function po(t,e){return!yA&&(yA=gs(function(){return sw})),yA.v.call(this,t,e)}var yA,EA,Ame,Ome,P6=H(()=>{Re();bS();I6();EA=fh(po),Ame=ph(po),Ome=mh(po)});var gh=H(()=>{dA();P6()});var di,Fe,mu,en,_S,aw,Cc,xf,Bo,wf,vh,hu,xh,ra,wh,SS,DS,T6,An=H(()=>{di=void 0,Fe="",mu="channels",en="core",_S="createPerfMgr",aw="disabled",Cc="extensionConfig",xf="extensions",Bo="processTelemetry",wf="priority",vh="eventsSent",hu="eventsDiscarded",xh="eventsSendRequest",ra="perfEvent",wh="getPerfMgr",SS="domain",DS="path",T6="Not dynamic - "});function oa(t){return!te(t)}function yf(t){var e=t;return e&&Ae(e)&&(e=e[Ec](Ume,function(n,r){return r.toUpperCase()}),e=e[Ec](Mme,"_"),e=e[Ec]($me,function(n,r){return"_"+r})),e}function yn(t,e){return t&&e?fo(t,e)!==-1:!1}function fi(t){return t&&t.toISOString()||""}function Ft(t){return Ks(t)?t[zr]:Fe}function Mi(t,e,n,r,o){var i=n;return t&&(i=t[e],i!==n&&(!o||o(i))&&(!r||r(n))&&(i=n,t[e]=i)),i}function cw(t,e,n){var r;return t?(r=t[e],!r&&te(r)&&(r=Oe(n)?{}:n,t[e]=r)):r=Oe(n)?{}:n,r}function k6(t,e){var n=null,r=null;return Ne(t)?n=t:r=t,function(){var o=arguments;if(n&&(r=n()),r)return r[e][su](r,o)}}function CA(t,e,n){if(t&&e&&Pt(t)&&Pt(e)){var r=function(i){if(Ae(i)){var s=e[i];Ne(s)?(!n||n(i,!0,e,t))&&(t[i]=k6(e,i)):(!n||n(i,!1,e,t))&&(Ao(t,i)&&delete t[i],gt(t,i,{g:function(){return e[i]},s:function(a){e[i]=a}}))}};for(var o in e)r(o)}return t}function bc(t,e,n,r,o){t&&e&&n&&(o!==!1||Oe(t[e]))&&(t[e]=k6(n,r))}function pi(t,e,n,r){return t&&e&&Pt(t)&&he(n)&&ne(n,function(o){Ae(o)&&bc(t,o,e,o,r)}),t}function bA(t){return function(){function e(){var n=this;t&&de(t,function(r,o){n[r]=o})}return e}()}function $i(t){return t&&sf&&(t=Hm(sf({},t))),t}function IS(t,e,n,r,o,i){var s=arguments,a=s[0]||{},c=s[ke],l=!1,u=1;for(c>0&&ps(a)&&(l=a,a=s[u]||{},u++),Pt(a)||(a={});u<c;u++){var d=s[u],f=he(d),p=Pt(d);for(var m in d){var h=f&&m in d||p&&Ao(d,m);if(h){var v=d[m],g=void 0;if(l&&v&&((g=he(v))||Jn(v))){var w=a[m];g?he(w)||(w=[]):Jn(w)||(w={}),v=IS(l,w,v)}v!==void 0&&(a[m]=v)}}}return a}var Fme,Ume,Mme,$me,iMe,_c=H(()=>{Uo();Re();Ot();An();Fme="getPrototypeOf",Ume=/-([a-z])/g,Mme=/([^\w\d_$])/g,$me=/^(\d+[\w\d_$])/,iMe=Object[Fme]});function A6(t,e){var n=!1;if(t){try{if(n=e in t,!n){var r=t[ds];r&&(n=e in r)}}catch{}if(!n)try{var o=new t;n=!Oe(o[e])}catch{}}return n}function TA(t){L6=t}function Ef(t){if(t&&L6){var e=At("__mockLocation");if(e)return e}return typeof location===mc&&location?location:At(Hme)}function lw(){return typeof console!==Gs?console:At(Bme)}function ia(){return!!(typeof JSON===mc&&JSON||At(R6)!==null)}function br(){return ia()?JSON||At(R6):null}function uw(){return At(qme)}function dw(){return At(Wme)}function gu(){var t=Ln();return t&&t.product?t.product===Yme:!1}function vu(){var t=Ln();if(t&&(t[nw]!==SA||_A===null)){SA=t[nw];var e=(SA||Fe)[Zs]();_A=yn(e,IA)||yn(e,PA)}return _A}function fw(t){if(t===void 0&&(t=null),!t){var e=Ln()||{};t=e?(e.userAgent||Fe)[Zs]():Fe}var n=(t||Fe)[Zs]();if(yn(n,IA)){var r=Zt()||{};return Math.max(parseInt(n[na](IA)[1]),r[jme]||0)}else if(yn(n,PA)){var o=parseInt(n[na](PA)[1]);if(o)return o+4}return null}function mi(t){return(DA===null||t===!1)&&(DA=Zm()&&!!Ln().sendBeacon),DA}function Sc(t){var e=!1;try{e=!!At("fetch");var n=At("Request");e&&t&&n&&(e=A6(n,"keepalive"))}catch{}return e}function Cf(){return yh===null&&(yh=typeof XDomainRequest!==Gs,yh&&xu()&&(yh=yh&&!A6(At(N6),"withCredentials"))),yh}function xu(){var t=!1;try{var e=At(N6);t=!!e}catch{}return t}function O6(t,e){if(t)for(var n=0;n<t[ke];n++){var r=t[n];if(r[zr]&&r[zr]===e)return r}return{}}function kA(t){var e=Zt();return e&&t?O6(e.querySelectorAll("meta"),t).content:null}function RA(t){var e,n=wc();if(n){var r=n.getEntriesByType("navigation")||[];e=O6((r[ke]>0?r[0]:{}).serverTiming,t).description}return e}var jme,Hme,Bme,R6,qme,Wme,Yme,IA,PA,N6,_A,SA,L6,yh,DA,Eh=H(()=>{"use strict";Uo();Re();Ot();_c();An();jme="documentMode",Hme="location",Bme="console",R6="JSON",qme="crypto",Wme="msCrypto",Yme="ReactNative",IA="msie",PA="trident/",N6="XMLHttpRequest",_A=null,SA=null,L6=!1,yh=null,DA=null});function Vme(t){t<0&&(t>>>=0),pw=U6+t&wu,mw=M6-t&wu,$6=!0}function zme(){try{var t=Qt()&2147483647;Vme((Math.random()*F6^t)+t)}catch{}}function hw(t){return t>0?Math.floor(Dc()/wu*(t+1))>>>0:0}function Dc(t){var e=0,n=uw()||dw();return n&&n.getRandomValues&&(e=n.getRandomValues(new Uint32Array(1))[0]&wu),e===0&&vu()&&($6||zme(),e=j6()&wu),e===0&&(e=Math.floor(F6*Math.random()|0)),t||(e>>>=0),e}function j6(t){mw=36969*(mw&65535)+(mw>>16)&wu,pw=18e3*(pw&65535)+(pw>>16)&wu;var e=(mw<<16)+(pw&65535)>>>0&wu|0;return t||(e>>>=0),e}function gw(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Dc()>>>0,r=0,o=Fe;o[ke]<t;)r++,o+=e.charAt(n&63),n>>>=6,r===5&&(n=(Dc()<<2&4294967295|n&3)>>>0,r=0);return o}var F6,wu,U6,M6,$6,pw,mw,PS=H(()=>{Re();Ot();Eh();An();F6=4294967296,wu=4294967295,U6=123456789,M6=987654321,$6=!1,pw=U6,mw=M6});function B6(t){return t[xS]===1||t[xS]===9||!+t[xS]}function Jme(t,e){var n=e[t.id];if(!n){n={};try{B6(e)&&gt(e,t.id,{e:!1,v:n})}catch{}}return n}function _r(t,e){return e===void 0&&(e=!1),yf(t+Kme+++(e?"."+H6:Fe)+Gme)}function TS(t){var e={id:_r("_aiData-"+(t||Fe)+"."+H6),accept:function(n){return B6(n)},get:function(n,r,o,i){var s=n[e.id];return s?s[yf(r)]:(i&&(s=Jme(e,n),s[yf(r)]=o),o)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return e}var H6,Gme,Kme,Ch=H(()=>{Re();Ot();_c();An();PS();H6="3.0.5",Gme="."+gw(6),Kme=0});function kS(t){return t&&Pt(t)&&(t.isVal||t.fb||Ao(t,"v")||Ao(t,"mrg")||Ao(t,"ref")||t.set)}function q6(t,e,n){var r,o=n.dfVal||R_;if(e&&n.fb){var i=n.fb;he(i)||(i=[i]);for(var s=0;s<i[ke];s++){var a=i[s],c=e[a];if(o(c)?r=c:t&&(c=t.cfg[a],o(c)&&(r=c),t.set(t.cfg,Rn(a),c)),o(r))break}}return!o(r)&&o(n.v)&&(r=n.v),r}function NA(t,e,n){var r=n;if(n&&kS(n)&&(r=q6(t,e,n)),r){kS(r)&&(r=NA(t,e,r));var o;he(r)?(o=[],o[ke]=r[ke]):Jn(r)&&(o={}),o&&(de(r,function(i,s){s&&kS(s)&&(s=NA(t,e,s)),o[i]=s}),r=o)}return r}function vw(t,e,n,r){var o,i,s,a=r,c,l,u,d;kS(a)?(o=a.isVal,i=a.set,u=a[df],d=a[iu],c=a.mrg,l=a.ref,!l&&Oe(l)&&(l=!!c),s=q6(t,e,a)):s=r,d&&t[iu](e,n);var f,p=!0,m=e[n];(m||!te(m))&&(f=m,p=!1,o&&f!==s&&!o(f)&&(f=s,p=!0),i&&(f=i(f,s,e),p=f===s)),p?s?f=NA(t,e,s):f=s:(Jn(f)||he(s))&&c&&s&&(Jn(s)||he(s))&&de(s,function(h,v){vw(t,f,h,v)}),t.set(e,n,f),l&&t.ref(e,n),u&&t[df](e,n)}var LA=H(()=>{Re();Ot()});function AA(t){if(t){var e;if(he(t)?(e=[],e[ke]=t[ke]):Jn(t)&&(e={}),e)return de(t,function(n,r){e[n]=AA(r)}),e}return t}function xw(t){if(t){var e=t[sa]||t;if(e.cfg&&(e.cfg===t||e.cfg[sa]===e))return e}return null}function ww(t){if(t&&(Jn(t)||he(t)))try{t[W6]=!0}catch{}return t}function OA(t){if(t)try{t[Y6]=!0}catch{}return t}function RS(t,e,n){var r=!1;return n&&!t[e.blkVal]&&(r=n[Y6],!r&&!n[W6]&&(r=Jn(n)||he(n))),r}function NS(t){Wt("InvalidAccess:"+t)}var sa,W6,Y6,LS=H(()=>{Re();Ot();sa=Gx("[[ai_dynCfg_1]]"),W6=Gx("[[ai_blkDynCfg_1]]"),Y6=Gx("[[ai_frcDynCfg_1]]")});function Zme(t,e,n){he(e)&&ne(Xme,function(r){var o=e[r];e[r]=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=o[su](this,i);return yw(t,e,n,"Patching"),a}})}function AS(t,e){var n=of(t,e);return n&&n.get}function Qme(t,e,n,r){var o={n,h:[],trk:function(l){l&&l.fn&&(ct(o.h,l)===-1&&o.h[Qe](l),t.trk(l,o))},clr:function(l){var u=ct(o.h,l);u!==-1&&o.h[Qs](u,1)}},i=!0,s=!1;function a(){i&&(s=s||RS(a,t,r),r&&!r[sa]&&s&&(r=yw(t,r,n,"Converting")),i=!1);var l=t.act;return l&&o.trk(l),r}a[t.prop]={chng:function(){t.add(o)}};function c(l){if(r!==l){a[t.ro]&&!t.upd&&NS("["+n+"] is read-only:"+fe(e)),i&&(s=s||RS(a,t,r),i=!1);var u=s&&a[t.rf];if(s)if(u){de(r,function(f){r[f]=l?l[f]:di});try{de(l,function(f,p){Ew(t,r,f,p)}),l=r}catch(f){bh((t.hdlr||{})[_t],n,"Assigning",f),s=!1}}else r&&r[sa]&&de(r,function(f){var p=AS(r,f);if(p){var m=p[t.prop];m&&m.chng()}});if(l!==r){var d=l&&RS(a,t,l);!u&&d&&(l=yw(t,l,n,"Converting")),r=l,s=d}t.add(o)}}gt(e,o.n,{g:a,s:c})}function Ew(t,e,n,r){if(e){var o=AS(e,n),i=o&&!!o[t.prop];i?e[n]=r:Qme(t,e,n,r)}return e}function OS(t,e,n,r){if(e){var o=AS(e,n),i=o&&!!o[t.prop],s=r&&r[0],a=r&&r[1],c=r&&r[2];if(!i){if(c)try{ww(e)}catch(l){bh((t.hdlr||{})[_t],n,"Blocking",l)}try{Ew(t,e,n,e[n]),o=AS(e,n)}catch(l){bh((t.hdlr||{})[_t],n,"State",l)}}s&&(o[t.rf]=s),a&&(o[t.ro]=a),c&&(o[t.blkVal]=!0)}return e}function yw(t,e,n,r){try{de(e,function(o,i){Ew(t,e,o,i)}),e[sa]||(Nn(e,sa,{get:function(){return t[hS]}}),Zme(t,e,n))}catch(o){bh((t.hdlr||{})[_t],n,r,o)}return e}var Xme,bh,V6=H(()=>{Re();An();Ot();LS();Xme=["push","pop","shift","unshift","splice"],bh=function(t,e,n,r){t&&t[yc](3,108,"".concat(n," [").concat(e,"] failed - ")+fe(r))}});function z6(t){var e,n=lf(Cw+"get"+t.uid+bw),r=lf(Cw+"ro"+t.uid+bw),o=lf(Cw+"rf"+t.uid+bw),i=lf(Cw+"blkVal"+t.uid+bw),s=lf(Cw+"dtl"+t.uid+bw),a=null,c=null,l;function u(m,h){var v=l.act;try{l.act=m,m&&m[s]&&(ne(m[s],function(w){w.clr(m)}),m[s]=[]),h({cfg:t.cfg,set:t.set.bind(t),setDf:t[xs].bind(t),ref:t.ref.bind(t),rdOnly:t[df].bind(t)})}catch(w){var g=t[_t];throw g&&g[yc](1,107,fe(w)),w}finally{l.act=v||null}}function d(){if(a){var m=a;a=null,c&&c[pf](),c=null;var h=[];if(ne(m,function(v){if(v&&(v[s]&&(ne(v[s],function(g){g.clr(v)}),v[s]=null),v.fn))try{u(v,v.fn)}catch(g){h[Qe](g)}}),a)try{d()}catch(v){h[Qe](v)}h[ke]>0&&p6("Watcher error(s): ",h)}}function f(m){if(m&&m.h[ke]>0){a||(a=[]),c||(c=Oo(function(){c=null,d()},0));for(var h=0;h<m.h[ke];h++){var v=m.h[h];v&&ct(a,v)===-1&&a[Qe](v)}}}function p(m,h){if(m){var v=m[s]=m[s]||[];ct(v,h)===-1&&v[Qe](h)}}return l=(e={prop:n,ro:r,rf:o},e[iu]=i,e[hS]=t,e.add=f,e[ff]=d,e.use=u,e.trk=p,e),l}var Cw,bw,G6=H(()=>{Re();m6();Ot();Cw="[[ai_",bw="]]"});function ehe(t,e){var n={fn:e,rm:function(){n.fn=null,t=null,e=null}};return t.use(n,e),n}function the(t,e,n){var r,o=xw(e);if(o)return o;var i=_r("dyncfg",!0),s=e&&n!==!1?e:AA(e),a;function c(){a[ff]()}function l(g,w,x){try{g=Ew(a,g,w,x)}catch(y){bh(t,w,"Setting value",y)}return g[w]}function u(g){return ehe(a,g)}function d(g,w){a.use(null,function(x){var y=a.upd;try{Oe(w)||(a.upd=w),g(x)}finally{a.upd=y}})}function f(g,w){var x;return OS(a,g,w,(x={},x[0]=!0,x))[w]}function p(g,w){var x;return OS(a,g,w,(x={},x[1]=!0,x))[w]}function m(g,w){var x;return OS(a,g,w,(x={},x[2]=!0,x))[w]}function h(g,w){return w&&de(w,function(x,y){vw(v,g,x,y)}),g}var v=(r={uid:null,cfg:s},r[_t]=t,r[ff]=c,r.set=l,r[xs]=h,r[Ui]=u,r.ref=f,r[df]=p,r[iu]=m,r._block=d,r);return gt(v,"uid",{c:!1,e:!1,w:!1,v:i}),a=z6(v),yw(a,s,"config","Creating"),v}function nhe(t,e){t?(t[rh](e),t[yc](2,108,e)):NS(e)}function Yt(t,e,n,r){var o=the(n,t||{},r);return e&&o[xs](o.cfg,e),o}function On(t,e,n){var r=t[sa]||t;return r.cfg&&(r.cfg===t||r.cfg[sa]===r)?r[Ui](e):(nhe(n,T6+fe(t)),Yt(t,null,n)[Ui](e))}var yu=H(()=>{Re();Ch();An();Ot();LA();V6();G6();LS()});function Ic(t,e){if(t&&t[$o])return t[$o](e)}function FS(t,e,n){var r;return n||(r=po(function(o){n=o})),t&&eh(t)>0?pu(Ic(t[0],e),function(){FS(Er(t,1),e,n)}):n(),r}var FA=H(()=>{gh();Re();Ot()});var K6,J6=H(()=>{K6=500});function rhe(t,e,n){return!t&&te(t)?e:ps(t)?t:Rn(t)[Zs]()==="true"}function UA(t){return{mrg:!0,v:t}}function _h(t,e,n){return{fb:n,isVal:t,v:e}}function Es(t,e){return{fb:e,set:rhe,v:!!t}}var MA=H(()=>{Re();Ot()});function ohe(t,e){return function(){var n=arguments,r=jA(e);if(r){var o=r.listener;o&&o[t]&&o[t][su](o,n)}}}function ihe(){var t=At("Microsoft");return t&&(MS=t.ApplicationInsights),MS}function jA(t){var e=MS;return!e&&t.disableDbgExt!==!0&&(e=MS||ihe()),e?e.ChromeDbgExt:null}function X6(t){if(!US){US={};for(var e=0;e<$A[ke];e++)US[$A[e]]=ohe($A[e],t)}return US}var $A,MS,US,HA=H(()=>{Re();Ot();An();$A=[vh,hu,xh,ra],MS=null});function Z6(t){return t?'"'+t[Ec](/\"/g,Fe)+'"':Fe}function BA(t,e){var n=lw();if(n){var r="log";n[t]&&(r=t),Ne(n[r])&&n[r](e)}}function Cs(t,e){return(t||{})[_t]||new Eu(e)}function qA(t){return t||new Eu}function le(t,e,n,r,o,i){i===void 0&&(i=!1),qA(t)[yc](e,n,r,o,i)}function hi(t,e){qA(t)[rh](e)}function WA(t,e,n){qA(t)[lA](e,n)}var Sh,Q6,she,ahe,che,lhe,uhe,bf,Eu,Pc=H(()=>{"use strict";Cr();Re();yu();Ot();HA();Eh();An();Q6="warnToConsole",she="AI (Internal): ",ahe="AI: ",che="AITR_",lhe={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},uhe=(Sh={},Sh[0]=null,Sh[1]="errorToConsole",Sh[2]=Q6,Sh[3]="debugToConsole",Sh);bf=function(){function t(e,n,r,o){r===void 0&&(r=!1);var i=this;i[ah]=e,i[uu]=(r?ahe:she)+e;var s=Fe;ia()&&(s=br().stringify(o));var a=(n?" message:"+Z6(n):Fe)+(o?" props:"+Z6(s):Fe);i[uu]+=a}return t.dataType="MessageData",t}();Eu=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},o,i,s,a,c;tt(t,this,function(l){c=d(e||{}),l.consoleLoggingLevel=function(){return o},l[yc]=function(m,h,v,g,w){w===void 0&&(w=!1);var x=new bf(h,v,w,g);if(a)throw fe(x);var y=uhe[m]||Q6;if(Oe(x[uu]))p("throw"+(m===1?"Critical":"Warning"),x);else{if(w){var E=+x[ah];!r[E]&&o>=m&&(l[y](x[uu]),r[E]=!0)}else o>=m&&l[y](x[uu]);u(m,x)}},l.debugToConsole=function(m){BA("debug",m),p("warning",m)},l[rh]=function(m){BA("warn",m),p("warning",m)},l.errorToConsole=function(m){BA("error",m),p("error",m)},l.resetInternalMessageCount=function(){n=0,r={}},l[lA]=u,l[$o]=function(m){c&&c.rm(),c=null};function u(m,h){if(!f()){var v=!0,g=che+h[ah];if(r[g]?v=!1:r[g]=!0,v&&(m<=i&&(l.queue[Qe](h),n++,p(m===1?"error":"warn",h)),n===s)){var w="Internal events throttle limit per PageView reached for this app.",x=new bf(23,w,!1);l.queue[Qe](x),m===1?l.errorToConsole(w):l[rh](w)}}}function d(m){return On(Yt(m,lhe,l).cfg,function(h){var v=h.cfg;o=v[vS],i=v.loggingLevelTelemetry,s=v.maxMessageLimit,a=v.enableDebug})}function f(){return n>=s}function p(m,h){var v=jA(e||{});v&&v[jo]&&v[jo](m,h)}})}return t.__ieDyn=1,t}()});function JA(){!aa&&(aa=gs(function(){return Zt()}))}function fhe(t,e){var n=Tc[Cu]||HS[Cu];return n||(n=Tc[Cu]=Tc(t,e),HS[Cu]=n),n}function jS(t){return t?t.isEnabled():!0}function l8(t,e){return e&&t&&he(t.ignoreCookies)?ct(t.ignoreCookies,e)!==-1:!1}function phe(t,e){return e&&t&&he(t.blockedCookies)&&ct(t.blockedCookies,e)!==-1?!0:l8(t,e)}function i8(t,e){var n=e[lu];if(te(n)){var r=void 0;Oe(t[n8])||(r=!t[n8]),Oe(t[GA])||(r=!t[GA]),n=r}return n}function XA(t,e){var n;if(t)n=t.getCookieMgr();else if(e){var r=e.cookieCfg;r&&r[Cu]?n=r[Cu]:n=Tc(e)}return n||(n=fhe(e,(t||{})[_t])),n}function Tc(t,e){var n,r,o,i,s,a,c,l,u;t=Yt(t||HS,null,e).cfg,s=On(t,function(f){f[xs](f.cfg,dhe),r=f.ref(f.cfg,"cookieCfg"),o=r[DS]||"/",i=r[SS],a=i8(t,r)!==!1,c=r.getCookie||mhe,l=r.setCookie||c8,u=r.delCookie||c8},e);var d=(n={isEnabled:function(){var f=i8(t,r)!==!1&&a&&Dh(e),p=HS[Cu];return f&&p&&d!==p&&(f=jS(p)),f},setEnabled:function(f){a=f!==!1,r[lu]=f},set:function(f,p,m,h,v){var g=!1;if(jS(d)&&!phe(r,f)){var w={},x=ut(p||Fe),y=fo(x,";");if(y!==-1&&(x=ut(Ql(p,y)),w=u8(an(p,y+1))),Mi(w,SS,h||i,ms,Oe),!te(m)){var E=vu();if(Oe(w[VA])){var T=Qt(),k=T+m*1e3;if(k>0){var R=new Date;R.setTime(k),Mi(w,VA,s8(R,E?e8:t8)||s8(R,E?e8:t8)||Fe,ms)}}E||Mi(w,"max-age",Fe+m,null,Oe)}var b=Ef();b&&b.protocol==="https:"&&(Mi(w,"secure",null,null,Oe),zA===null&&(zA=!BS((Ln()||{})[nw])),zA&&Mi(w,"SameSite","None",null,Oe)),Mi(w,DS,v||o,null,Oe),l(f,a8(x,w)),g=!0}return g},get:function(f){var p=Fe;return jS(d)&&!l8(r,f)&&(p=c(f)),p},del:function(f,p){var m=!1;return jS(d)&&(m=d.purge(f,p)),m},purge:function(f,p){var m,h=!1;if(Dh(e)){var v=(m={},m[DS]=p||"/",m[VA]="Thu, 01 Jan 1970 00:00:01 GMT",m);vu()||(v["max-age"]="0"),u(f,a8(Fe,v)),h=!0}return h}},n[$o]=function(f){s&&s.rm(),s=null},n);return d[Cu]=d,d}function Dh(t){if($S===null){$S=!1,!aa&&JA();try{var e=aa.v||{};$S=e[KA]!==void 0}catch(n){le(t,2,68,"Cannot access document.cookie - "+Ft(n),{exception:fe(n)})}}return $S}function u8(t){var e={};if(t&&t[ke]){var n=ut(t)[na](";");ne(n,function(r){if(r=ut(r||Fe),r){var o=fo(r,"=");o===-1?e[r]=null:e[ut(Ql(r,o))]=ut(an(r,o+1))}})}return e}function s8(t,e){return Ne(t[e])?t[e]():null}function a8(t,e){var n=t||Fe;return de(e,function(r,o){n+="; "+r+(te(o)?Fe:"="+o)}),n}function mhe(t){var e=Fe;if(!aa&&JA(),aa.v){var n=aa.v[KA]||Fe;r8!==n&&(o8=u8(n),r8=n),e=ut(o8[t]||Fe)}return e}function c8(t,e){!aa&&JA(),aa.v&&(aa.v[KA]=t+"="+e)}function BS(t){return Ae(t)?!!(yn(t,"CPU iPhone OS 12")||yn(t,"iPad; CPU OS 12")||yn(t,"Macintosh; Intel Mac OS X 10_14")&&yn(t,"Version/")&&yn(t,"Safari")||yn(t,"Macintosh; Intel Mac OS X 10_14")&&ru(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||yn(t,"Chrome/5")||yn(t,"Chrome/6")||yn(t,"UnrealEngine")&&!yn(t,"Chrome")||yn(t,"UCBrowser/12")||yn(t,"UCBrowser/11")):!1}var YA,_f,e8,t8,KA,VA,n8,GA,Cu,$S,zA,r8,aa,o8,HS,dhe,ZA=H(()=>{Re();MA();yu();Ot();Pc();Eh();_c();An();e8="toGMTString",t8="toUTCString",KA="cookie",VA="expires",n8="isCookieUseDisabled",GA="disableCookiesUsage",Cu="_ckMgr",$S=null,zA=null,r8=null,o8={},HS={},dhe=(YA={cookieCfg:UA((_f={},_f[SS]={fb:"cookieDomain",dfVal:oa},_f.path={fb:"cookiePath",dfVal:oa},_f.enabled=di,_f.ignoreCookies=di,_f.blockedCookies=di,_f)),cookieDomain:di,cookiePath:di},YA[GA]=di,YA)});function _w(t,e,n,r){ne(t,function(o){if(o&&o[e])if(n)Oo(function(){return r(o)},0);else try{r(o)}catch{}})}var hhe,Sw,QA=H(()=>{Cr();gh();Re();yu();Ot();An();hhe={perfEvtsSendAll:!1};Sw=function(){function t(e){this.listeners=[];var n,r,o=[],i=Yt(e,hhe);r=i[Ui](function(s){n=!!s.cfg.perfEvtsSendAll}),tt(t,this,function(s){gt(s,"listeners",{g:function(){return o}}),s[ih]=function(a){o[Qe](a)},s[sh]=function(a){for(var c=ct(o,a);c>-1;)o[Qs](c,1),c=ct(o,a)},s[vh]=function(a){_w(o,vh,!0,function(c){c[vh](a)})},s[hu]=function(a,c){_w(o,hu,!0,function(l){l[hu](a,c)})},s[xh]=function(a,c){_w(o,xh,c,function(l){l[xh](a,c)})},s[ra]=function(a){a&&(n||!a[ow]())&&_w(o,ra,!1,function(c){a[ws]?Oo(function(){return c[ra](a)},0):c[ra](a)})},s[$o]=function(a){var c=function(){r&&r.rm(),r=null,o=[]},l;if(_w(o,"unload",!1,function(u){var d=u[$o](a);d&&(l||(l=[]),l[Qe](d))}),l)return po(function(u){return pu(EA(l),function(){c(),u()})});c()}})}return t.__ieDyn=1,t}()});function ln(t,e,n,r,o){if(t){var i=t;if(i[wh]&&(i=i[wh]()),i){var s=void 0,a=i[vf](eO);try{if(s=i.create(e(),r,o),s){if(a&&s[ys]&&(s[ys](Sf[tO],a),a[vf]&&a[ys])){var c=a[vf](Sf[Dw]);c||(c=[],a[ys](Sf[Dw],c)),c[Qe](s)}return i[ys](eO,s),n(s)}}catch(l){s&&s[ys]&&s[ys]("exception",l)}finally{s&&i.fire(s),i[ys](eO,a)}}}return n()}function nO(){return ghe}var Ih,tO,Dw,ghe,Sf,Iw,eO,qS=H(()=>{Cr();Re();Ot();An();Ih="ctx",tO="ParentContextKey",Dw="ChildrenContextKey",ghe=null,Sf=function(){function t(e,n,r){var o=this;if(o.start=Qt(),o[zr]=e,o[ws]=r,o[ow]=function(){return!1},Ne(n)){var i;gt(o,"payload",{g:function(){return!i&&Ne(n)&&(i=n(),n=null),i}})}o[vf]=function(s){return s?s===t[tO]||s===t[Dw]?o[s]:(o[Ih]||{})[s]:null},o[ys]=function(s,a){if(s)if(s===t[tO])o[s]||(o[ow]=function(){return!0}),o[s]=a;else if(s===t[Dw])o[s]=a;else{var c=o[Ih]=o[Ih]||{};c[s]=a}},o[wS]=function(){var s=0,a=o[vf](t[Dw]);if(he(a))for(var c=0;c<a[ke];c++){var l=a[c];l&&(s+=l[cu])}o[cu]=Qt()-o.start,o.exTime=o[cu]-s,o[wS]=function(){}}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Iw=function(){function t(e){this.ctx={},tt(t,this,function(n){n.create=function(r,o,i){return new Sf(r,o,i)},n.fire=function(r){r&&(r[wS](),e&&Ne(e[ra])&&e[ra](r))},n[ys]=function(r,o){if(r){var i=n[Ih]=n[Ih]||{};i[r]=o}},n[vf]=function(r){return(n[Ih]||{})[r]}})}return t.__ieDyn=1,t}(),eO="CoreUtils.doPerf"});function Pw(){var t=Df();return an(t,0,8)+"-"+an(t,8,12)+"-"+an(t,12,16)+"-"+an(t,16,20)+"-"+an(t,20)}function Df(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=Fe,n,r=0;r<4;r++)n=Dc(),e+=t[n&15]+t[n>>4&15]+t[n>>8&15]+t[n>>12&15]+t[n>>16&15]+t[n>>20&15]+t[n>>24&15]+t[n>>28&15];var o=t[8+(Dc()&3)|0];return hs(e,0,8)+hs(e,9,4)+"4"+hs(e,13,3)+o+hs(e,16,3)+hs(e,19,12)}var rO=H(()=>{"use strict";Re();An();PS()});function kc(t,e,n){return t&&t[ke]===e&&t!==n?!!t.match(/^[\da-f]*$/i):!1}function f8(t,e,n){return kc(t,e)?t:n}function p8(t){(isNaN(t)||t<0||t>255)&&(t=1);for(var e=t.toString(16);e[ke]<2;)e="0"+e;return e}function Tw(t,e,n,r){var o;return o={},o[hf]=kc(r,2,iO)?r:oO,o[lh]=ca(t)?t:Df(),o[uh]=la(e)?e:Ql(Df(),16),o.traceFlags=n>=0&&n<=255?n:1,o}function If(t,e){var n;if(!t||(he(t)&&(t=t[0]||""),!t||!Ae(t)||t[ke]>8192))return null;if(t.indexOf(",")!==-1){var r=t[na](",");t=r[e>0&&r[ke]>e?e:0]}var o=vhe.exec(ut(t));return!o||o[1]===iO||o[2]===WS||o[3]===YS?null:(n={version:(o[1]||Fe)[Zs](),traceId:(o[2]||Fe)[Zs](),spanId:(o[3]||Fe)[Zs]()},n[fu]=parseInt(o[4],16),n)}function ca(t){return kc(t,32,WS)}function la(t){return kc(t,16,YS)}function Ph(t){return!(!t||!kc(t[hf],2,iO)||!kc(t[lh],32,WS)||!kc(t[uh],16,YS)||!kc(p8(t[fu]),2))}function kw(t){return Ph(t)?(t[fu]&d8)===d8:!1}function Rw(t){if(t){var e=p8(t[fu]);kc(e,2)||(e="01");var n=t[hf]||oO;return n!=="00"&&n!=="ff"&&(n=oO),"".concat(n.toLowerCase(),"-").concat(f8(t.traceId,32,WS).toLowerCase(),"-").concat(f8(t.spanId,16,YS).toLowerCase(),"-").concat(e.toLowerCase())}return""}function Nw(t){var e="traceparent",n=If(kA(e),t);return n||(n=If(RA(e),t)),n}var vhe,oO,iO,WS,YS,d8,sO=H(()=>{Re();Ot();rO();Eh();An();vhe=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,oO="00",iO="ff",WS="00000000000000000000000000000000",YS="0000000000000000",d8=1});function Rc(t){return xhe.get(t,"state",{},!0)}function aO(t,e){for(var n=[],r=null,o=t[ui](),i;o;){var s=o[au]();if(s){r&&r[du]&&s[Bo]&&r[du](s),i=Rc(s);var a=!!i[Mo];s[Mo]&&(a=s[Mo]()),a||n[Qe](s),r=s,o=o[ui]()}}ne(n,function(c){var l=t[en]();c[mf](t.getCfg(),l,e,t[ui]()),i=Rc(c),!c[en]&&!i[en]&&(i[en]=l),i[Mo]=!0,delete i[li]})}function VS(t){return t.sort(function(e,n){var r=0;if(n){var o=n[Bo];e[Bo]?r=o?e[wf]-n[wf]:1:o&&(r=-1)}else r=e?1:-1;return r})}function m8(t){var e={};return{getName:function(){return e[zr]},setName:function(n){t&&t.setName(n),e[zr]=n},getTraceId:function(){return e[lh]},setTraceId:function(n){t&&t.setTraceId(n),ca(n)&&(e[lh]=n)},getSpanId:function(){return e[uh]},setSpanId:function(n){t&&t.setSpanId(n),la(n)&&(e[uh]=n)},getTraceFlags:function(){return e[fu]},setTraceFlags:function(n){t&&t.setTraceFlags(n),e[fu]=n}}}var xhe,cO=H(()=>{"use strict";Re();Ot();Ch();An();sO();xhe=TS("plugin")});function yhe(t,e,n){for(;t;){if(t[au]()===n)return t;t=t[ui]()}return bu([n],e.config||{},e)}function lO(t,e,n,r){var o=null,i=[];e||(e=Yt({},null,n[_t])),r!==null&&(o=r?yhe(t,n,r):t);var s={_next:c,ctx:{core:function(){return n},diagLog:function(){return Cs(n,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:u,getConfig:d,hasNext:function(){return!!o},getNext:function(){return o},setNext:function(p){o=p},iterate:f,onComplete:a}};function a(p,m){for(var h=[],v=2;v<arguments.length;v++)h[v-2]=arguments[v];p&&i[Qe]({func:p,self:Oe(m)?s.ctx:m,args:h})}function c(){var p=o;if(o=p?p[ui]():null,!p){var m=i;m&&m[ke]>0&&(ne(m,function(h){try{h.func.call(h.self,h.args)}catch(v){le(n[_t],2,73,"Unexpected Exception during onComplete - "+fe(v))}}),i=[])}return p}function l(p,m){var h=null,v=e.cfg;if(v&&p){var g=v[Cc];!g&&m&&(g={}),v[Cc]=g,g=e.ref(v,Cc),g&&(h=g[p],!h&&m&&(h={}),g[p]=h,h=e.ref(g,p))}return h}function u(p,m){var h=l(p,!0);return m&&de(m,function(v,g){if(te(h[v])){var w=e.cfg[v];(w||!te(w))&&(h[v]=w)}vw(e,h,v,g)}),e[xs](h,m)}function d(p,m,h){h===void 0&&(h=!1);var v,g=l(p,!1),w=e.cfg;return g&&(g[m]||!te(g[m]))?v=g[m]:(w[m]||!te(w[m]))&&(v=w[m]),v||!te(v)?v:h}function f(p){for(var m;m=s._next();){var h=m[au]();h&&p(h)}}return s}function mo(t,e,n,r){var o=Yt(e),i=lO(t,o,n,r),s=i.ctx;function a(l){var u=i._next();return u&&u[Bo](l,s),!u}function c(l,u){return l===void 0&&(l=null),he(l)&&(l=bu(l,o.cfg,n,u)),mo(l||s[ui](),o.cfg,n,u)}return s[Xn]=a,s[ta]=c,s}function Th(t,e,n){var r=Yt(e.config),o=lO(t,r,e,n),i=o.ctx;function s(c){var l=o._next();return l&&l[$o](i,c),!l}function a(c,l){return c===void 0&&(c=null),he(c)&&(c=bu(c,r.cfg,e,l)),Th(c||i[ui](),e,l)}return i[Xn]=s,i[ta]=a,i}function Lw(t,e,n){var r=Yt(e.config),o=lO(t,r,e,n),i=o.ctx;function s(c){return i.iterate(function(l){Ne(l[gf])&&l[gf](i,c)})}function a(c,l){return c===void 0&&(c=null),he(c)&&(c=bu(c,r.cfg,e,l)),Lw(c||i[ui](),e,l)}return i[Xn]=s,i[ta]=a,i}function bu(t,e,n,r){var o=null,i=!r;if(he(t)&&t[ke]>0){var s=null;ne(t,function(a){if(!i&&r===a&&(i=!0),i&&a&&Ne(a[Bo])){var c=Ehe(a,e,n);o||(o=c),s&&s._setNext(c),s=c}})}return r&&!o?bu([r],e,n):o}function Ehe(t,e,n){var r=null,o=Ne(t[Bo]),i=Ne(t[du]),s;t?s=t[ea]+"-"+t[wf]+"-"+v8++:s="Unknown-0-"+v8++;var a={getPlugin:function(){return t},getNext:function(){return r},processTelemetry:u,unload:d,update:f,_id:s,_setNext:function(p){r=p}};function c(){var p;return t&&Ne(t[g8])&&(p=t[g8]()),p||(p=mo(a,e,n)),p}function l(p,m,h,v,g){var w=!1,x=t?t[ea]:whe,y=p[h8];return y||(y=p[h8]={}),p.setNext(r),t&&ln(p[en](),function(){return x+":"+h},function(){y[s]=!0;try{var E=r?r._id:Fe;E&&(y[E]=!1),w=m(p)}catch(k){var T=r?y[r._id]:!0;T&&(w=!0),(!r||!T)&&le(p[jo](),1,73,"Plugin ["+x+"] failed during "+h+" - "+fe(k)+", run flags: "+fe(y))}},v,g),w}function u(p,m){m=m||c();function h(v){if(!t||!o)return!1;var g=Rc(t);return g[li]||g[aw]?!1:(i&&t[du](r),t[Bo](p,v),!0)}l(m,h,"processTelemetry",function(){return{item:p}},!p.sync)||m[Xn](p)}function d(p,m){function h(){var v=!1;if(t){var g=Rc(t),w=t[en]||g[en];t&&(!w||w===p.core())&&!g[li]&&(g[en]=null,g[li]=!0,g[Mo]=!1,t[li]&&t[li](p,m)===!0&&(v=!0))}return v}l(p,h,"unload",function(){},m[ws])||p[Xn](m)}function f(p,m){function h(){var v=!1;if(t){var g=Rc(t),w=t[en]||g[en];t&&(!w||w===p.core())&&!g[li]&&t[gf]&&t[gf](p,m)===!0&&(v=!0)}return v}l(p,h,"update",function(){},!1)||p[Xn](m)}return Js(a)}var whe,h8,g8,v8,uO,zS=H(()=>{"use strict";Re();LA();yu();Ot();Pc();_c();An();qS();cO();whe="TelemetryPluginChain",h8="_hasRun",g8="_getTelCtx",v8=0;uO=function(){function t(e,n,r,o){var i=this,s=mo(e,n,r,o);pi(i,s,Kn(s))}return t}()});function Pf(){var t=[];function e(r){r&&t[Qe](r)}function n(r,o){ne(t,function(i){try{i(r,o)}catch(s){le(r[jo](),2,73,"Unexpected error calling unload handler - "+fe(s))}}),t=[]}return{add:e,run:n}}var GS=H(()=>{Re();Ot();Pc()});function KS(){var t=[];function e(r){var o=t;t=[],ne(o,function(i){try{(i.rm||i.remove).call(i)}catch(s){le(r,2,73,"Unloading:"+fe(s))}})}function n(r){r&&Oi(t,r)}return{run:e,add:n}}var dO=H(()=>{Re();Pc()});var fO,_u,Che,Nc,pO=H(()=>{"use strict";Cr();Re();yu();Ot();Pc();_c();An();zS();GS();dO();_u="getPlugin",Che=(fO={},fO[Cc]={isVal:oa,v:{}},fO),Nc=function(){function t(){var e=this,n,r,o,i,s;l(),tt(t,e,function(u){u[mf]=function(d,f,p,m){c(d,f,m),n=!0},u[li]=function(d,f){var p,m=u[en];if(!m||d&&m!==d[en]())return;var h,v=!1,g=d||Th(null,m,o&&o[_u]?o[_u]():o),w=f||(p={reason:0},p[ws]=!1,p);function x(){v||(v=!0,i.run(g,f),s.run(g[jo]()),h===!0&&g[Xn](w),l())}return!u[ch]||u[ch](g,w,x)!==!0?x():h=!0,h},u[gf]=function(d,f){var p=u[en];if(!p||d&&p!==d[en]())return;var m,h=!1,v=d||Lw(null,p,o&&o[_u]?o[_u]():o),g=f||{reason:0};function w(){h||(h=!0,c(v.getCfg(),v.core(),v[ui]()))}return!u._doUpdate||u._doUpdate(v,g,w)!==!0?w():m=!0,m},bc(u,"_addUnloadCb",function(){return i},"add"),bc(u,"_addHook",function(){return s},"add"),gt(u,"_unloadHooks",{g:function(){return s}})}),e[jo]=function(u){return a(u)[jo]()},e[Mo]=function(){return n},e.setInitialized=function(u){n=u},e[du]=function(u){o=u},e[Xn]=function(u,d){d?d[Xn](u):o&&Ne(o[Bo])&&o[Bo](u,null)},e._getTelCtx=a;function a(u){u===void 0&&(u=null);var d=u;if(!d){var f=r||mo(null,{},e[en]);o&&o[_u]?d=f[ta](null,o[_u]):d=f[ta](null,o)}return d}function c(u,d,f){Yt(u,Che,Cs(d)),!f&&d&&(f=d[gS]()[ui]());var p=o;o&&o[_u]&&(p=o[_u]()),e[en]=d,r=mo(f,u,d,p)}function l(){n=!1,e[en]=null,r=null,o=null,s=KS(),i=Pf()}}return t.__ieDyn=1,t}()});function bhe(t,e,n){var r={id:e,fn:n};Oi(t,r);var o={remove:function(){ne(t,function(i,s){if(i.id===r.id)return t[Qs](s,1),-1})}};return o}function _he(t,e,n){for(var r=!1,o=t[ke],i=0;i<o;++i){var s=t[i];if(s)try{if(s.fn[su](null,[e])===!1){r=!0;break}}catch(a){le(n,2,64,"Telemetry initializer failed: "+Ft(a),{exception:fe(a)},!0)}}return!r}var x8,w8=H(()=>{Uo();Cr();Re();Ot();pO();Pc();_c();An();x8=function(t){Fo(e,t);function e(){var n=t.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,o;i(),tt(e,n,function(s,a){s.addTelemetryInitializer=function(c){return bhe(o,r++,c)},s[Bo]=function(c,l){_he(o,c,l?l[jo]():s[jo]())&&s[Xn](c,l)},s[ch]=function(){i()}});function i(){r=0,o=[]}return n}return e.__ieDyn=1,e}(Nc)});function Ihe(t,e){return new Iw(e)}function Phe(t,e,n){var r,o=[],i=[],s={};return ne(n,function(a){(te(a)||te(a[mf]))&&Xt(b8);var c=a[wf],l=a[ea];a&&c&&(te(s[c])?s[c]=l:hi(t,"Two extensions have same priority #"+c+" - "+s[c]+", "+l)),!c||c<e?o[Qe](a):i[Qe](a)}),r={},r[en]=o,r[mu]=i,r}function E8(t,e){var n=!1;return ne(e,function(r){if(r===t)return n=!0,-1}),n}function hO(t,e,n,r){n&&de(n,function(o,i){r&&Jn(i)&&Jn(e[o])&&hO(t,e[o],i,r),r&&Jn(i)&&Jn(e[o])?hO(t,e[o],i,r):t.set(e,o,i)})}function C8(t,e){var n=null,r=-1;return ne(t,function(o,i){if(o.w===e)return n=o,r=i,-1}),{i:r,l:n}}function The(t,e){var n=C8(t,e).l;return n||(n={w:e,rm:function(){var r=C8(t,e);r.i!==-1&&t[Qs](r.i,1)}},t[Qe](n)),n}function khe(t,e,n){ne(e,function(r){var o=On(t,r.w,n);delete r.w,r.rm=function(){o.rm()}})}var Su,b8,She,y8,Dhe,mO,Lc,_8=H(()=>{"use strict";Uo();Cr();gh();Re();yu();Ot();FA();J6();ZA();Ch();HA();Pc();_c();An();QA();qS();zS();cO();w8();GS();dO();b8="Plugins must provide initialize method",She="_notificationManager",y8="SDK is still unloading...",Dhe="SDK is not initialized",mO=co((Su={cookieCfg:{}},Su[xf]={rdOnly:!0,ref:!0,v:[]},Su[mu]={rdOnly:!0,ref:!0,v:[]},Su[Cc]={ref:!0,v:{}},Su[_S]=di,Su.loggingLevelConsole=0,Su.diagnosticLogInterval=di,Su));Lc=function(){function t(){var e,n,r,o,i,s,a,c,l,u,d,f,p,m,h,v,g,w,x,y,E,T,k,R,b,I,_,D;tt(t,this,function(S){A(),S._getDbgPlgTargets=function(){return[k]},S[Mo]=function(){return n},S[mf]=function(z,se,pe,Ce){p&&Xt(y8),S[Mo]()&&Xt("Core cannot be initialized more than once"),e=Yt(z,mO,pe||S[_t],!1),z=e.cfg,Te(e[Ui](function(Je){E=Je.cfg.instrumentationKey;var Et=Je.ref(Je.cfg,Cc);de(Et,function(Bt){Je.ref(Et,Bt)}),te(E)&&Xt("Please provide instrumentation key")})),i=Ce,Le(),ft(),S[_t]=pe;var be=z[xf];if(u=[],u[Qe].apply(u,iS(iS([],se,!1),be,!1)),d=z[mu],B(null),(!f||f[ke]===0)&&Xt("No "+mu+" available"),d&&d[ke]>1){var rt=S[au]("TeeChannelController");(!rt||!rt.plugin)&&le(r,1,28,"TeeChannel required")}khe(z,T,r),T=null,n=!0,S.releaseQueue(),S[aA]()},S.getChannels=function(){var z=[];return f&&ne(f,function(se){z[Qe](se)}),Js(z)},S.track=function(z){ln(S[wh](),function(){return"AppInsightsCore:track"},function(){z===null&&(Ye(z),Xt("Invalid telemetry item")),!z[zr]&&te(z[zr])&&(Ye(z),Xt("telemetry name required")),z.iKey=z.iKey||E,z[cu]=z[cu]||fi(new Date),z.ver=z.ver||"4.0",!p&&S[Mo]()?N()[Xn](z):o[Qe](z)},function(){return{item:z}},!z.sync)},S[gS]=N,S[oh]=function(){return i||(i=new Sw(e.cfg),S[She]=i),i},S[ih]=function(z){S[oh]()[ih](z)},S[sh]=function(z){i&&i[sh](z)},S.getCookieMgr=function(){return c||(c=Tc(e.cfg,S[_t])),c},S.setCookieMgr=function(z){c!==z&&(Ic(c,!1),c=z)},S[wh]=function(){return!s&&!a&&Te(e[Ui](function(z){if(z.cfg.enablePerfMgr){var se=z.cfg[_S];Ne(se)&&(a=se(S,S[oh]()))}})),s||a||nO()},S.setPerfMgr=function(z){s=z},S.eventCnt=function(){return o[ke]},S.releaseQueue=function(){if(n&&o[ke]>0){var z=o;o=[],ne(z,function(se){N()[Xn](se)})}},S[aA]=function(z){return h=z||null,D=!1,I&&I[pf](),C(!0)};function C(z){if((!I||!I[lu])&&!D){var se=z||r&&r.queue[ke]>0;se&&(_||(_=!0,Te(e[Ui](function(pe){var Ce=pe.cfg.diagnosticLogInterval;(!Ce||!(Ce>0))&&(Ce=1e4);var be=!1;I&&(be=I[lu],I[pf]()),I=zL(ue,Ce),I.unref(),I[lu]=be}))),I[lu]=!0)}return I}S[cA]=function(){D=!0,I&&I[pf](),ue()},pi(S,function(){return m},["addTelemetryInitializer"]),S[$o]=function(z,se,pe){var Ce;z===void 0&&(z=!0),n||Xt(Dhe),p&&Xt(y8);var be=(Ce={reason:50},Ce[ws]=z,Ce.flushComplete=!1,Ce),rt;z&&!se&&(rt=po(function(Bt){se=Bt}));var Je=Th(q(),S);Je[tw](function(){w.run(S[_t]),FS([c,i,r],z,function(){A(),se&&se(be)})},S);function Et(Bt){be.flushComplete=Bt,p=!0,g.run(Je,be),S[cA](),Je[Xn](be)}return ue(),De(z,Et,6,pe)||Et(!1),rt},S[au]=K,S.addPlugin=function(z,se,pe,Ce){if(!z){Ce&&Ce(!1),at(b8);return}var be=K(z[ea]);if(be&&!se){Ce&&Ce(!1),at("Plugin ["+z[ea]+"] is already loaded!");return}var rt={reason:16};function Je(Wn){u[Qe](z),rt.added=[z],B(rt),Ce&&Ce(!0)}if(be){var Et=[be.plugin],Bt={reason:2,isAsync:!!pe};X(Et,Bt,function(Wn){Wn?(rt.removed=Et,rt.reason|=32,Je(!0)):Ce&&Ce(!1)})}else Je(!1)},S.updateCfg=function(z,se){se===void 0&&(se=!0);var pe;if(S[Mo]()){pe={reason:1,cfg:e.cfg,oldCfg:nS({},e.cfg),newConfig:nS({},z),merge:se},z=pe.newConfig;var Ce=e.cfg;z[xf]=Ce[xf],z[mu]=Ce[mu]}e._block(function(be){var rt=be.cfg;hO(be,rt,z,se),se||de(rt,function(Je){Ao(z,Je)||be.set(rt,Je,di)}),be[xs](rt,mO)},!0),e[ff](),pe&&nt(pe)},S.evtNamespace=function(){return v},S.flush=De,S.getTraceCtx=function(z){return y||(y=m8()),y},S.setTraceCtx=function(z){y=z||null},S.addUnloadHook=Te,bc(S,"addUnloadCb",function(){return g},"add"),S.onCfgChange=function(z){var se;return n?se=On(e.cfg,z,S[_t]):se=The(T,z),{rm:function(){se.rm()}}},S.getWParam=function(){return tu()||e.cfg.enableWParam?0:-1};function L(){var z={};R=[];var se=function(pe){pe&&ne(pe,function(Ce){if(Ce[ea]&&Ce[hf]&&!z[Ce.identifier]){var be=Ce[ea]+"="+Ce[hf];R[Qe](be),z[Ce.identifier]=Ce}})};se(f),d&&ne(d,function(pe){se(pe)}),se(u)}function A(){n=!1,e=Yt({},mO,S[_t]),e.cfg[vS]=1,gt(S,"config",{g:function(){return e.cfg},s:function(se){S.updateCfg(se,!1)}}),gt(S,"pluginVersionStringArr",{g:function(){return R||L(),R}}),gt(S,"pluginVersionString",{g:function(){return b||(R||L(),b=R.join(";")),b||Fe}}),gt(S,"logger",{g:function(){return r||(r=new Eu(e.cfg),e[_t]=r),r},s:function(se){e[_t]=se,r!==se&&(Ic(r,!1),r=se)}}),S[_t]=new Eu(e.cfg),k=[];var z=S.config[xf]||[];z.splice(0,z[ke]),Oi(z,k),m=new x8,o=[],Ic(i,!1),i=null,s=null,a=null,Ic(c,!1),c=null,l=null,u=[],d=null,f=null,p=!1,h=null,v=_r("AIBaseCore",!0),g=Pf(),y=null,E=null,w=KS(),T=[],b=null,R=null,D=!1}function N(){var z=mo(q(),e.cfg,S);return z[tw](C),z}function B(z){var se=Phe(S[_t],K6,u);l=null,b=null,R=null,f=(d||[])[0]||[],f=VS(Oi(f,se[mu]));var pe=Oi(VS(se[en]),f);k=Js(pe);var Ce=S.config[xf]||[];Ce.splice(0,Ce[ke]),Oi(Ce,k);var be=N();f&&f[ke]>0&&aO(be[ta](f),pe),aO(be,pe),z&&nt(z)}function K(z){var se=null,pe=null,Ce=[];return ne(k,function(be){if(be[ea]===z&&be!==m)return pe=be,-1;be.getChannel&&Ce[Qe](be)}),!pe&&Ce[ke]>0&&ne(Ce,function(be){if(pe=be.getChannel(z),!pe)return-1}),pe&&(se={plugin:pe,setEnabled:function(be){Rc(pe)[aw]=!be},isEnabled:function(){var be=Rc(pe);return!be[li]&&!be[aw]},remove:function(be,rt){var Je;be===void 0&&(be=!0);var Et=[pe],Bt=(Je={reason:1},Je[ws]=be,Je);X(Et,Bt,function(Wn){Wn&&B({reason:32,removed:Et}),rt&&rt(Wn)})}}),se}function q(){if(!l){var z=(k||[]).slice();ct(z,m)===-1&&z[Qe](m),l=bu(VS(z),e.cfg,S)}return l}function X(z,se,pe){if(z&&z[ke]>0){var Ce=bu(z,e.cfg,S),be=Th(Ce,S);be[tw](function(){var rt=!1,Je=[];ne(u,function(Bt,Wn){E8(Bt,z)?rt=!0:Je[Qe](Bt)}),u=Je,b=null,R=null;var Et=[];d&&(ne(d,function(Bt,Wn){var vo=[];ne(Bt,function(Ji){E8(Ji,z)?rt=!0:vo[Qe](Ji)}),Et[Qe](vo)}),d=Et),pe&&pe(rt),C()}),be[Xn](se)}else pe(!1)}function ue(){if(r&&r.queue){var z=r.queue.slice(0);r.queue[ke]=0,ne(z,function(se){var pe,Ce=(pe={},pe[zr]=h||"InternalMessageId: "+se[ah],pe.iKey=E,pe[cu]=fi(new Date),pe.baseType=bf.dataType,pe.baseData={message:se[uu]},pe);S.track(Ce)})}}function De(z,se,pe,Ce){var be=1,rt=!1,Je=null;Ce=Ce||5e3;function Et(){be--,rt&&be===0&&(Je&&Je[pf](),Je=null,se&&se(rt),se=null)}if(f&&f[ke]>0){var Bt=N()[ta](f);Bt.iterate(function(Wn){if(Wn.flush){be++;var vo=!1;Wn.flush(z,function(){vo=!0,Et()},pe)||vo||(z&&Je==null?Je=Oo(function(){Je=null,Et()},Ce):Et())}})}return rt=!0,Et(),!0}function Le(){!i&&S[oh](),Te(e[Ui](function(z){var se=z.cfg.disableDbgExt;se===!0&&x&&(i[sh](x),x=null),i&&!x&&se!==!0&&(x=X6(z.cfg),i[ih](x))}))}function ft(){Te(e[Ui](function(z){var se=z.cfg.enablePerfMgr;!se&&a&&(a=null),se&&cw(z.cfg,_S,Ihe)}))}function nt(z){var se=Lw(q(),S);se[tw](C),(!S._updateHook||S._updateHook(se,z)!==!0)&&se[Xn](z)}function at(z){var se=S[_t];se?(le(se,2,73,z),C()):Xt(z)}function Ye(z){var se=S[oh]();se&&se[hu]([z],2)}function Te(z){w.add(z)}})}return t.__ieDyn=1,t}()});function T8(t){return t&&t[Ec]?t[Ec](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Fe):t}function ZS(t,e){var n;if(e){var r=Fe;he(e)?(r=Fe,ne(e,function(i){i=T8(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=T8(e),r&&(r[0]!=="."&&(r="."+r),t=(t||Fe)+r)}var o=Ahe.exec(t||Fe)||[];return n={},n[Ho]=o[1],n.ns=(o[2]||Fe).replace(Rhe,".").replace(Nhe,Fe)[na](".").sort().join("."),n}function gO(t,e,n){var r=[],o=Ow.get(t,JS,{},!1),i=ZS(e,n);return de(o,function(s,a){ne(a,function(c){var l;(!i[Ho]||i[Ho]===c.evtName[Ho])&&(!i.ns||i.ns===i.ns)&&r[Qe]((l={},l[zr]=c.evtName[Ho]+(c.evtName.ns?"."+c.evtName.ns:Fe),l.handler=c[rw],l))})}),r}function U8(t,e,n){n===void 0&&(n=!0);var r=Ow.get(t,JS,{},n),o=r[e];return o||(o=r[e]=[]),o}function M8(t,e,n,r){t&&e&&e[Ho]&&(t[P8]?t[P8](e[Ho],n,r):t[I8]&&t[I8](R8+e[Ho],n))}function Ohe(t,e,n,r){var o=!1;return t&&e&&e[Ho]&&n&&(t[D8]?(t[D8](e[Ho],n,r),o=!0):t[S8]&&(t[S8](R8+e[Ho],n),o=!0)),o}function k8(t,e,n,r){for(var o=e[ke];o--;){var i=e[o];i&&(!n.ns||n.ns===i.evtName.ns)&&(!r||r(i))&&(M8(t,i.evtName,i[rw],i.capture),e[Qs](o,1))}}function Fhe(t,e,n){if(e[Ho])k8(t,U8(t,e[Ho]),e,n);else{var r=Ow.get(t,JS,{});de(r,function(o,i){k8(t,i,e,n)}),Kn(r)[ke]===0&&Ow.kill(t,JS)}}function gi(t,e){var n;return e?(he(e)?n=[t].concat(e):n=[t,e],n=ZS("xx",n).ns[na](".")):n=t,n}function ua(t,e,n,r,o){var i;o===void 0&&(o=!1);var s=!1;if(t)try{var a=ZS(e,r);if(s=Ohe(t,a,n,o),s&&Ow.accept(t)){var c=(i={guid:Lhe++,evtName:a},i[rw]=n,i.capture=o,i);U8(t,a.type)[Qe](c)}}catch{}return s}function Ac(t,e,n,r,o){if(o===void 0&&(o=!1),t)try{var i=ZS(e,r),s=!1;Fhe(t,i,function(a){return i.ns&&!n||a[rw]===n?(s=!0,!0):!1}),s||M8(t,i,n,o)}catch{}}function vO(t,e,n,r){return r===void 0&&(r=!1),ua(t,e,n,null,r)}function xO(t,e,n,r){r===void 0&&(r=!1),Ac(t,e,n,null,r)}function QS(t,e,n){var r=!1,o=cn();o&&(r=ua(o,t,e,n),r=ua(o.body,t,e,n)||r);var i=Zt();return i&&(r=ua(i,t,e,n)||r),r}function eD(t,e,n){var r=cn();r&&(Ac(r,t,e,n),Ac(r.body,t,e,n));var o=Zt();o&&Ac(o,t,e,n)}function kh(t,e,n,r){var o=!1;return e&&t&&t[ke]>0&&ne(t,function(i){i&&(!n||ct(n,i)===-1)&&(o=QS(i,e,r)||o)}),o}function tD(t,e,n,r){var o=!1;return e&&t&&he(t)&&(o=kh(t,e,n,r),!o&&n&&n[ke]>0&&(o=kh(t,e,null,r))),o}function Du(t,e,n){t&&he(t)&&ne(t,function(r){r&&eD(r,e,n)})}function Fw(t,e,n){return tD([A8,L8,XS],t,e,n)}function Uw(t,e){Du([A8,L8,XS],t,e)}function Rh(t,e,n){function r(s){var a=Zt();t&&a&&a.visibilityState==="hidden"&&t(s)}var o=gi(O8,n),i=kh([XS],t,e,o);return(!e||ct(e,Aw)===-1)&&(i=kh([Aw],r,e,o)||i),!i&&e&&(i=Rh(t,null,n)),i}function Mw(t,e){var n=gi(O8,e);Du([XS],t,n),Du([Aw],null,n)}function Nh(t,e,n){function r(s){var a=Zt();t&&a&&a.visibilityState==="visible"&&t(s)}var o=gi(F8,n),i=kh([N8],t,e,o);return i=kh([Aw],r,e,o)||i,!i&&e&&(i=Nh(t,null,n)),i}function $w(t,e){var n=gi(F8,e);Du([N8],t,n),Du([Aw],null,n)}var R8,S8,D8,I8,P8,JS,Aw,XS,N8,L8,A8,O8,F8,Rhe,Nhe,Lhe,Ow,Ahe,$8=H(()=>{Re();Ot();Ch();An();R8="on",S8="attachEvent",D8="addEventListener",I8="detachEvent",P8="removeEventListener",JS="events",Aw="visibilitychange",XS="pagehide",N8="pageshow",L8="unload",A8="beforeunload",O8=_r("aiEvtPageHide"),F8=_r("aiEvtPageShow"),Rhe=/\.[\.]+/g,Nhe=/[\.]+$/,Lhe=1,Ow=TS("events"),Ahe=/^([^.]*)(?:\.(.+)|)/});var wO,j8=H(()=>{mS();wO=lr({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3})});var vt=H(()=>{d6();f6();_8();pO();PS();rO();FA();_c();Re();mS();$8();Eh();Uo();QA();qS();Pc();zS();j8();ZA();Ch();GS();sO();yu();LS();MA()});var da,H8,yO,nD,rD=H(()=>{da="",H8="https://browser.events.data.microsoft.com/OneCollector/1.0/",yO="version",nD="properties"});var EO,CO,Lh,fa,bO,Vt,Tf,Oc,oD,iD,sD,aD,jw,cD=H(()=>{EO="initialize",CO="logger",Lh="indexOf",fa="timings",bO="pollInternalLogs",Vt="value",Tf="kind",Oc="length",oD="processTelemetryStart",iD="handleField",sD="rmSanitizer",aD="rmFieldSanitizer",jw="canHandle"});function ur(t){return!(t===da||te(t))}function lD(t){if(t){var e=fo(t,"-");if(e>-1)return Ql(t,e)}return da}function V8(){return _O===null&&(_O=!Oe(Uint8Array)&&!Hhe()&&!gu()),_O}function uD(t){return!!(t&&cr(t)&&t>=1&&t<=4)}function dD(t,e,n){if(!e&&!ur(e)||typeof t!="string")return null;var r=typeof e;if(r==="string"||r==="number"||r==="boolean"||he(e))e={value:e};else if(r==="object"&&!q8.call(e,"value"))e={value:n?JSON.stringify(e):e};else if(te(e[Vt])||e[Vt]===da||!Ae(e[Vt])&&!cr(e[Vt])&&!ps(e[Vt])&&!he(e[Vt]))return null;if(he(e[Vt])&&!DO(e[Vt]))return null;if(!te(e[Tf])){if(he(e[Vt])||!Hw(e[Tf]))return null;e[Vt]=e[Vt].toString()}return e}function fD(t,e,n){var r=-1;if(!Oe(t))if(e>0&&(e===32?r=8192:e<=13&&(r=e<<5)),jhe(n))r===-1&&(r=0),r|=n;else{var o=$he[pa(t)]||-1;r!==-1&&o!==-1?r|=o:o===6&&(r=o)}return r}function z8(t,e,n){n===void 0&&(n=!0);var r;return t&&(r=t.get(e),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||da}function G8(t){t===void 0&&(t="D");var e=Pw();return t==="B"?e="{"+e+"}":t==="P"?e="("+e+")":t==="N"&&(e=e.replace(/-/g,da)),e}function kf(t,e,n,r,o){var i={},s=!1,a=0,c=arguments[Oc],l=arguments;for(ps(l[0])&&(s=l[0],a++);a<c;a++){var t=l[a];de(t,function(d,f){s&&f&&Pt(f)?he(f)?(i[d]=i[d]||[],ne(f,function(p,m){p&&Pt(p)?i[d][m]=kf(!0,i[d][m],p):i[d][m]=p})):i[d]=kf(!0,i[d],f):i[d]=f})}return i}function Hw(t){return t===0||t>0&&t<=13||t===32}function jhe(t){return t>=0&&t<=9}function Hhe(){var t=Ln();if(!Oe(t)&&t.userAgent){var e=t.userAgent.toLowerCase();if((e[Lh]("safari")>=0||e[Lh]("firefox")>=0)&&e[Lh]("chrome")<0)return!0}return!1}function DO(t){return t[Oc]>0}function Bw(t,e){var n=t;n[fa]=n[fa]||{},n[fa][oD]=n[fa][oD]||{},n[fa][oD][e]=qo()}function pa(t){var e=0;if(t!=null){var n=typeof t;n==="string"?e=1:n==="number"?e=2:n==="boolean"?e=3:n===mc&&(e=4,he(t)?(e=4096,t[Oc]>0&&(e|=pa(t[0]))):q8.call(t,"value")&&(e=8192|pa(t[Vt])))}return e}function pD(){return!!At("chrome")}function mD(t,e,n,r,o,i){r===void 0&&(r=!1),o===void 0&&(o=!1);function s(c,l,u){try{c[l]=u}catch{}}var a=new XMLHttpRequest;return r&&s(a,Uhe,r),n&&s(a,B8,n),a.open(t,e,!o),n&&s(a,B8,n),!o&&i&&s(a,Mhe,i),a}function Iu(t){return t>0}var Fc,SO,Ah,q8,Uhe,B8,Mhe,$he,_O,W8,Y8,qo,hD=H(()=>{vt();Uo();Re();rD();cD();SO="4.0.4",Ah="1DS-Web-JS-"+SO,q8=jx.hasOwnProperty,Uhe="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",B8="withCredentials",Mhe="timeout",$he=(Fc={},Fc[0]=0,Fc[2]=6,Fc[1]=1,Fc[3]=7,Fc[4098]=6,Fc[4097]=1,Fc[4099]=7,Fc),_O=null,W8=tu(),Y8=nu();qo=th});function qhe(t){return t&&(!t.getProperty||!t.setProperty)&&Xt("Invalid property storage override passed."),!0}var Bhe,K8,J8=H(()=>{Uo();Cr();vt();Re();rD();hD();cD();Bhe=co({endpointUrl:H8,propertyStorageOverride:{isVal:qhe}});K8=function(t){Fo(e,t);function e(){var n=t.call(this)||this;return tt(e,n,function(r,o){r[EO]=function(i,s,a,c){ln(r,function(){return"AppInsightsCore.initialize"},function(){try{o[EO](Yt(i,Bhe,a||r[CO],!1).cfg,s,a,c)}catch(d){var l=r[CO],u=fe(d);u[Lh]("channels")!==-1&&(u+=`
 - Channels must be provided through config.channels only!`),le(l,1,514,"SDK Initialization Failed - no telemetry will be sent: "+u)}},function(){return{config:i,extensions:s,logger:a,notificationManager:c}})},r.track=function(i){ln(r,function(){return"AppInsightsCore.track"},function(){var s=i;if(s){s[fa]=s[fa]||{},s[fa].trackStart=qo(),uD(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=Ah;var c=s.baseData=s.baseData||{};c[nD]=c[nD]||{};var l=c[nD];l[yO]=l[yO]||r.pluginVersionString||da}o.track(s)},function(){return{item:i}},!i.sync)},r[bO]=function(i){return o[bO](i||"InternalLog")}}),n}return e.__ieDyn=1,e}(Lc)});var X8,Z8,Q8,e5,t5,n5=H(()=>{vt();X8=lr({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),Z8=lr({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),Q8=lr({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),e5=lr({Normal:1,Critical:2}),t5=lr({NONE:0,ERROR:1,WARNING:2,INFORMATION:3})});var r5,o5=H(()=>{vt();Re();rD();hD();cD();r5=function(){function t(e){var n=this,r={},o=[],i=[];e&&i.push(e);function s(u,d){var f,p=r[u];if(p&&(f=p[d]),!f&&f!==null){if(Ae(u)&&Ae(d))if(i[Oc]>0){for(var m=0;m<i[Oc];m++)if(i[m][iD](u,d)){f={canHandle:!0,fieldHandler:i[m]};break}}else o[Oc]===0&&(f={canHandle:!0});if(!f&&f!==null){f=null;for(var m=0;m<o[Oc];m++)if(o[m][iD](u,d)){f={canHandle:!0,handler:o[m],fieldHandler:null};break}}p||(p=r[u]={}),p[d]=f}return f}n.clearCache=function(){r={}},n.addSanitizer=function(u){u&&(tS(o,u)||o.push(u),r={})},n.addFieldSanitizer=function(u){u&&(tS(i,u)||i.push(u),r={})},n[sD]=function(u){if(u){var d=ct(o,u);d!==-1&&(o.splice(d,1),r={}),ne(o,function(f){f&&f[sD]&&f[sD](u)})}},n[aD]=function(u){if(u){var d=ct(i,u);d!==-1&&(i.splice(d,1),r={}),ne(o,function(f){f&&f[aD]&&f[aD](u)})}},n.isEmpty=function(){return eh(o)+eh(i)===0},n[iD]=function(u,d){var f=s(u,d);return f?f[jw]:!1},n[Vt]=function(u,d,f,p){var m=s(u,d);if(m&&m[jw]){if(!m||!m[jw])return null;if(m.handler)return m.handler[Vt](u,d,f,p);if(!Ae(d)||te(f)||f===da)return null;var h=null,v=pa(f);if((v&8192)===8192){var g=v&-8193;if(h=f,!ur(h[Vt])||g!==1&&g!==2&&g!==3&&(g&4096)!==4096)return null}else v===1||v===2||v===3||(v&4096)===4096?h=c(u,d,f):v===4&&(h=c(u,d,p?JSON.stringify(f):f));if(h)return a(m,u,d,v,h,p)}return null},n.property=function(u,d,f,p){var m=s(u,d);if(!m||!m[jw]||!Ae(d)||te(f)||!ur(f[Vt]))return null;var h=pa(f[Vt]);return h===0?null:a(m,u,d,h,f,p)};function a(u,d,f,p,m,h){if(u.handler)return u.handler.property(d,f,m,h);if(!te(m[Tf])){if((p&4096)===4096||!Hw(m[Tf]))return null;m[Vt]=m[Vt].toString()}return l(u.fieldHandler,d,f,p,m)}function c(u,d,f){return ur(f)?{value:f}:null}function l(u,d,f,p,m){if(m&&u){var h=u.getSanitizer(d,f,p,m[Tf],m.propertyType);if(h)if(p===4){var v={},g=m[Vt];de(g,function(x,y){var E=d+"."+f;if(ur(y)){var T=c(E,x,y);T=l(u,E,x,pa(y),T),T&&(v[x]=T[Vt])}}),m[Vt]=v}else{var w={path:d,name:f,type:p,prop:m,sanitizer:n};m=h.call(n,w)}}return m}}return t.getFieldType=pa,t}()});var i5={};zg(i5,{AppInsightsCore:()=>K8,BaseTelemetryPlugin:()=>Nc,DiagnosticLogger:()=>Eu,EventLatency:()=>Z8,EventPersistence:()=>e5,EventPropertyType:()=>Q8,EventsDiscardedReason:()=>vs,FullVersionString:()=>Ah,InternalAppInsightsCore:()=>Lc,LoggingSeverity:()=>wO,MinChannelPriorty:()=>iA,NotificationManager:()=>Sw,PerfEvent:()=>Sf,PerfManager:()=>Iw,ProcessTelemetryContext:()=>uO,TraceLevel:()=>t5,Undefined:()=>Gs,ValueKind:()=>X8,ValueSanitizer:()=>r5,Version:()=>SO,_InternalLogMessage:()=>bf,__getRegisteredEvents:()=>gO,_logInternalMessage:()=>WA,_throwInternal:()=>le,_warnToConsole:()=>hi,addEventHandler:()=>QS,addEventListeners:()=>tD,addPageHideEventListener:()=>Rh,addPageShowEventListener:()=>Nh,addPageUnloadEventListener:()=>Fw,areCookiesSupported:()=>Dh,arrForEach:()=>ne,arrIndexOf:()=>ct,arrMap:()=>Xs,arrReduce:()=>Qm,attachEvent:()=>vO,blockDynamicConversion:()=>ww,cookieAvailable:()=>Dh,createCookieMgr:()=>Tc,createDynamicConfig:()=>Yt,createEnumStyle:()=>lr,createGuid:()=>G8,createProcessTelemetryContext:()=>mo,createTraceParent:()=>Tw,createUniqueNamespace:()=>_r,createUnloadHandlerContainer:()=>Pf,dateNow:()=>Qt,detachEvent:()=>xO,disallowsSameSiteNone:()=>BS,doPerf:()=>ln,dumpObj:()=>fe,eventOff:()=>Ac,eventOn:()=>ua,extend:()=>kf,findW3cTraceParent:()=>Nw,forceDynamicConversion:()=>OA,formatTraceParent:()=>Rw,generateW3CId:()=>Df,getCommonSchemaMetaData:()=>fD,getConsole:()=>lw,getCookieValue:()=>z8,getCrypto:()=>uw,getDocument:()=>Zt,getDynamicConfigHandler:()=>xw,getExceptionName:()=>Ft,getFieldValueType:()=>pa,getGlobal:()=>Vr,getGlobalInst:()=>At,getHistory:()=>Yx,getIEVersion:()=>fw,getISOString:()=>fi,getJSON:()=>br,getLocation:()=>Ef,getMsCrypto:()=>dw,getNavigator:()=>Ln,getPerformance:()=>wc,getSetValue:()=>cw,getTenantId:()=>lD,getTime:()=>qo,getWindow:()=>cn,hasDocument:()=>tu,hasHistory:()=>K_,hasJSON:()=>ia,hasNavigator:()=>Zm,hasOwnProperty:()=>wn,hasWindow:()=>nu,isArray:()=>he,isArrayValid:()=>DO,isBeaconsSupported:()=>mi,isBoolean:()=>ps,isChromium:()=>pD,isDate:()=>Ym,isDocumentObjectAvailable:()=>W8,isError:()=>Ks,isFetchSupported:()=>Sc,isFunction:()=>Ne,isGreaterThanZero:()=>Iu,isIE:()=>vu,isLatency:()=>uD,isNotTruthy:()=>N_,isNullOrUndefined:()=>te,isNumber:()=>cr,isObject:()=>Pt,isReactNative:()=>gu,isSampledFlag:()=>kw,isString:()=>Ae,isTruthy:()=>ms,isTypeof:()=>k_,isUint8ArrayAvailable:()=>V8,isUndefined:()=>Oe,isValidSpanId:()=>la,isValidTraceId:()=>ca,isValidTraceParent:()=>Ph,isValueAssigned:()=>ur,isValueKind:()=>Hw,isWindowObjectAvailable:()=>Y8,isXhrSupported:()=>xu,mergeEvtNamespace:()=>gi,newGuid:()=>Pw,newId:()=>gw,normalizeJsName:()=>yf,objDefineAccessors:()=>W_,objForEachKey:()=>de,objFreeze:()=>Js,objKeys:()=>Kn,objSeal:()=>F_,onConfigChange:()=>On,openXhr:()=>mD,optimizeObject:()=>$i,parseTraceParent:()=>If,perfNow:()=>th,proxyAssign:()=>CA,proxyFunctionAs:()=>bc,proxyFunctions:()=>pi,random32:()=>Dc,randomValue:()=>hw,removeEventHandler:()=>eD,removeEventListeners:()=>Du,removePageHideEventListener:()=>Mw,removePageShowEventListener:()=>$w,removePageUnloadEventListener:()=>Uw,safeGetCookieMgr:()=>XA,safeGetLogger:()=>Cs,sanitizeProperty:()=>dD,setEnableEnvMocks:()=>TA,setProcessTelemetryTimings:()=>Bw,setValue:()=>Mi,strContains:()=>yn,strEndsWith:()=>ru,strFunction:()=>jm,strObject:()=>mc,strPrototype:()=>ds,strStartsWith:()=>af,strTrim:()=>ut,strUndefined:()=>Gs,throwError:()=>Xt,toISOString:()=>fi,useXDomainRequest:()=>Cf});var Rf=H(()=>{J8();n5();o5();vt();hD()});var Nf,gD,vD,IO=H(()=>{Nf="REAL_TIME",gD="NEAR_REAL_TIME",vD="BEST_EFFORT"});var bs,xD,s5,wD,a5,PO,c5,l5,u5,TO,kO,yD,d5,RO,f5,NO,ED,LO,CD,bD,_D,qw,AO,p5,Oh,OO,SD,Ww=H(()=>{bs="",xD="POST",s5="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",wD="drop",a5="send",PO="requeue",c5="rspFail",l5="oth",u5="no-cache, no-store",TO="application/x-json-stream",kO="cache-control",yD="content-type",d5="kill-tokens",RO="kill-duration",f5="kill-duration-seconds",NO="time-delta-millis",ED="client-version",LO="client-id",CD="time-delta-to-apply-millis",bD="upload-time",_D="apikey",qw="AuthMsaDeviceTicket",AO="AuthXToken",p5="NoResponseBody",Oh="msfpc",OO="trace",SD="user"});var Yw,DD,ID,PD,Vw,Ve,ji,Hi,En,ma,dr,_s,Lf,Fh,Uh,TD,Mh,kD,RD,m5,FO,UO,h5,g5,ND,LD,MO,$O,jO,v5,$h,Pu,HO,Ss,zw,ha,BO,qO,jh,Gr,Wo,Gw,Hh,AD,Kw,x5,OD,FD,Bh,WO,Jw,UD,MD,$D,jD,HD,Xw,w5,y5,YO,VO,E5,C5,b5,Zw,Tu,BD,Af,qh=H(()=>{Yw="allowRequestSending",DD="firstRequestSent",ID="shouldAddClockSkewHeaders",PD="getClockSkewHeaderValue",Vw="setClockSkew",Ve="length",ji="concat",Hi="iKey",En="count",ma="events",dr="push",_s="split",Lf="splice",Fh="toLowerCase",Uh="hdrs",TD="useHdrs",Mh="initialize",kD="setTimeoutOverride",RD="clearTimeoutOverride",m5="payloadPreprocessor",FO="overrideEndpointUrl",UO="avoidOptions",h5="disableEventTimings",g5="stringifyObjects",ND="enableCompoundKey",LD="disableXhrSync",MO="disableFetchKeepAlive",$O="useSendBeacon",jO="alwaysUseXhrOverride",v5="unloadTransports",$h="urlString",Pu="timeout",HO="ontimeout",Ss="data",zw="_sendReason",ha="headers",BO="getResponseHeader",qO="getAllResponseHeaders",jh="_thePayload",Gr="batches",Wo="sendType",Gw="canSendRequest",Hh="sendQueuedRequests",AD="isCompletelyIdle",Kw="setUnloading",x5="isTenantKilled",OD="sendSynchronousBatch",FD="_transport",Bh="getWParam",WO="isBeacon",Jw="timings",UD="isTeardown",MD="isSync",$D="sendPOST",jD="setKillSwitchTenants",HD="_backOffTransmission",Xw="identifier",w5="disableOptimizeObj",y5="ignoreMc1Ms0CookieProcessing",YO="eventsLimitInMem",VO="autoFlushEventsLimit",E5="disableAutoBatchFlushLimit",C5="overrideInstrumentationKey",b5="disableTelemetry",Zw="sendAttempt",Tu="latency",BD="baseData",Af="sync"});function S5(t){var e=(t.ext||{}).intweb;return e&&ur(e[Oh])?e[Oh]:null}function _5(t){for(var e=null,n=0;e===null&&n<t[Ve];n++)e=S5(t[n]);return e}var Wh,zO=H(()=>{Rf();Ww();qh();Wh=function(){function t(e,n){var r=n?[][ji](n):[],o=this,i=_5(r);o[Hi]=function(){return e},o.Msfpc=function(){return i||bs},o[En]=function(){return r[Ve]},o[ma]=function(){return r},o.addEvent=function(s){return s?(r[dr](s),i||(i=S5(s)),!0):!1},o[_s]=function(s,a){var c;if(s<r[Ve]){var l=r[Ve]-s;te(a)||(l=a<l?a:l),c=r[Lf](s,l),i=_5(r)}return new t(e,c)}}return t.create=function(e,n){return new t(e,n)},t}()});var GO,D5=H(()=>{Cr();qh();GO=function(){function t(){var e=!0,n=!0,r=!0,o="use-collector-delta",i=!1;tt(t,this,function(s){s[Yw]=function(){return e},s[DD]=function(){r&&(r=!1,i||(e=!1))},s[ID]=function(){return n},s[PD]=function(){return o},s[Vw]=function(a){i||(a?(o=a,n=!0,i=!0):n=!1,e=!0)}})}return t.__ieDyn=1,t}()});var Whe,KO,I5=H(()=>{Cr();Rf();qh();Whe=1e3,KO=function(){function t(){var e={};function n(r){var o=[];return r&&ne(r,function(i){o[dr](ut(i))}),o}tt(t,this,function(r){r[jD]=function(o,i){if(o&&i)try{var s=n(o[_s](","));if(i==="this-request-only")return s;for(var a=parseInt(i,10)*Whe,c=0;c<s[Ve];++c)e[s[c]]=Qt()+a}catch{return[]}return[]},r[x5]=function(o){var i=e,s=ut(o);return i[s]!==void 0&&i[s]>Qt()?!0:(delete i[s],!1)}})}return t.__ieDyn=1,t}()});function T5(t){return!(t>=300&&t<500&&t!=408&&t!=429||t==501||t==505)}function qD(t){var e=0,n=P5*Yhe,r=P5*Vhe,o=Math.floor(Math.random()*(r-n))+n;return e=Math.pow(2,t)*o,Math.min(e,zhe)}var Yhe,Vhe,P5,zhe,JO=H(()=>{Yhe=.8,Vhe=1.2,P5=3e3,zhe=6e5});function R5(t,e,n,r){if(r&&t){var o=fD(r.value,r.kind,r.propertyType);if(o>-1){var i=t[k5];i||(i=t[k5]={f:{}});var s=i[WD];if(s||(s=i[WD]={}),e)for(var a=0;a<e.length;a++){var c=e[a];s[c]||(s[c]={f:{}});var l=s[c][WD];l||(l=s[c][WD]={}),s=l}s=s[n]={},he(r.value)?s.a={t:o}:s.t=o}}}var Ghe,Khe,N5,L5,Jhe,k5,WD,Xhe,A5,O5=H(()=>{Cr();Rf();zO();Ww();Re();Ghe=20,Khe=3984588,N5=65e3,L5=2e6,Jhe=Math.min(L5,N5),k5="metadata",WD="f",Xhe=/\./,A5=function(){function t(e,n,r,o){var i="data",s="baseData",a="ext",c=!!o,l=!0,u=n,d={};tt(t,this,function(f){f.createPayload=function(h,v,g,w,x,y){return{apiKeys:[],payloadBlob:bs,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:h,isTeardown:v,isSync:g,isBeacon:w,sendType:y,sendReason:x}},f.appendPayload=function(h,v,g){var w=h&&v&&!h.overflow;return w&&ln(e,function(){return"Serializer:appendPayload"},function(){for(var x=v.events(),y=h.payloadBlob,E=h.numEvents,T=!1,k=[],R=[],b=h.isBeacon,I=b?N5:Khe,_=b?Jhe:L5,D=0,S=0;D<x.length;){var C=x[D];if(C){if(E>=g){h.overflow=v.split(D);break}var L=f.getEventBlob(C);if(L&&L.length<=_){var A=L.length,N=y.length;if(N+A>I){h.overflow=v.split(D);break}y&&(y+=`
`),y+=L,S++,S>Ghe&&(hs(y,0,1),S=0),T=!0,E++}else L?k.push(C):R.push(C),x.splice(D,1),D--}D++}if(k.length>0&&h.sizeExceed.push(Wh.create(v.iKey(),k)),R.length>0&&h.failedEvts.push(Wh.create(v.iKey(),R)),T){h.batches.push(v),h.payloadBlob=y,h.numEvents=E;var B=v.iKey();ct(h.apiKeys,B)===-1&&h.apiKeys.push(B)}},function(){return{payload:h,theBatch:{iKey:v.iKey(),evts:v.events()},max:g}}),w},f.getEventBlob=function(h){try{return ln(e,function(){return"Serializer.getEventBlob"},function(){var v={};v.name=h.name,v.time=h.time,v.ver=h.ver,v.iKey="o:"+lD(h.iKey);var g={},w=h[a];w&&(v[a]=g,de(w,function(E,T){var k=g[E]={};m(T,k,"ext."+E,!0,null,null,!0)}));var x=v[i]={};x.baseType=h.baseType;var y=x[s]={};return m(h.baseData,y,s,!1,[s],function(E,T,k){R5(g,E,T,k)},l),m(h.data,x,i,!1,[],function(E,T,k){R5(g,E,T,k)},l),JSON.stringify(v)},function(){return{item:h}})}catch{return null}};function p(h,v){var g=d[h];return g===void 0&&(h.length>=7&&(g=af(h,"ext.metadata")||af(h,"ext.web")),d[h]=g),g}function m(h,v,g,w,x,y,E){de(h,function(T,k){var R=null;if(k||ur(k)){var b=g,I=T,_=x,D=v;if(c&&!w&&Xhe.test(T)){var S=T.split("."),C=S.length;if(C>1){_&&(_=_.slice());for(var L=0;L<C-1;L++){var A=S[L];D=D[A]=D[A]||{},b+="."+A,_&&_.push(A)}I=S[C-1]}}var N=w&&p(b,I);if(!N&&u&&u.handleField(b,I)?R=u.value(b,I,k,r):R=dD(I,k,r),R){var B=R.value;if(D[I]=B,y&&y(_,I,R),E&&typeof B=="object"&&!he(B)){var K=_;K&&(K=K.slice(),K.push(I)),m(k,B,b+"."+I,w,K,y,E)}}}})}})}return t.__ieDyn=1,t}()});function Yh(t,e){return{set:function(n,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return VL([t,e],n,r,o)}}}var XO=H(()=>{Re()});function Ff(t,e,n){QO[t]=e,n!==!1&&(eF[e]=t)}function U5(t){try{return t.responseText}catch{}return bs}function M5(t,e){var n=!1;if(t&&e){var r=Kn(t);if(r&&r[Ve]>0)for(var o=e[Fh](),i=0;i<r[Ve];i++){var s=r[i];if(s&&wn(e,s)&&s[Fh]()===o){n=!0;break}}}return n}function Vh(t,e,n,r){e&&n&&n[Ve]>0&&(r&&QO[e]?(t[Uh][QO[e]]=n,t[TD]=!0):t.url+="&"+e+"="+n)}function $5(t,e){return e&&(cr(e)?t=[e][ji](t):he(e)&&(t=e[ji](t))),t}function ege(t,e,n){for(var r=0;r<t[Ve];r++)if(t[r].name===e){t[r].value=n;return}t[dr]({name:e,value:n})}function tge(t,e){for(var n=0;n<t[Ve];n++)if(t[n].name===e){t[Lf](n,1);return}}var Of,ZO,F5,Zhe,Qhe,QO,eF,j5,H5=H(()=>{Cr();Rf();Re();D5();Ww();I5();JO();O5();XO();qh();ZO="sendAttempt",F5="&"+p5+"=true",Zhe="?cors=true&"+yD[Fh]()+"="+TO,Qhe=(Of={},Of[1]=PO,Of[100]=PO,Of[200]="sent",Of[8004]=wD,Of[8003]=wD,Of),QO={},eF={};Ff(qw,qw,!1);Ff(ED,ED);Ff(LO,"Client-Id");Ff(_D,_D);Ff(CD,CD);Ff(bD,bD);Ff(AO,AO);j5=function(){function t(e,n,r,o){var i,s=new KO,a=!1,c=new GO,l=!1,u=0,d,f,p,m,h=!0,v=[],g={},w=[],x=null,y=!1,E,T=!1,k=!1,R,b,I,_,D,S=[],C,L,A=[],N,B;tt(t,this,function(K){De();var q=!0;K[Mh]=function(P,U,j){N||(m=U,E=U.getCookieMgr(),d=j,f=d.diagLog(),Oi(S,On(P,function(Y){var J,re=Y.cfg,Q=Y.cfg.extensionConfig[j.identifier];B=Yh(Q[kD],Q[RD]),ur(re.anonCookieName)?ege(v,"anoncknm",re.anonCookieName):tge(v,"anoncknm"),C=Q[m5],L=Q.payloadListener;var M=Q.httpXHROverride,W=Q[FO]?Q[FO]:re.endpointUrl;i=W+Zhe,k=Oe(Q[UO])?!0:!Q[UO],y=!Q[h5];var $=Q.valueSanitizer,ie=Q[g5],ce=!!re[ND];Oe(Q[ND])||(ce=!!Q[ND]),R=Q.xhrTimeout,b=!!Q[LD],I=!!Q[MO],D=Q.addNoResponse!==!1,U.getPlugin("LocalStorage")&&(I=!0),l=!gu(),x=new A5(m,$,ie,ce),te(Q[$O])||(l=!!Q[$O]);var xe=M,je=Q[jO]?M:null,et=Q[jO]?M:null,Xe=[3,2];if(!M){h=!1;var Pr=Ef();Pr&&Pr.protocol&&Pr.protocol[Fh]()==="file:"&&(q=!1);var wt=[];gu()?(wt=[2,1],Xe=[2,1,3]):wt=[1,2,3],wt=$5(wt,Q.transports),M=X(wt,!1),M||hi(f,"No available transport to send events"),xe=X(wt,!0)}je||(Xe=$5(Xe,Q[v5]),je=X(Xe,!0)),_=!h&&(l&&mi()||!I&&Sc(!0)),p=(J={},J[0]=M,J[1]=xe||X([1,2,3],!0),J[2]=je||xe||X([1],!0),J[3]=et||X([2,3],!0)||xe||X([1],!0),J)})),N=!0)},K.addResponseHandler=function(P){return A[dr](P),{rm:function(){var U=A.indexOf(P);U>=0&&A[Lf](U,1)}}};function X(P,U){for(var j=0,Y=null,J=0;Y==null&&J<P[Ve];)j=P[J],j===1?Cf()?Y=ue:xu()&&(Y=ft):j===2&&Sc(U)&&(!U||U&&!I)?Y=Le:l&&j===3&&mi()&&(Y=at),J++;return Y?{_transport:j,_isSync:U,sendPOST:Y}:null}K._getDbgPlgTargets=function(){return[p[0],s,x,p]};function ue(P,U,j){var Y=new XDomainRequest;Y.open(xD,P[$h]),P[Pu]&&(Y[Pu]=P[Pu]),Y.onload=function(){var J=U5(Y);nt(U,200,{},J),md(J)},Y.onerror=function(){nt(U,400,{})},Y[HO]=function(){nt(U,500,{})},Y.onprogress=function(){},j?Y.send(P[Ss]):B.set(function(){Y.send(P[Ss])},0)}function De(){var P;i=null,s=new KO,a=!1,c=new GO,l=!1,u=0,d=null,f=null,p=null,m=null,h=!0,v=[],g={},w=[],x=null,y=!1,E=null,T=!1,k=!1,R=P,b=P,I=P,_=P,D=P,S=[],C=P,L=P,A=[],N=!1,B=Yh()}function Le(P,U,j){var Y,J=P[$h],re=!1,Q=!1,M=(Y={body:P[Ss],method:xD},Y[s5]=!0,Y);j&&(M.keepalive=!0,P[zw]===2&&(re=!0,D&&(J+=F5))),q&&(M.credentials="include"),P.headers&&Kn(P.headers)[Ve]>0&&(M[ha]=P[ha]);var W=function(ie,ce,xe){Q||(Q=!0,nt(U,ie,ce,xe),md(xe))},$=function(){Q||(Q=!0,nt(U,0,{}))};fetch(J,M).then(function(ie){var ce={},xe=bs,je=ie[ha];je&&je.forEach(function(et,Xe){ce[Xe]=et}),ie.body?ie.text().then(function(et){xe=et,W(ie.status,ce,xe)},$):W(ie.status,ce,"")}).catch($),re&&!Q&&(Q=!0,nt(U,200,{})),!Q&&P[Pu]>0&&B.set(function(){Q||(Q=!0,nt(U,500,{}))},P[Pu])}function ft(P,U,j){var Y=P[$h];function J(W,$,ie){if(!W[ie]&&$&&$[BO]){var ce=$[BO](ie);ce&&(W[ie]=ut(ce))}return W}function re(W){var $={};return W[qO]?$=hp(W[qO]()):($=J($,W,NO),$=J($,W,RO),$=J($,W,f5)),$}function Q(W,$){nt(U,W.status,re(W),$)}j&&P[LD]&&(j=!1);var M=mD(xD,Y,q,!0,j,P[Pu]);de(P[ha],function(W,$){M.setRequestHeader(W,$)}),M.onload=function(){var W=U5(M);Q(M,W),md(W)},M.onerror=function(){Q(M)},M[HO]=function(){Q(M)},M.send(P[Ss])}function nt(P,U,j,Y){try{P(U,j,Y)}catch(J){le(f,2,518,fe(J))}}function at(P,U,j){var Y=P,J=200,re=Y[jh],Q=P[$h]+(D?F5:bs);try{var M=Ln();if(!M.sendBeacon(Q,P[Ss]))if(re){var W=!!m.getPlugin("LocalStorage"),$=[],ie=[];ne(re[Gr],function(ce){if($&&ce&&ce[En]()>0)for(var xe=ce[ma](),je=0;je<xe[Ve];je++)if(M.sendBeacon(Q,x.getEventBlob(xe[je])))ie[dr](ce[je]);else{$[dr](ce[_s](je));break}else $[dr](ce[_s](0))}),ie[Ve]>0&&(re.sentEvts=ie),W||xo($,8003,re[Wo],!0)}else J=0}catch(ce){hi(f,"Failed to send telemetry using sendBeacon API. Ex:"+fe(ce)),J=0}finally{nt(U,J,{},bs)}}function Ye(P){return P===2||P===3}function Te(P){return T&&Ye(P)&&(P=2),P}K.addHeader=function(P,U){g[P]=U},K[Gw]=function(){return z()&&c[Yw]()},K[Hh]=function(P,U){Oe(P)&&(P=0),T&&(P=Te(P),U=2),pe(w,P,0)&&be(se(),0,!1,P,U||0)},K[AD]=function(){return!a&&u===0&&w[Ve]===0},K[Kw]=function(P){T=P},K.addBatch=function(P){if(P&&P[En]()>0){if(s.isTenantKilled(P[Hi]()))return!1;w[dr](P)}return!0},K.teardown=function(){w[Ve]>0&&be(se(),0,!0,2,2),ne(S,function(P){P&&P.rm&&P.rm()}),S=[]},K.pause=function(){a=!0},K.resume=function(){a=!1,K[Hh](0,4)},K[OD]=function(P,U,j){P&&P[En]()>0&&(te(U)&&(U=1),T&&(U=Te(U),j=2),be([P],0,!1,U,j||0))};function z(){return!a&&u<n}function se(){var P=w;return w=[],P}function pe(P,U,j){var Y=!1;return P&&P[Ve]>0&&!a&&p[U]&&x&&(Y=U!==0||z()&&(j>0||c[Yw]())),Y}function Ce(P){var U={};return P&&ne(P,function(j,Y){U[Y]={iKey:j[Hi](),evts:j[ma]()}}),U}function be(P,U,j,Y,J){if(!(!P||P[Ve]===0)){if(a){xo(P,1,Y);return}Y=Te(Y);try{var re=P,Q=Y!==0;ln(m,function(){return"HttpManager:_sendBatches"},function(M){M&&(P=P.slice(0));for(var W=[],$=null,ie=qo(),ce=p[Y]||(Q?p[1]:p[0]),xe=ce&&ce[FD],je=_&&(T||Ye(Y)||xe===3||ce._isSync&&xe===2);pe(P,Y,U);){var et=P.shift();et&&et[En]()>0&&(s.isTenantKilled(et[Hi]())?W[dr](et):($=$||x.createPayload(U,j,Q,je,J,Y),x.appendPayload($,et,e)?$.overflow!==null&&(P=[$.overflow][ji](P),$.overflow=null,Et($,ie,qo(),J),ie=qo(),$=null):(Et($,ie,qo(),J),ie=qo(),P=[et][ji](P),$=null)))}$&&Et($,ie,qo(),J),P[Ve]>0&&(w=P[ji](w)),xo(W,8004,Y)},function(){return{batches:Ce(re),retryCount:U,isTeardown:j,isSynchronous:Q,sendReason:J,useSendBeacon:Ye(Y),sendType:Y}},!Q)}catch(M){le(f,2,48,"Unexpected Exception sending batch: "+fe(M))}}}function rt(P,U){var j={url:i,hdrs:{},useHdrs:!1};U?(j[Uh]=kf(j[Uh],g),j.useHdrs=Kn(j.hdrs)[Ve]>0):de(g,function(M,W){eF[M]?Vh(j,eF[M],W,!1):(j[Uh][M]=W,j[TD]=!0)}),Vh(j,LO,"NO_AUTH",U),Vh(j,ED,Ah,U);var Y=bs;ne(P.apiKeys,function(M){Y[Ve]>0&&(Y+=","),Y+=M}),Vh(j,_D,Y,U),Vh(j,bD,Qt().toString(),U);var J=gp(P);if(ur(J)&&(j.url+="&ext.intweb.msfpc="+J),c[ID]()&&Vh(j,CD,c[PD](),U),m[Bh]){var re=m[Bh]();re>=0&&(j.url+="&w="+re)}for(var Q=0;Q<v[Ve];Q++)j.url+="&"+v[Q].name+"="+v[Q].value;return j}function Je(P,U,j){P[U]=P[U]||{},P[U][d.identifier]=j}function Et(P,U,j,Y){if(P&&P.payloadBlob&&P.payloadBlob[Ve]>0){var J=!!C,re=p[P.sendType];!Ye(P[Wo])&&P[WO]&&P.sendReason===2&&(re=p[2]||p[3]||re);var Q=k;(P.isBeacon||re[FD]===3)&&(Q=!1);var M=rt(P,Q);Q=Q||M[TD];var W=qo();ln(m,function(){return"HttpManager:_doPayloadSend"},function(){for(var $=0;$<P.batches[Ve];$++)for(var ie=P[Gr][$],ce=ie[ma](),xe=0;xe<ce[Ve];xe++){var je=ce[xe];if(y){var et=je[Jw]=je[Jw]||{};Je(et,"sendEventStart",W),Je(et,"serializationStart",U),Je(et,"serializationCompleted",j)}je[ZO]>0?je[ZO]++:je[ZO]=1}xo(P[Gr],1e3+(Y||0),P[Wo],!0);var Xe={data:P.payloadBlob,urlString:M.url,headers:M[Uh],_thePayload:P,_sendReason:Y,timeout:R,disableXhrSync:b,disableFetchKeepAlive:I};Q&&(M5(Xe[ha],kO)||(Xe[ha][kO]=u5),M5(Xe[ha],yD)||(Xe[ha][yD]=TO));var Pr=null;re&&(Pr=function(wt){c[DD]();var Ct=function(vp,XZ){Wn(vp,XZ,P,Y)},er=P[UD]||P[MD];try{re[$D](wt,Ct,er),L&&L(Xe,wt,er,P[WO])}catch(vp){hi(f,"Unexpected exception sending payload. Ex:"+fe(vp)),nt(Ct,0,{})}}),ln(m,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Pr)if(P[Wo]===0&&u++,J&&!P.isBeacon&&re[FD]!==3){var wt={data:Xe[Ss],urlString:Xe[$h],headers:kf({},Xe[ha]),timeout:Xe[Pu],disableXhrSync:Xe[LD],disableFetchKeepAlive:Xe[MO]},Ct=!1;ln(m,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{C(wt,function(er){Ct=!0,!h&&!er[jh]&&(er[jh]=er[jh]||Xe[jh],er[zw]=er[zw]||Xe[zw]),Pr(er)},P.isSync||P[UD])}catch{Ct||Pr(Xe)}})}else Pr(Xe)})},function(){return{thePayload:P,serializationStart:U,serializationCompleted:j,sendReason:Y}},P[MD])}P.sizeExceed&&P.sizeExceed[Ve]>0&&xo(P.sizeExceed,8003,P[Wo]),P.failedEvts&&P.failedEvts[Ve]>0&&xo(P.failedEvts,8002,P[Wo])}function Bt(P,U){y&&ne(P,function(j){var Y=j[Jw]=j[Jw]||{};Je(Y,"sendEventCompleted",U)})}function Wn(P,U,j,Y){var J=9e3,re=null,Q=!1,M=!1;try{var W=!0;if(typeof P!==Gs){if(U){c[Vw](U[NO]);var $=U[RO]||U["kill-duration-seconds"];ne(s[jD](U[d5],$),function(ce){ne(j[Gr],function(xe){if(xe[Hi]()===ce){re=re||[];var je=xe[_s](0);j.numEvents-=je[En](),re[dr](je)}})})}if(P==200||P==204){J=200;return}(!T5(P)||j.numEvents<=0)&&(W=!1),J=9e3+P%1e3}if(W){J=100;var ie=j.retryCnt;j[Wo]===0&&(ie<r?(Q=!0,pd(function(){j[Wo]===0&&u--,be(j[Gr],ie+1,j[UD],T?2:j[Wo],5)},T,qD(ie))):(M=!0,T&&(J=8001)))}}finally{Q||(c[Vw](),vo(j,J,Y,M)),xo(re,8004,j[Wo])}}function vo(P,U,j,Y){try{Y&&d[HD]();var J=P[Gr];U===200&&(J=P.sentEvts||P[Gr],!Y&&!P[MD]&&d._clearBackOff(),Ji(J)),xo(J,U,P[Wo],!0)}finally{P[Wo]===0&&(u--,j!==5&&K.sendQueuedRequests(P[Wo],j))}}function Ji(P){if(y){var U=qo();ne(P,function(j){j&&j[En]()>0&&Bt(j[ma](),U)})}}function pd(P,U,j){U?P():B.set(P,j)}function hp(P){var U={};if(Ae(P)){var j=ut(P)[_s](/[\r\n]+/);ne(j,function(Y){if(Y){var J=Y.indexOf(": ");if(J!==-1){var re=ut(Y.substring(0,J))[Fh](),Q=ut(Y.substring(J+1));U[re]=Q}else U[ut(Y)]=1}})}return U}function gp(P){for(var U=0;U<P.batches[Ve];U++){var j=P[Gr][U].Msfpc();if(j)return encodeURIComponent(j)}return bs}function md(P){var U=A;try{for(var j=0;j<U[Ve];j++)try{U[j](P)}catch(J){le(f,1,519,"Response handler failed: "+J)}if(P){var Y=JSON.parse(P);ur(Y.webResult)&&ur(Y.webResult[Oh])&&E.set("MSFPC",Y.webResult[Oh],365*86400)}}catch{}}function xo(P,U,j,Y){if(P&&P[Ve]>0&&o){var J=o[tl(U)];if(J){var re=j!==0;ln(m,function(){return"HttpManager:_sendBatchesNotification"},function(){pd(function(){try{J.call(o,P,U,re,j)}catch(Q){le(f,1,74,"send request notification failed: "+Q)}},Y||re,0)},function(){return{batches:Ce(P),reason:U,isSync:re,sendSync:Y,sendType:j}},!re)}}}function tl(P){var U=Qhe[P];return ur(U)||(U=l5,P>=9e3&&P<=9999?U=c5:P>=8e3&&P<=8999?U=wD:P>=1e3&&P<=1999&&(U=a5)),U}})}return t.__ieDyn=1,t}()});function age(t){return t&&t[$D]}var nge,B5,rge,W5,Y5,oge,q5,ige,tF,Uf,fr,sge,V5,z5=H(()=>{Uo();Cr();Rf();gh();Re();IO();zO();H5();Ww();JO();XO();qh();nge=.25,B5=500,rge=20,W5=6,Y5=2,oge=4,q5=2,ige=1,tF=1e4,Uf="eventsDiscarded",fr=void 0,sge=co({eventsLimitInMem:{isVal:Iu,v:tF},immediateEventLimit:{isVal:Iu,v:500},autoFlushEventsLimit:{isVal:Iu,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:age,v:fr},overrideInstrumentationKey:fr,overrideEndpointUrl:fr,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:fr,clearTimeoutOverride:fr,payloadPreprocessor:fr,payloadListener:fr,disableEventTimings:fr,valueSanitizer:fr,stringifyObjects:fr,enableCompoundKey:fr,disableOptimizeObj:!1,transports:fr,unloadTransports:fr,useSendBeacon:fr,disableFetchKeepAlive:fr,avoidOptions:!1,xhrTimeout:fr,disableXhrSync:fr,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:cr,v:W5},maxUnloadEventRetryAttempts:{isVal:cr,v:Y5},addNoResponse:fr});V5=function(t){Fo(e,t);function e(){var n=t.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="4.0.4";var r,o=!1,i=[],s,a=!1,c=0,l,u=0,d,f={},p=Nf,m,h,v,g,w,x,y,E,T,k,R,b,I,_,D,S,C,L,A,N,B,K;return tt(e,n,function(q,X){z(),q._getDbgPlgTargets=function(){return[w,r]},q[Mh]=function(M,W,$){ln(W,function(){return"PostChannel:initialize"},function(){X[Mh](M,W,$),A=W.getNotifyMgr();try{D=gi(_r(q[Xw]),W.evtNamespace&&W.evtNamespace()),q._addHook(On(M,function(ie){var ce=ie.cfg,xe=mo(null,ce,W);r=xe.getExtCfg(q[Xw],sge),S=Yh(r[kD],r[RD]),R=!r[w5]&&pD(),C=r[y5],De(W),d=r[YO],l=r.immediateEventLimit,y=r[VO],I=r.maxEventRetryAttempts,_=r.maxUnloadEventRetryAttempts,L=r[E5],Q(),B=r[C5],K=!!r[b5],N&&ue();var je=ce.disablePageUnloadEvents||[];N=Fw(Le,je,D),N=Rh(Le,je,D)||N,N=Nh(ft,ce.disablePageShowEvents,D)||N})),w[Mh](M,q.core,q)}catch(ie){throw q.setInitialized(!1),ie}},function(){return{theConfig:M,core:W,extensions:$}})},q.processTelemetry=function(M,W){Bw(M,q[Xw]),W=W||q._getTelCtx(W);var $=M;!K&&!o&&(B&&($[Hi]=B),nt($,!0),b?Ce(2,2):Te()),q.processNext($,W)},q._doTeardown=function(M,W){Ce(2,2),o=!0,w.teardown(),ue(),z()};function ue(){Uw(null,D),Mw(null,D),$w(null,D)}function De(M){var W=M[Bh];M[Bh]=function(){var $=0;return C&&($=$|2),$|W.call(M)}}function Le(M){var W=M||cn().event;W.type!=="beforeunload"&&(b=!0,w[Kw](b)),Ce(2,2)}function ft(M){b=!1,w[Kw](b)}function nt(M,W){if(M[Zw]||(M[Zw]=0),M[Tu]||(M[Tu]=1),M.ext&&M.ext[OO]&&delete M.ext[OO],M.ext&&M.ext[SD]&&M.ext[SD].id&&delete M.ext[SD].id,R&&(M.ext=$i(M.ext),M[BD]&&(M[BD]=$i(M[BD])),M[Ss]&&(M[Ss]=$i(M[Ss]))),M[Af]){if(v||a)M[Tu]=3,M[Af]=!1;else if(w){R&&(M=$i(M)),w[OD](Wh.create(M[Hi],[M]),M[Af]===!0?1:M[Af],3);return}}var $=M[Tu],ie=u,ce=d;$===4&&(ie=c,ce=l);var xe=!1;if(ie<ce)xe=!Et(M,W);else{var je=1,et=rge;$===4&&(je=4,et=1),xe=!0,Bt(M[Hi],M[Tu],je,et)&&(xe=!Et(M,W))}xe&&tl(Uf,[M],vs.QueueFull)}q.setEventQueueLimits=function(M,W){r[YO]=d=Iu(M)?M:tF,r[VO]=y=Iu(W)?W:0,Q();var $=u>M;if(!$&&E>0)for(var ie=1;!$&&ie<=3;ie++){var ce=x[ie];ce&&ce[Gr]&&ne(ce[Gr],function(xe){xe&&xe[En]()>=E&&($=!0)})}Je(!0,$)},q.pause=function(){pe(),a=!0,w.pause()},q.resume=function(){a=!1,w.resume(),Te()},q._loadTransmitProfiles=function(M){hp(),de(M,function(W,$){var ie=$[Ve];if(ie>=2){var ce=ie>2?$[2]:0;if($[Lf](0,ie-2),$[1]<0&&($[0]=-1),$[1]>0&&$[0]>0){var xe=$[0]/$[1];$[0]=Math.ceil(xe)*$[1]}ce>=0&&$[1]>=0&&ce>$[1]&&(ce=$[1]),$[dr](ce),f[W]=$}})},q.flush=function(M,W,$){M===void 0&&(M=!0);var ie;if(!a)if($=$||1,M)W||(ie=po(function(xe){W=xe})),s==null?(pe(),vo(1,0,$),s=se(function(){s=null,Ji(W,$)},0)):i[dr](W);else{var ce=pe();at(1,1,$),W&&W(),ce&&Te()}return ie},q.setMsaAuthTicket=function(M){w.addHeader(qw,M)},q.hasEvents=Ye,q._setTransmitProfile=function(M){p!==M&&f[M]!==void 0&&(pe(),p=M,Te())},pi(q,function(){return w},["addResponseHandler"]);function at(M,W,$){var ie=vo(M,W,$);return w[Hh](W,$),ie}function Ye(){return u>0}function Te(){if(T>=0&&vo(T,0,k)&&w[Hh](0,k),c>0&&!h&&!a){var M=f[p][2];M>=0&&(h=se(function(){h=null,at(4,0,1),Te()},M))}var W=f[p][1];!m&&!s&&W>=0&&!a&&(Ye()?m=se(function(){m=null,at(g===0?3:1,0,1),g++,g%=2,Te()},W):g=0)}q[HD]=function(){v<oge&&(v++,pe(),Te())},q._clearBackOff=function(){v&&(v=0,pe(),Te())};function z(){r=null,o=!1,i=[],s=null,a=!1,c=0,l=500,u=0,d=tF,f={},p=Nf,m=null,h=null,v=0,g=0,x={},y=0,N=!1,E=0,T=-1,k=null,R=!0,b=!1,I=W5,_=Y5,D=null,B=null,K=!1,S=Yh(),w=new j5(B5,q5,ige,{requeue:md,send:U,sent:j,drop:Y,rspFail:J,oth:re}),gp(),be(),Q()}function se(M,W){W===0&&v&&(W=1);var $=1e3;return v&&($=qD(v-1)),S.set(M,W*$)}function pe(){return m!==null?(m.cancel(),m=null,g=0,!0):!1}function Ce(M,W){pe(),s&&(s.cancel(),s=null),a||at(1,M,W)}function be(){x[4]={batches:[],iKeyMap:{}},x[3]={batches:[],iKeyMap:{}},x[2]={batches:[],iKeyMap:{}},x[1]={batches:[],iKeyMap:{}}}function rt(M,W,$){var ie=x[W];ie||(W=1,ie=x[W]);var ce=ie.iKeyMap[M];return!ce&&$&&(ce=Wh.create(M),ie.batches[dr](ce),ie.iKeyMap[M]=ce),ce}function Je(M,W){w[Gw]()&&!v&&(y>0&&u>y&&(W=!0),W&&s==null&&q.flush(M,function(){},20))}function Et(M,W){R&&(M=$i(M));var $=M[Tu],ie=rt(M[Hi],$,!0);return ie.addEvent(M)?($!==4?(u++,W&&M[Zw]===0&&Je(!M.sync,E>0&&ie[En]()>=E)):c++,!0):!1}function Bt(M,W,$,ie){for(;$<=W;){var ce=rt(M,W,!0);if(ce&&ce[En]()>0){var xe=ce[_s](0,ie),je=xe[En]();if(je>0)return $===4?c-=je:u-=je,P(Uf,[xe],vs.QueueFull),!0}$++}return Wn(),!1}function Wn(){for(var M=0,W=0,$=function(ce){var xe=x[ce];xe&&xe[Gr]&&ne(xe[Gr],function(je){ce===4?M+=je[En]():W+=je[En]()})},ie=1;ie<=4;ie++)$(ie);u=W,c=M}function vo(M,W,$){var ie=!1,ce=W===0;return!ce||w[Gw]()?ln(q.core,function(){return"PostChannel._queueBatches"},function(){for(var xe=[],je=4;je>=M;){var et=x[je];et&&et.batches&&et.batches[Ve]>0&&(ne(et[Gr],function(Xe){w.addBatch(Xe)?ie=ie||Xe&&Xe[En]()>0:xe=xe[ji](Xe[ma]()),je===4?c-=Xe[En]():u-=Xe[En]()}),et[Gr]=[],et.iKeyMap={}),je--}xe[Ve]>0&&tl(Uf,xe,vs.KillSwitch),ie&&T>=M&&(T=-1,k=0)},function(){return{latency:M,sendType:W,sendReason:$}},!ce):(T=T>=0?Math.min(T,M):M,k=Math.max(k,$)),ie}function Ji(M,W){at(1,0,W),Wn(),pd(function(){M&&M(),i[Ve]>0?s=se(function(){s=null,Ji(i.shift(),W)},0):(s=null,Te())})}function pd(M){w[AD]()?M():s=se(function(){s=null,pd(M)},nge)}function hp(){pe(),gp(),p=Nf,Te()}function gp(){f={},f[Nf]=[2,1,0],f[gD]=[6,3,0],f[vD]=[18,9,0]}function md(M,W){var $=[],ie=I;b&&(ie=_),ne(M,function(ce){ce&&ce[En]()>0&&ne(ce[ma](),function(xe){xe&&(xe[Af]&&(xe[Tu]=4,xe[Af]=!1),xe[Zw]<ie?(Bw(xe,q[Xw]),nt(xe,!1)):$[dr](xe))})}),$[Ve]>0&&tl(Uf,$,vs.NonRetryableStatus),b&&Ce(2,2)}function xo(M,W){var $=A||{},ie=$[M];if(ie)try{ie.apply($,W)}catch(ce){le(q.diagLog(),1,74,M+" notification failed: "+ce)}}function tl(M,W){for(var $=[],ie=2;ie<arguments.length;ie++)$[ie-2]=arguments[ie];W&&W[Ve]>0&&xo(M,[W][ji]($))}function P(M,W){for(var $=[],ie=2;ie<arguments.length;ie++)$[ie-2]=arguments[ie];W&&W[Ve]>0&&ne(W,function(ce){ce&&ce[En]()>0&&xo(M,[ce.events()][ji]($))})}function U(M,W,$){M&&M[Ve]>0&&xo("eventsSendRequest",[W>=1e3&&W<=1999?W-1e3:0,$!==!0])}function j(M,W){P("eventsSent",M,W),Te()}function Y(M,W){P(Uf,M,W>=8e3&&W<=8999?W-8e3:vs.Unknown)}function J(M){P(Uf,M,vs.NonRetryableStatus),Te()}function re(M,W){P(Uf,M,vs.Unknown),Te()}function Q(){L?E=0:E=Math.max(B5*(q5+1),d/6)}}),n}return e.__ieDyn=1,e}(Nc)});var G5={};zg(G5,{BE_PROFILE:()=>vD,NRT_PROFILE:()=>gD,PostChannel:()=>V5,RT_PROFILE:()=>Nf});var K5=H(()=>{IO();z5()});var X5=F(ga=>{"use strict";var cge=ga&&ga.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),lge=ga&&ga.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),J5=ga&&ga.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&cge(e,t,n);return lge(e,t),e};Object.defineProperty(ga,"__esModule",{value:!0});ga.oneDataSystemClientFactory=void 0;var uge=async(t,e,n)=>{let r=await Promise.resolve().then(()=>J5((Rf(),Gg(i5)))),o=await Promise.resolve().then(()=>J5((K5(),Gg(G5)))),i=new r.AppInsightsCore,s=new o.PostChannel,a={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){a.extensionConfig={};let u={alwaysUseXhrOverride:!0,httpXHROverride:n};a.extensionConfig[s.identifier]=u}let l=e.workspace.getConfiguration("telemetry").get("internalTesting");return i.initialize(a,[]),i.addTelemetryInitializer(u=>{l&&(u.ext=u.ext??{},u.ext.utc=u.ext.utc??{},u.ext.utc.flags=8462029)}),i},dge=async(t,e,n)=>{let r=await uge(t,e,n);return{logEvent:(s,a)=>{try{r==null||r.track({name:s,baseData:{name:s,properties:a==null?void 0:a.properties,measurements:a==null?void 0:a.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!r){a();return}r.flush(!0,l=>{if(!l){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!r){a();return}r.unload(!1,()=>{a(),r=void 0},1e3)})}};ga.oneDataSystemClientFactory=dge});var zh,Gh,Kh,Qw,ku,va,Zn,YD,Bi=H(()=>{zh="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Gh="sampleRate",Kh="ProcessLegacy",Qw="http.method",ku="https://dc.services.visualstudio.com",va="/v2/track",Zn="not_specified",YD="iKey"});var Uc,nF=H(()=>{vt();Uc=sA({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]})});var Mc,Ue,xa,Ru,$c,VD,Fn,Ds,Nu,zD,GD,KD,rF,JD,XD,Mf,Jh,oF,ey,$f,qi,Kr,Jr,jf,wa,Hf,ZD,QD,iF,Bf,Lu,ty,ny,qf,Xh,Wf,sF,pr=H(()=>{Mc="split",Ue="length",xa="toLowerCase",Ru="ingestionendpoint",$c="toString",VD="removeItem",Fn="name",Ds="message",Nu="count",zD="preTriggerDate",GD="disabled",KD="interval",rF="daysOfMonth",JD="date",XD="getUTCDate",Mf="stringify",Jh="pathname",oF="correlationHeaderExcludePatterns",ey="extensionConfig",$f="exceptions",qi="parsedStack",Kr="properties",Jr="measurements",jf="sizeInBytes",wa="typeName",Hf="severityLevel",ZD="problemGroup",QD="isManual",iF="CreateFromInterface",Bf="assembly",Lu="fileName",ty="hasFullStack",ny="level",qf="method",Xh="line",Wf="duration",sF="receivedResponse"});function e0(t,e,n){var r=e[Ue],o=aF(t,e);if(o[Ue]!==r){for(var i=0,s=o;n[s]!==void 0;)i++,s=an(o,0,150-3)+cF(i);o=s}return o}function aF(t,e){var n;return e&&(e=ut(Rn(e)),e[Ue]>150&&(n=an(e,0,150),le(t,2,57,"name is too long.  It has been truncated to 150 characters.",{name:e},!0))),n||e}function yt(t,e,n){n===void 0&&(n=1024);var r;return e&&(n=n||1024,e=ut(Rn(e)),e[Ue]>n&&(r=an(e,0,n),le(t,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:e},!0))),r||e}function Au(t,e){return r0(t,e,2048,66)}function Zh(t,e){var n;return e&&e[Ue]>32768&&(n=an(e,0,32768),le(t,2,56,"message is too long, it has been truncated to 32768 characters.",{message:e},!0)),n||e}function t0(t,e){var n;if(e){var r=""+e;r[Ue]>32768&&(n=an(r,0,32768),le(t,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0))}return n||e}function Xr(t,e){if(e){var n={};de(e,function(r,o){if(Pt(o)&&ia())try{o=br()[Mf](o)}catch(i){le(t,2,49,"custom property is not valid",{exception:i},!0)}o=yt(t,o,8192),r=e0(t,r,n),n[r]=o}),e=n}return e}function Zr(t,e){if(e){var n={};de(e,function(r,o){r=e0(t,r,n),n[r]=o}),e=n}return e}function n0(t,e){return e&&r0(t,e,128,69)[$c]()}function r0(t,e,n,r){var o;return e&&(e=ut(Rn(e)),e[Ue]>n&&(o=an(e,0,n),le(t,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:e},!0))),o||e}function cF(t){var e="00"+t;return hs(e,e[Ue]-3)}var Wi=H(()=>{vt();Re();pr()});function Yf(t){var e=Q5,n=fge,r=n[e];return Z5.createElement?n[e]||(r=n[e]=Z5.createElement("a")):r={host:lF(t,!0)},r.href=t,e++,e>=n[Ue]&&(e=0),Q5=e,r}function eK(t){var e,n=Yf(t);return n&&(e=n.href),e}function tK(t){var e,n=Yf(t);return n&&(e=n[Jh]),e}function nK(t,e){return t?t.toUpperCase()+" "+e:e}function lF(t,e){var n=ry(t,e)||"";if(n){var r=n.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[Ue]>3&&Ae(r[2])&&r[2][Ue]>0)return r[2]+(r[3]||"")}return n}function ry(t,e){var n=null;if(t){var r=t.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(r!=null&&r[Ue]>2&&Ae(r[2])&&r[2][Ue]>0&&(n=r[2]||"",e&&r[Ue]>2)){var o=(r[1]||"")[xa](),i=r[3]||"";(o==="http"&&i===":80"||o==="https"&&i===":443")&&(i=""),n+=i}}return n}var Z5,Q5,fge,uF=H(()=>{vt();pr();Z5=Zt()||{},Q5=0,fge=[null,null,null,null,null]});function Qh(t){return ct(pge,t[xa]())!==-1}function rK(t){dF=t}function oK(){return dF}function iK(t,e,n){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t[oF]){for(var r=0;r<t.correlationHeaderExcludePatterns[Ue];r++)if(t[oF][r].test(e))return!1}var o=Yf(e).host[xa]();if(o&&(fo(o,":443")!==-1||fo(o,":80")!==-1)&&(o=(ry(e,!0)||"")[xa]()),(!t||!t.enableCorsCorrelation)&&o&&o!==n)return!1;var i=t&&t.correlationHeaderDomains;if(i){var s;if(ne(i,function(l){var u=new RegExp(l.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||u.test(o)}),!s)return!1}var a=t&&t.correlationHeaderExcludedDomains;if(!a||a[Ue]===0)return!0;for(var r=0;r<a[Ue];r++){var c=new RegExp(a[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(o))return!1}return o&&o[Ue]>0}function sK(t){if(t){var e=fF(t,Uc[1]);if(e&&e!==dF)return e}}function fF(t,e){if(t)for(var n=t[Mc](","),r=0;r<n[Ue];++r){var o=n[r][Mc]("=");if(o[Ue]===2&&o[0]===e)return o[1]}}function aK(t,e,n,r){var o,i=r,s=r;if(e&&e[Ue]>0){var a=Yf(e);if(o=a.host,!i)if(a[Jh]!=null){var c=a.pathname[Ue]===0?"/":a[Jh];c.charAt(0)!=="/"&&(c="/"+c),s=a[Jh],i=yt(t,n?n+" "+c:c)}else i=yt(t,e)}else o=r,i=r;return{target:o,name:i,data:s}}function cK(){var t=wc();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return Qt()}function lK(t,e){var n=null;return t!==0&&e!==0&&!te(t)&&!te(e)&&(n=e-t),n}function uK(t,e){var n=t||{};return{getName:function(){return n[Fn]},setName:function(r){e&&e.setName(r),n[Fn]=r},getTraceId:function(){return n.traceID},setTraceId:function(r){e&&e.setTraceId(r),ca(r)&&(n.traceID=r)},getSpanId:function(){return n.parentID},setSpanId:function(r){e&&e.setSpanId(r),la(r)&&(n.parentID=r)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(r){e&&e.setTraceFlags(r),n.traceFlags=r}}}var pge,dF,pF=H(()=>{vt();Re();Bi();nF();Wi();uF();pr();pge=[ku+va,"https://breeze.aimon.applicationinsights.io"+va,"https://dc-int.services.visualstudio.com"+va],dF="cid-v1:"});var eg,dK,mF=H(()=>{vt();eg=lr({LocalStorage:0,SessionStorage:1}),dK=lr({AI:0,AI_AND_W3C:1,W3C:2})});function hF(){return tg()?o0(eg.LocalStorage):null}function o0(t){try{if(te(Vr()))return null;var e=new Date()[$c](),n=At(t===eg.LocalStorage?"localStorage":"sessionStorage"),r=fK+e;n.setItem(r,e);var o=n.getItem(r)!==e;if(n[VD](r),!o)return n}catch{}return null}function gF(){return Vf()?o0(eg.SessionStorage):null}function pK(){Ou=!1,Fu=!1}function i0(t){fK=t||""}function mK(){Ou=tg(!0),Fu=Vf(!0)}function tg(t){return(t||Ou===void 0)&&(Ou=!!o0(eg.LocalStorage)),Ou}function s0(t,e){var n=hF();if(n!==null)try{return n.getItem(e)}catch(r){Ou=!1,le(t,2,1,"Browser failed read of local storage. "+Ft(r),{exception:fe(r)})}return null}function a0(t,e,n){var r=hF();if(r!==null)try{return r.setItem(e,n),!0}catch(o){Ou=!1,le(t,2,3,"Browser failed write to local storage. "+Ft(o),{exception:fe(o)})}return!1}function hK(t,e){var n=hF();if(n!==null)try{return n[VD](e),!0}catch(r){Ou=!1,le(t,2,5,"Browser failed removal of local storage item. "+Ft(r),{exception:fe(r)})}return!1}function Vf(t){return(t||Fu===void 0)&&(Fu=!!o0(eg.SessionStorage)),Fu}function gK(){var t=[];return Vf()&&de(At("sessionStorage"),function(e){t.push(e)}),t}function c0(t,e){var n=gF();if(n!==null)try{return n.getItem(e)}catch(r){Fu=!1,le(t,2,2,"Browser failed read of session storage. "+Ft(r),{exception:fe(r)})}return null}function l0(t,e,n){var r=gF();if(r!==null)try{return r.setItem(e,n),!0}catch(o){Fu=!1,le(t,2,4,"Browser failed write to session storage. "+Ft(o),{exception:fe(o)})}return!1}function vK(t,e){var n=gF();if(n!==null)try{return n[VD](e),!0}catch(r){Fu=!1,le(t,2,6,"Browser failed removal of session storage item. "+Ft(r),{exception:fe(r)})}return!1}var Ou,Fu,fK,vF=H(()=>{vt();mF();pr();Ou=void 0,Fu=void 0,fK=""});var mge,xK,wK=H(()=>{vt();Re();vF();pr();mge="appInsightsThrottle",xK=function(){function t(e,n){var r=this,o,i,s,a,c,l,u,d=!1,f=!1;m(),r._getDbgPlgTargets=function(){return[u]},r.getConfig=function(){return s},r.canThrottle=function(C){var L=_(C),A=h(C);return w(A,o,L)},r.isTriggered=function(C){return D(C)},r.isReady=function(){return d},r.flush=function(C){try{var L=S(C);if(L&&L[Ue]>0){var A=L.slice(0);return u[C]=[],ne(A,function(N){p(N.msgID,N[Ds],N.severity,!1)}),!0}}catch{}return!1},r.flushAll=function(){try{if(u){var C=!0;return de(u,function(L){var A=r.flush(parseInt(L));C=C&&A}),C}}catch{}return!1},r.onReadyState=function(C,L){return L===void 0&&(L=!0),d=te(C)?!0:C,d&&L?r.flushAll():null},r.sendMessage=function(C,L,A){return p(C,L,A,!0)};function p(C,L,A,N){if(d){var B=I(C);if(!B)return;var K=h(C),q=_(C),X=w(K,o,q),ue=!1,De=0,Le=D(C);try{X&&!Le?(De=Math.min(K.limit.maxSendNumber,q[Nu]+1),q[Nu]=0,ue=!0,c[C]=!0,q[zD]=new Date):(c[C]=X,q[Nu]+=1);var ft=x(C);k(i,ft,q);for(var nt=0;nt<De;nt++)b(C,i,L,A)}catch{}return{isThrottled:ue,throttleNum:De}}else if(N){var at=S(C);at.push({msgID:C,message:L,severity:A})}return null}function m(){i=Cs(e),c={},a={},u={},s={},v(109),l=oa(n)?n:"",e.addUnloadHook(On(e.config,function(C){var L=C.cfg;o=tg();var A=L.throttleMgrCfg||{};de(A,function(N,B){v(parseInt(N),B)})}))}function h(C){return s[C]||s[109]}function v(C,L){var A,N;try{var B=L||{},K={};K[GD]=!!B[GD];var q=B[KD]||{};f=(q==null?void 0:q.daysOfMonth)&&(q==null?void 0:q.daysOfMonth[Ue])>0,K[KD]=g(q);var X={samplingRate:((A=B.limit)===null||A===void 0?void 0:A.samplingRate)||100,maxSendNumber:((N=B.limit)===null||N===void 0?void 0:N.maxSendNumber)||1};K.limit=X,s[C]=K}catch{}}function g(C){C=C||{};var L=C==null?void 0:C.monthInterval,A=C==null?void 0:C.dayInterval;return te(L)&&te(A)&&(C.monthInterval=3,f||(C[rF]=[28],f=!0)),C={monthInterval:C==null?void 0:C.monthInterval,dayInterval:C==null?void 0:C.dayInterval,daysOfMonth:C==null?void 0:C.daysOfMonth},C}function w(C,L,A){if(C&&!C[GD]&&L&&oa(A)){var N=T(),B=A[JD],K=C[KD],q=1;if(K!=null&&K.monthInterval){var X=(N.getUTCFullYear()-B.getUTCFullYear())*12+N.getUTCMonth()-B.getUTCMonth();q=R(K.monthInterval,0,X)}var ue=1;if(f)ue=ct(K[rF],N[XD]());else if(K!=null&&K.dayInterval){var De=Math.floor((N.getTime()-B.getTime())/864e5);ue=R(K.dayInterval,0,De)}return q>=0&&ue>=0}return!1}function x(C,L){var A=oa(L)?L:"";return C?mge+A+"-"+C:null}function y(C){try{if(C){var L=new Date;return C.getUTCFullYear()===L.getUTCFullYear()&&C.getUTCMonth()===L.getUTCMonth()&&C[XD]()===L[XD]()}}catch{}return!1}function E(C,L,A){try{var N={date:T(),count:0};if(C){var B=JSON.parse(C),K={date:T(B[JD])||N[JD],count:B[Nu]||N[Nu],preTriggerDate:B.preTriggerDate?T(B[zD]):void 0};return K}else return k(L,A,N),N}catch{}return null}function T(C){try{if(C){var L=new Date(C);if(!isNaN(L.getDate()))return L}else return new Date}catch{}return null}function k(C,L,A){try{return a0(C,L,ut(JSON[Mf](A)))}catch{}return!1}function R(C,L,A){return C<=0?1:A>=L&&(A-L)%C==0?Math.floor((A-L)/C)+1:-1}function b(C,L,A,N){le(L,N||1,C,A)}function I(C){try{var L=h(C);return hw(1e6)<=L.limit.samplingRate}catch{}return!1}function _(C){try{var L=a[C];if(!L){var A=x(C,l);L=E(s0(i,A),i,A),a[C]=L}return a[C]}catch{}return null}function D(C){var L=c[C];if(te(L)){L=!1;var A=_(C);A&&(L=y(A[zD])),c[C]=L}return c[C]}function S(C){return u=u||{},te(u[C])&&(u[C]=[]),u[C]}}return t}()});function oy(t){if(!t)return{};var e=t[Mc](hge),n=Qm(e,function(o,i){var s=i[Mc](gge);if(s[Ue]===2){var a=s[0][xa](),c=s[1];o[a]=c}return o},{});if(Kn(n)[Ue]>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n[Ru]=n[Ru]||"https://"+r+"dc."+n.endpointsuffix}n[Ru]=n[Ru]||ku,ru(n[Ru],"/")&&(n[Ru]=n[Ru].slice(0,-1))}return n}var hge,gge,yK,EK=H(()=>{vt();Bi();pr();hge=";",gge="=";yK={parse:oy}});var u0,CK=H(()=>{vt();Bi();pr();Wi();u0=function(){function t(e,n,r){var o=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i[Fn]=yt(e,r)||Zn,i.data=n,i.time=fi(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return o.sampleRate===100?4:1},tags:1,data:1}}return t}()});var ya,bK=H(()=>{Bi();pr();Wi();ya=function(){function t(e,n,r,o){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i[Fn]=yt(e,n)||Zn,i[Kr]=Xr(e,r),i[Jr]=Zr(e,o)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}()});function EF(t,e){var n=t;return n&&!Ae(n)&&(JSON&&JSON[Mf]?(n=JSON[Mf](t),e&&(!n||n==="{}")&&(Ne(t[$c])?n=t[$c]():n=""+t)):n=""+t+" - (Missing JSON.stringify)"),n||""}function PK(t,e){var n=t;return t&&(n&&!Ae(n)&&(n=t[yF]||t[IK]||n),n&&!Ae(n)&&(n=EF(n,!0)),t.filename&&(n=n+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&fo(n||"",e)===-1&&(n=e+": "+n),n||""}function xge(t){try{if(Pt(t))return"hasFullStack"in t&&"typeName"in t}catch{}return!1}function wge(t){try{if(Pt(t))return"ver"in t&&"exceptions"in t&&"properties"in t}catch{}return!1}function SK(t){return t&&t.src&&Ae(t.src)&&t.obj&&he(t.obj)}function zf(t){var e=t||"";Ae(e)||(Ae(e[Yo])?e=e[Yo]:e=""+e);var n=e[Mc](`
`);return{src:e,obj:n}}function yge(t){for(var e=[],n=t[Mc](`
`),r=0;r<n[Ue];r++){var o=n[r];n[r+1]&&(o+="@"+n[r+1],r++),e.push(o)}return{src:t,obj:e}}function TK(t){var e=null;if(t)try{if(t[Yo])e=zf(t[Yo]);else if(t[ng]&&t[ng][Yo])e=zf(t[ng][Yo]);else if(t.exception&&t.exception[Yo])e=zf(t.exception[Yo]);else if(SK(t))e=t;else if(SK(t[wF]))e=t[wF];else if(cn()&&cn().opera&&t[yF])e=yge(t[Ds]);else if(t.reason&&t.reason[Yo])e=zf(t.reason[Yo]);else if(Ae(t))e=zf(t);else{var n=t[yF]||t[IK]||"";Ae(t[_K])&&(n&&(n+=`
`),n+=" from "+t[_K]),n&&(e=zf(n))}}catch(r){e=zf(r)}return e||{src:"",obj:null}}function Ege(t){var e="";return t&&(t.obj?ne(t.obj,function(n){e+=n+`
`}):e=t.src||""),e}function Cge(t){var e,n=t.obj;if(n&&n[Ue]>0){e=[];var r=0,o=0;ne(n,function(m){var h=m[$c]();if(CF.regex.test(h)){var v=new CF(h,r++);o+=v[jf],e.push(v)}});var i=32*1024;if(o>i)for(var s=0,a=e[Ue]-1,c=0,l=s,u=a;s<a;){var d=e[s][jf],f=e[a][jf];if(c+=d+f,c>i){var p=u-l+1;e.splice(l,p);break}l=s,u=a,s++,a--}}return e}function d0(t){var e="";if(t&&(e=t.typeName||t[Fn]||"",!e))try{var n=/function (.{1,200})\(/,r=n.exec(t.constructor[$c]());e=r&&r[Ue]>1?r[1]:""}catch{}return e}function xF(t){if(t)try{if(!Ae(t)){var e=d0(t),n=EF(t,!1);return(!n||n==="{}")&&(t[ng]&&(t=t[ng],e=d0(t)),n=EF(t,!0)),fo(n,e)!==0&&e!=="String"?e+":"+n:n}}catch{}return""+(t||"")}var vge,ng,Yo,wF,_K,yF,IK,Uu,DK,CF,kK=H(()=>{Uo();vt();Re();Bi();pr();Wi();vge="<no_method>",ng="error",Yo="stack",wF="stackDetails",_K="errorSrc",yF="message",IK="description";Uu=function(){function t(e,n,r,o,i,s){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,wge(n)?(a[$f]=n[$f]||[],a[Kr]=n[Kr],a[Jr]=n[Jr],n[Hf]&&(a[Hf]=n[Hf]),n.id&&(a.id=n.id),n[ZD]&&(a[ZD]=n[ZD]),te(n[QD])||(a[QD]=n[QD])):(r||(r={}),a[$f]=[new DK(e,n,r)],a[Kr]=Xr(e,r),a[Jr]=Zr(e,o),i&&(a[Hf]=i),s&&(a.id=s))}return t.CreateAutoException=function(e,n,r,o,i,s,a,c){var l,u=d0(i||s||e);return l={},l[Ds]=PK(e,u),l.url=n,l.lineNumber=r,l.columnNumber=o,l.error=xF(i||s||e),l.evt=xF(s||e),l[wa]=u,l.stackDetails=TK(a||i||s),l.errorSrc=c,l},t.CreateFromInterface=function(e,n,r,o){var i=n[$f]&&Xs(n[$f],function(a){return DK[iF](e,a)}),s=new t(e,Fi(Fi({},n),{exceptions:i}),r,o);return s},t.prototype.toInterface=function(){var e,n=this,r=n.exceptions,o=n.properties,i=n.measurements,s=n.severityLevel,a=n.problemGroup,c=n.id,l=n.isManual,u=r instanceof Array&&Xs(r,function(d){return d.toInterface()})||void 0;return e={ver:"4.0"},e[$f]=u,e.severityLevel=s,e.properties=o,e.measurements=i,e.problemGroup=a,e.id=c,e.isManual=l,e},t.CreateSimpleException=function(e,n,r,o,i,s){var a;return{exceptions:[(a={},a[ty]=!0,a.message=e,a.stack=i,a.typeName=n,a)]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=xF,t}(),DK=function(){function t(e,n,r){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var o=this;if(xge(n))o[wa]=n[wa],o[Ds]=n[Ds],o[Yo]=n[Yo],o[qi]=n[qi]||[],o[ty]=n[ty];else{var i=n,s=i&&i.evt;Ks(i)||(i=i[ng]||s||i),o[wa]=yt(e,d0(i))||Zn,o[Ds]=Zh(e,PK(n||i,o[wa]))||Zn;var a=n[wF]||TK(n);o[qi]=Cge(a),he(o[qi])&&Xs(o[qi],function(c){c[Bf]=yt(e,c[Bf]),c[Lu]=yt(e,c[Lu])}),o[Yo]=t0(e,Ege(a)),o.hasFullStack=he(o.parsedStack)&&o.parsedStack[Ue]>0,r&&(r[wa]=r[wa]||o[wa])}}return t.prototype.toInterface=function(){var e,n=this,r=n[qi]instanceof Array&&Xs(n[qi],function(i){return i.toInterface()}),o=(e={id:n.id,outerId:n.outerId,typeName:n[wa],message:n[Ds],hasFullStack:n[ty],stack:n[Yo]},e[qi]=r||void 0,e);return o},t.CreateFromInterface=function(e,n){var r=n[qi]instanceof Array&&Xs(n[qi],function(i){return CF[iF](i)})||n[qi],o=new t(e,Fi(Fi({},n),{parsedStack:r}));return o},t}(),CF=function(){function t(e,n){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r=this;if(r[jf]=0,typeof e=="string"){var o=e;r[ny]=n,r[qf]=vge,r[Bf]=ut(o),r[Lu]="",r[Xh]=0;var i=o.match(t.regex);i&&i[Ue]>=5&&(r[qf]=ut(i[2])||r[qf],r[Lu]=ut(i[4]),r[Xh]=parseInt(i[5])||0)}else r[ny]=e[ny],r[qf]=e[qf],r[Bf]=e[Bf],r[Lu]=e[Lu],r[Xh]=e[Xh],r[jf]=0;r.sizeInBytes+=r.method[Ue],r.sizeInBytes+=r.fileName[Ue],r.sizeInBytes+=r.assembly[Ue],r[jf]+=t.baseSize,r.sizeInBytes+=r.level.toString()[Ue],r.sizeInBytes+=r.line.toString()[Ue]}return t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){var e=this;return{level:e[ny],method:e[qf],assembly:e[Bf],fileName:e[Lu],line:e[Xh]}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}()});var RK,NK=H(()=>{RK=function(){function t(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return t}()});var Ea,LK=H(()=>{Bi();pr();NK();Wi();Ea=function(){function t(e,n,r,o,i,s,a,c,l){this.aiDataContract={ver:1,metrics:1,properties:0};var u=this;u.ver=2;var d=new RK;d[Nu]=o>0?o:void 0,d.max=isNaN(s)||s===null?void 0:s,d.min=isNaN(i)||i===null?void 0:i,d[Fn]=yt(e,n)||Zn,d.value=r,d.stdDev=isNaN(a)||a===null?void 0:a,u.metrics=[d],u[Kr]=Xr(e,c),u[Jr]=Zr(e,l)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}()});function AK(t,e){return e===void 0&&(e=!1),t==null?e:t.toString()[xa]()==="true"}function rg(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=iy+t%1e3,n=iy+Math.floor(t/1e3)%60,r=iy+Math.floor(t/(1e3*60))%60,o=iy+Math.floor(t/(1e3*60*60))%24,i=Math.floor(t/(1e3*60*60*24));return e=e[Ue]===1?"00"+e:e[Ue]===2?"0"+e:e,n=n[Ue]<2?"0"+n:n,r=r[Ue]<2?"0"+r:r,o=o[Ue]<2?"0"+o:o,(i>0?i+".":iy)+o+":"+r+":"+n+"."+e}function OK(t,e){var n=null;return ne(t,function(r){if(r.identifier===e)return n=r,-1}),n}function FK(t,e,n,r,o){return!o&&Ae(t)&&(t==="Script error."||t==="Script error")}var iy,f0=H(()=>{vt();pr();iy=""});var Mu,UK=H(()=>{Bi();f0();pr();Wi();Mu=function(){function t(e,n,r,o,i,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=n0(e,a),c.url=Au(e,r),c[Fn]=yt(e,n)||Zn,isNaN(o)||(c[Wf]=rg(o)),c[Kr]=Xr(e,i),c[Jr]=Zr(e,s)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}()});var $u,MK=H(()=>{f0();pF();pr();Wi();$u=function(){function t(e,n,r,o,i,s,a,c,l,u,d,f){l===void 0&&(l="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var p=this;p.ver=2,p.id=n,p[Wf]=rg(i),p.success=s,p.resultCode=a+"",p.type=yt(e,l);var m=aK(e,r,c,o);p.data=Au(e,o)||m.data,p.target=yt(e,m.target),u&&(p.target="".concat(p.target," | ").concat(u)),p[Fn]=yt(e,m[Fn]),p[Kr]=Xr(e,d),p[Jr]=Zr(e,f)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}()});var ju,$K=H(()=>{Bi();pr();Wi();ju=function(){function t(e,n,r,o,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var s=this;s.ver=2,n=n||Zn,s[Ds]=Zh(e,n),s[Kr]=Xr(e,o),s[Jr]=Zr(e,i),r&&(s[Hf]=r)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}()});var Hu,jK=H(()=>{Bi();pr();Wi();Hu=function(){function t(e,n,r,o,i,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=Au(e,r),c[Fn]=yt(e,n)||Zn,c[Kr]=Xr(e,i),c[Jr]=Zr(e,s),a&&(c.domProcessing=a.domProcessing,c[Wf]=a[Wf],c.networkConnect=a.networkConnect,c.perfTotal=a.perfTotal,c[sF]=a[sF],c.sentRequest=a.sentRequest)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}()});var Ca,HK=H(()=>{Ca=function(){function t(e,n){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=n}return t}()});var p0,BK=H(()=>{vt();p0=lr({Verbose:0,Information:1,Warning:2,Error:3,Critical:4})});var qK,WK=H(()=>{vt();pr();qK=function(){function t(){}return t.getConfig=function(e,n,r,o){o===void 0&&(o=!1);var i;return r&&e[ey]&&e[ey][r]&&!te(e[ey][r][n])?i=e[ey][r][n]:i=e[n],te(i)?o:i},t}()});function qu(t){var e="ai."+t+".";return function(n){return e+n}}var sy,Qn,m0,og,bF,Bu,Gf,ay,ig,_F=H(()=>{Uo();vt();sy=qu("application"),Qn=qu("device"),m0=qu("location"),og=qu("operation"),bF=qu("session"),Bu=qu("user"),Gf=qu("cloud"),ay=qu("internal"),ig=function(t){Fo(e,t);function e(){return t.call(this)||this}return e}(bA({applicationVersion:sy("ver"),applicationBuild:sy("build"),applicationTypeId:sy("typeId"),applicationId:sy("applicationId"),applicationLayer:sy("layer"),deviceId:Qn("id"),deviceIp:Qn("ip"),deviceLanguage:Qn("language"),deviceLocale:Qn("locale"),deviceModel:Qn("model"),deviceFriendlyName:Qn("friendlyName"),deviceNetwork:Qn("network"),deviceNetworkName:Qn("networkName"),deviceOEMName:Qn("oemName"),deviceOS:Qn("os"),deviceOSVersion:Qn("osVersion"),deviceRoleInstance:Qn("roleInstance"),deviceRoleName:Qn("roleName"),deviceScreenResolution:Qn("screenResolution"),deviceType:Qn("type"),deviceMachineName:Qn("machineName"),deviceVMName:Qn("vmName"),deviceBrowser:Qn("browser"),deviceBrowserVersion:Qn("browserVersion"),locationIp:m0("ip"),locationCountry:m0("country"),locationProvince:m0("province"),locationCity:m0("city"),operationId:og("id"),operationName:og("name"),operationParentId:og("parentId"),operationRootId:og("rootId"),operationSyntheticSource:og("syntheticSource"),operationCorrelationVector:og("correlationVector"),sessionId:bF("id"),sessionIsFirst:bF("isFirst"),sessionIsNew:bF("isNew"),userAccountAcquisitionDate:Bu("accountAcquisitionDate"),userAccountId:Bu("accountId"),userAgent:Bu("userAgent"),userId:Bu("id"),userStoreRegion:Bu("storeRegion"),userAuthUserId:Bu("authUserId"),userAnonymousUserAcquisitionDate:Bu("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Bu("authUserAcquisitionDate"),cloudName:Gf("name"),cloudRole:Gf("role"),cloudRoleVer:Gf("roleVer"),cloudRoleInstance:Gf("roleInstance"),cloudEnvironment:Gf("environment"),cloudLocation:Gf("location"),cloudDeploymentUnit:Gf("deploymentUnit"),internalNodeName:ay("nodeName"),internalSdkVersion:ay("sdkVersion"),internalAgentVersion:ay("agentVersion"),internalSnippet:ay("snippet"),internalSdkSrc:ay("sdkSrc")}))});function SF(t,e,n,r,o,i){var s;n=yt(r,n)||Zn,(te(t)||te(e)||te(n))&&Xt("Input doesn't contain all required fields");var a="";t[YD]&&(a=t[YD],delete t[YD]);var c=(s={},s[Fn]=n,s.time=fi(new Date),s.iKey=a,s.ext=i||{},s.tags=[],s.data={},s.baseType=e,s.baseData=t,s);return te(o)||de(o,function(l,u){c.data[l]=u}),c}var YK,VK=H(()=>{vt();Bi();Wi();pr();YK=function(){function t(){}return t.create=SF,t}()});var zK,Un,GK=H(()=>{_F();zK={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Un=new ig});function KK(t){var e=null;if(Ne(Event))e=new Event(t);else{var n=Zt();n&&n.createEvent&&(e=n.createEvent("Event"),e.initEvent(t,!0,!0))}return e}var JK=H(()=>{vt()});var XK={};zg(XK,{AnalyticsPluginIdentifier:()=>_ge,BreezeChannelIdentifier:()=>DF,ConfigurationManager:()=>qK,ConnectionStringParser:()=>yK,ContextTagKeys:()=>ig,CtxTagKeys:()=>Un,DEFAULT_BREEZE_ENDPOINT:()=>ku,DEFAULT_BREEZE_PATH:()=>va,Data:()=>Ca,DisabledPropertyName:()=>zh,DistributedTracingModes:()=>dK,Envelope:()=>u0,Event:()=>ya,Exception:()=>Uu,Extensions:()=>zK,HttpMethod:()=>Qw,Metric:()=>Ea,PageView:()=>Mu,PageViewPerformance:()=>Hu,ProcessLegacy:()=>Kh,PropertiesPluginIdentifier:()=>bge,RemoteDependencyData:()=>$u,RequestHeaders:()=>Uc,SampleRate:()=>Gh,SeverityLevel:()=>p0,TelemetryItemCreator:()=>YK,ThrottleMgr:()=>xK,Trace:()=>ju,correlationIdCanIncludeCorrelationHeader:()=>iK,correlationIdGetCorrelationContext:()=>sK,correlationIdGetCorrelationContextValue:()=>fF,correlationIdGetPrefix:()=>oK,correlationIdSetPrefix:()=>rK,createDistributedTraceContextFromTrace:()=>uK,createDomEvent:()=>KK,createTelemetryItem:()=>SF,createTraceParent:()=>Tw,dataSanitizeException:()=>t0,dataSanitizeId:()=>n0,dataSanitizeInput:()=>r0,dataSanitizeKey:()=>aF,dataSanitizeKeyAndAddUniqueness:()=>e0,dataSanitizeMeasurements:()=>Zr,dataSanitizeMessage:()=>Zh,dataSanitizeProperties:()=>Xr,dataSanitizeString:()=>yt,dataSanitizeUrl:()=>Au,dateTimeUtilsDuration:()=>lK,dateTimeUtilsNow:()=>cK,dsPadNumber:()=>cF,findW3cTraceParent:()=>Nw,formatTraceParent:()=>Rw,getExtensionByName:()=>OK,isBeaconApiSupported:()=>mi,isCrossOriginError:()=>FK,isInternalApplicationInsightsEndpoint:()=>Qh,isSampledFlag:()=>kw,isValidSpanId:()=>la,isValidTraceId:()=>ca,isValidTraceParent:()=>Ph,msToTimeSpan:()=>rg,parseConnectionString:()=>oy,parseTraceParent:()=>If,strNotSpecified:()=>Zn,stringToBoolOrDefault:()=>AK,urlGetAbsoluteUrl:()=>eK,urlGetCompleteUrl:()=>nK,urlGetPathName:()=>tK,urlParseFullHost:()=>ry,urlParseHost:()=>lF,urlParseUrl:()=>Yf,utlCanUseLocalStorage:()=>tg,utlCanUseSessionStorage:()=>Vf,utlDisableStorage:()=>pK,utlEnableStorage:()=>mK,utlGetLocalStorage:()=>s0,utlGetSessionStorage:()=>c0,utlGetSessionStorageKeys:()=>gK,utlRemoveSessionStorage:()=>vK,utlRemoveStorage:()=>hK,utlSetLocalStorage:()=>a0,utlSetSessionStorage:()=>l0,utlSetStoragePrefix:()=>i0});var bge,DF,_ge,jc=H(()=>{pF();wK();EK();nF();Bi();CK();bK();kK();LK();UK();MK();$K();jK();HK();BK();WK();_F();Wi();VK();GK();mF();f0();vt();JK();vF();uF();bge="AppInsightsPropertiesPlugin",DF="AppInsightsChannelPlugin",_ge="ApplicationInsightsAnalytics"});var Wu,ZK=H(()=>{Wu="duration"});var Mn,h0,$n,ba,Kf,We,Yu,Vu,Yi,zu,Hc,cy,ly,sg,Bc,Gu,g0,qc,uy,Wc,dy,fy,ag,Jf,py,v0,Yc,cg,x0,lg,Sr,ug,w0,IF,PF,y0,TF,kF,Ku,RF,NF,LF,AF,E0,dg,QK,Ju,C0,my,hy,e7,fg,b0,OF,_0,t7,Vc=H(()=>{Mn="tags",h0="deviceType",$n="data",ba="name",Kf="traceID",We="length",Yu="stringify",Vu="measurements",Yi="dataType",zu="envelopeType",Hc="toString",cy="onLine",ly="isOnline",sg="_get",Bc="enqueue",Gu="count",g0="eventsLimitInMem",qc="push",uy="emitLineDelimitedJson",Wc="clear",dy="batchPayloads",fy="createNew",ag="markAsSent",Jf="clearSent",py="bufferOverride",v0="BUFFER_KEY",Yc="SENT_BUFFER_KEY",cg="MAX_BUFFER_SIZE",x0="sendPOST",lg="triggerSend",Sr="diagLog",ug="_sender",w0="customHeaders",IF="maxBatchSizeInBytes",PF="onunloadDisableBeacon",y0="isBeaconApiDisabled",TF="alwaysUseXhrOverride",kF="enableSessionStorageBuffer",Ku="_buffer",RF="onunloadDisableFetch",NF="instrumentationKey",LF="convertUndefined",AF="maxBatchInterval",E0="baseType",dg="sampleRate",QK="_xhrReadyStateChange",Ju="_onError",C0="_onPartialSuccess",my="_onSuccess",hy="itemsAccepted",e7="itemsReceived",fg="oriPayload",b0="setRequestHeader",OF="eventsSendRequest",_0="getSamplingScore",t7="getHashCodeScore"});function jn(t,e,n){return Mi(t,e,n,ms)}function Sge(t,e,n){var r=n[Mn]=n[Mn]||{},o=e.ext=e.ext||{},i=e[Mn]=e[Mn]||[],s=o.user;s&&(jn(r,Un.userAuthUserId,s.authId),jn(r,Un.userId,s.id||s.localId));var a=o.app;a&&jn(r,Un.sessionId,a.sesId);var c=o.device;c&&(jn(r,Un.deviceId,c.id||c.localId),jn(r,Un[h0],c.deviceClass),jn(r,Un.deviceIp,c.ip),jn(r,Un.deviceModel,c.model),jn(r,Un[h0],c[h0]));var l=e.ext.web;if(l){jn(r,Un.deviceLanguage,l.browserLang),jn(r,Un.deviceBrowserVersion,l.browserVer),jn(r,Un.deviceBrowser,l.browser);var u=n[$n]=n[$n]||{},d=u[zt]=u[zt]||{},f=d[mr]=d[mr]||{};jn(f,"domain",l.domain),jn(f,"isManual",l.isManual?n7:null),jn(f,"screenRes",l.screenRes),jn(f,"userConsent",l.userConsent?n7:null)}var p=o.os;p&&jn(r,Un.deviceOS,p[ba]);var m=o.trace;m&&(jn(r,Un.operationParentId,m.parentID),jn(r,Un.operationName,yt(t,m[ba])),jn(r,Un.operationId,m[Kf]));for(var h={},v=i[We]-1;v>=0;v--){var g=i[v];de(g,function(x,y){h[x]=y}),i.splice(v,1)}de(i,function(x,y){h[x]=y});var w=Fi(Fi({},r),h);w[Un.internalSdkVersion]||(w[Un.internalSdkVersion]=yt(t,"javascript:".concat(Dge.Version),64)),n[Mn]=$i(w)}function Xu(t,e,n){te(t)||de(t,function(r,o){cr(o)?n[r]=o:Ae(o)?e[r]=o:ia()&&(e[r]=br()[Yu](o))})}function Xf(t,e){te(t)||de(t,function(n,r){t[n]=r||e})}function Zf(t,e,n,r){var o=new u0(t,r,e);jn(o,"sampleRate",n[Gh]),(n[zt]||{}).startTime&&(o.time=fi(n[zt].startTime)),o.iKey=n.iKey;var i=n.iKey.replace(/-/g,"");return o[ba]=o[ba].replace("{0}",i),Sge(t,n,o),n[Mn]=n[Mn]||[],$i(o)}function Qf(t,e){te(e[zt])&&le(t,1,46,"telemetryItem.baseData cannot be null.")}function r7(t,e,n){Qf(t,e);var r=e[zt][Vu]||{},o=e[zt][mr]||{};Xu(e[$n],o,r),te(n)||Xf(o,n);var i=e[zt];if(te(i))return hi(t,"Invalid input for dependency data"),null;var s=i[mr]&&i[mr][Qw]?i[mr][Qw]:"GET",a=new $u(t,i.id,i.target,i[ba],i[Wu],i.success,i.responseCode,s,i.type,i.correlationContext,o,r),c=new Ca($u[Yi],a);return Zf(t,$u[zu],e,c)}function UF(t,e,n){Qf(t,e);var r={},o={};e[FF]!==ya[Yi]&&(r.baseTypeSource=e[FF]),e[FF]===ya[Yi]?(r=e[zt][mr]||{},o=e[zt][Vu]||{}):e[zt]&&Xu(e[zt],r,o),Xu(e[$n],r,o),te(n)||Xf(r,n);var i=e[zt][ba],s=new ya(t,i,r,o),a=new Ca(ya[Yi],s);return Zf(t,ya[zu],e,a)}function o7(t,e,n){Qf(t,e);var r=e[zt][Vu]||{},o=e[zt][mr]||{};Xu(e[$n],o,r),te(n)||Xf(o,n);var i=e[zt],s=Uu.CreateFromInterface(t,i,o,r),a=new Ca(Uu[Yi],s);return Zf(t,Uu[zu],e,a)}function i7(t,e,n){Qf(t,e);var r=e[zt],o=r[mr]||{},i=r[Vu]||{};Xu(e[$n],o,i),te(n)||Xf(o,n);var s=new Ea(t,r[ba],r.average,r.sampleCount,r.min,r.max,r.stdDev,o,i),a=new Ca(Ea[Yi],s);return Zf(t,Ea[zu],e,a)}function s7(t,e,n){Qf(t,e);var r,o=e[zt];!te(o)&&!te(o[mr])&&!te(o[mr][Wu])?(r=o[mr][Wu],delete o[mr][Wu]):!te(e[$n])&&!te(e[$n][Wu])&&(r=e[$n][Wu],delete e[$n][Wu]);var i=e[zt],s;((e.ext||{}).trace||{})[Kf]&&(s=e.ext.trace[Kf]);var a=i.id||s,c=i[ba],l=i.uri,u=i[mr]||{},d=i[Vu]||{};if(te(i.refUri)||(u.refUri=i.refUri),te(i.pageType)||(u.pageType=i.pageType),te(i.isLoggedIn)||(u.isLoggedIn=i.isLoggedIn[Hc]()),!te(i[mr])){var f=i[mr];de(f,function(h,v){u[h]=v})}Xu(e[$n],u,d),te(n)||Xf(u,n);var p=new Mu(t,c,l,r,u,d,a),m=new Ca(Mu[Yi],p);return Zf(t,Mu[zu],e,m)}function a7(t,e,n){Qf(t,e);var r=e[zt],o=r[ba],i=r.uri||r.url,s=r[mr]||{},a=r[Vu]||{};Xu(e[$n],s,a),te(n)||Xf(s,n);var c=new Hu(t,o,i,void 0,s,a,r),l=new Ca(Hu[Yi],c);return Zf(t,Hu[zu],e,l)}function c7(t,e,n){Qf(t,e);var r=e[zt].message,o=e[zt].severityLevel,i=e[zt][mr]||{},s=e[zt][Vu]||{};Xu(e[$n],i,s),te(n)||Xf(i,n);var a=new ju(t,r,o,i,s),c=new Ca(ju[Yi],a);return Zf(t,ju[zu],e,c)}var FF,zt,mr,n7,Dge,l7=H(()=>{Uo();jc();vt();ZK();Vc();FF="baseType",zt="baseData",mr="properties",n7="true";Dge={Version:"3.0.5"}});function u7(t,e){Ac(t,null,null,e)}function d7(t){var e,n=Zt(),r=Ln(),o=!1,i=!0,s=gi(_r("OfflineListener"),t);try{if(c(cn())&&(o=!0),n){var a=n.body||n;a.ononline&&c(a)&&(o=!0)}o&&r&&!te(r[cy])&&(i=r[cy])}catch{o=!1}function c(p){var m=!1;return p&&(m=ua(p,"online",l,s),m&&ua(p,"offline",u,s)),m}function l(){i=!0}function u(){i=!1}function d(){var p=!0;return o?p=i:r&&!te(r[cy])&&(p=r[cy]),p}function f(){var p=cn();if(p&&o){if(u7(p,s),n){var m=n.body||n;Oe(m.ononline)||u7(m,s)}o=!1}}return e={},e[ly]=d,e.isListening=function(){return o},e.unload=f,e}var f7=H(()=>{vt();Vc()});var p7,S0,MF,m7=H(()=>{Uo();Cr();jc();vt();Vc();p7=function(){function t(e,n){var r=[],o=!1;this[sg]=function(){return r},this._set=function(i){return r=i,r},tt(t,this,function(i){i[Bc]=function(s){if(i[Gu]()>=n[g0]){o||(le(e,2,105,"Maximum in-memory buffer size reached: "+i[Gu](),!0),o=!0);return}r[qc](s)},i[Gu]=function(){return r[We]},i.size=function(){for(var s=r[We],a=0;a<r[We];a++)s+=r[a][We];return n[uy]||(s+=2),s},i[Wc]=function(){r=[],o=!1},i.getItems=function(){return r.slice(0)},i[dy]=function(s){if(s&&s[We]>0){var a=n[uy]?s.join(`
`):"["+s.join(",")+"]";return a}return null},i[fy]=function(s,a,c){var l=r.slice(0);s=s||e,a=a||{};var u=c?new MF(s,a):new S0(s,a);return ne(l,function(d){u[Bc](d)}),u}})}return t.__ieDyn=1,t}(),S0=function(t){Fo(e,t);function e(n,r){var o=t.call(this,n,r)||this;return tt(e,o,function(i,s){i[ag]=function(a){s[Wc]()},i[Jf]=function(a){}}),o}return e.__ieDyn=1,e}(p7),MF=function(t){Fo(e,t);function e(n,r){var o=t.call(this,n,r)||this,i=!1,s=r==null?void 0:r.namePrefix,a=r[py]||{getItem:c0,setItem:l0},c=a.getItem,l=a.setItem;return tt(e,o,function(u,d){var f=v(e[v0]),p=v(e[Yc]),m=u._set(f.concat(p));m[We]>e[cg]&&(m[We]=e[cg]),g(e[Yc],[]),g(e[v0],m),u[Bc]=function(w){if(u[Gu]()>=e[cg]){i||(le(n,2,67,"Maximum buffer size reached: "+u[Gu](),!0),i=!0);return}d[Bc](w),g(e.BUFFER_KEY,u[sg]())},u[Wc]=function(){d[Wc](),g(e.BUFFER_KEY,u[sg]()),g(e[Yc],[]),i=!1},u[ag]=function(w){g(e[v0],u._set(h(w,u[sg]())));var x=v(e[Yc]);x instanceof Array&&w instanceof Array&&(x=x.concat(w),x[We]>e[cg]&&(le(n,1,67,"Sent buffer reached its maximum size: "+x[We],!0),x[We]=e[cg]),g(e[Yc],x))},u[Jf]=function(w){var x=v(e[Yc]);x=h(w,x),g(e[Yc],x)},u[fy]=function(w,x,y){y=!!y;var E=u[sg]().slice(0),T=v(e[Yc]).slice(0);w=w||n,x=x||{},u[Wc]();var k=y?new e(w,x):new S0(w,x);return ne(E,function(R){k[Bc](R)}),y&&k[ag](T),k};function h(w,x){var y=[];return ne(x,function(E){!Ne(E)&&ct(w,E)===-1&&y[qc](E)}),y}function v(w){var x=w;try{x=s?s+"_"+x:x;var y=c(n,x);if(y){var E=br().parse(y);if(Ae(E)&&(E=br().parse(E)),E&&he(E))return E}}catch(T){le(n,1,42," storage key: "+x+", "+Ft(T),{exception:fe(T)})}return[]}function g(w,x){var y=w;try{y=s?s+"_"+y:y;var E=JSON[Yu](x);l(n,y,E)}catch(T){l(n,y,JSON[Yu]([])),le(n,2,41," storage key: "+y+", "+Ft(T)+". Buffer cleared",{exception:fe(T)})}}}),o}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}(p7)});var h7,g7=H(()=>{Cr();vt();Vc();h7=function(){function t(e){tt(t,this,function(n){n.serialize=function(s){var a=r(s,"root");try{return br()[Yu](a)}catch(c){le(e,1,48,c&&Ne(c[Hc])?c[Hc]():"Error serializing object",null,!0)}};function r(s,a){var c="__aiCircularRefCheck",l={};if(!s)return le(e,1,48,"cannot serialize object because it is null or undefined",{name:a},!0),l;if(s[c])return le(e,2,50,"Circular reference detected while serializing object",{name:a},!0),l;if(!s.aiDataContract){if(a==="measurements")l=i(s,"number",a);else if(a==="properties")l=i(s,"string",a);else if(a==="tags")l=i(s,"string",a);else if(he(s))l=o(s,a);else{le(e,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:a},!0);try{br()[Yu](s),l=s}catch(u){le(e,1,48,u&&Ne(u[Hc])?u[Hc]():"Error serializing object",null,!0)}}return l}return s[c]=!0,de(s.aiDataContract,function(u,d){var f=Ne(d)?d()&1:d&1,p=Ne(d)?d()&4:d&4,m=d&2,h=s[u]!==void 0,v=Pt(s[u])&&s[u]!==null;if(f&&!h&&!m)le(e,1,24,"Missing required field specification. The field is required but not present on source",{field:u,name:a});else if(!p){var g=void 0;v?m?g=o(s[u],u):g=r(s[u],u):g=s[u],g!==void 0&&(l[u]=g)}}),delete s[c],l}function o(s,a){var c;if(s)if(!he(s))le(e,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:a},!0);else{c=[];for(var l=0;l<s[We];l++){var u=s[l],d=r(u,a+"["+l+"]");c[qc](d)}}return c}function i(s,a,c){var l;return s&&(l={},de(s,function(u,d){if(a==="string")d===void 0?l[u]="undefined":d===null?l[u]="null":d[Hc]?l[u]=d[Hc]():l[u]="invalid field: toString() is not defined.";else if(a==="number")if(d===void 0)l[u]="undefined";else if(d===null)l[u]="null";else{var f=parseFloat(d);isNaN(f)?l[u]="NaN":l[u]=f}else l[u]="invalid field: "+c+" is of unknown type.",le(e,1,l[u],null,!0)})),l}})}return t.__ieDyn=1,t}()});var Ige,v7,x7=H(()=>{Vc();Ige=8,v7=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var n=this.getHashCode(e)/t.INT_MAX_VALUE;return n*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e[We]<Ige;)e=e.concat(e);for(var n=5381,r=0;r<e[We];++r)n=(n<<5)+n+e.charCodeAt(r),n=n&n;return Math.abs(n)},t.INT_MAX_VALUE=2147483647,t}()});var w7,y7=H(()=>{jc();Vc();x7();w7=function(){function t(){var e=this,n=new v7,r=new ig;e[_0]=function(o){var i=0;return o[Mn]&&o[Mn][r.userId]?i=n.getHashCodeScore(o[Mn][r.userId]):o.ext&&o.ext.user&&o.ext.user.id?i=n[t7](o.ext.user.id):o[Mn]&&o[Mn][r.operationId]?i=n.getHashCodeScore(o[Mn][r.operationId]):o.ext&&o.ext.telemetryTrace&&o.ext.telemetryTrace[Kf]?i=n.getHashCodeScore(o.ext.telemetryTrace[Kf]):i=Math.random()*100,i}}return t}()});var E7,C7=H(()=>{jc();vt();Vc();y7();E7=function(){function t(e,n){this.INT_MAX_VALUE=2147483647;var r=n||Cs(null);(e>100||e<0)&&(r.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[dg]=e,this.samplingScoreGenerator=new w7}return t.prototype.isSampledIn=function(e){var n=this[dg],r=!1;return n==null||n>=100||e.baseType===Ea[Yi]?!0:(r=this.samplingScoreGenerator[_0](e)<n,r)},t}()});function D0(t){try{return t.responseText}catch{}return null}function Tge(t){return t&&t[x0]}function kge(t){return!isNaN(t)&&t>0&&t<=100}var Cn,zc,Zu,Pge,b7,Rge,gy,_7=H(()=>{Uo();Cr();jc();vt();gh();Re();l7();f7();m7();g7();C7();Vc();Zu=void 0,Pge=65e3;b7=co((Cn={endpointUrl:_h(ms,ku+va)},Cn[uy]=Es(),Cn[AF]=15e3,Cn[IF]=102400,Cn.disableTelemetry=Es(),Cn[kF]=Es(!0),Cn.isRetryDisabled=Es(),Cn[y0]=Es(!0),Cn.disableXhr=Es(),Cn[RF]=Es(),Cn[PF]=Es(),Cn[NF]=Zu,Cn.namePrefix=Zu,Cn.samplingPercentage=_h(kge,100),Cn[w0]=Zu,Cn[LF]=Zu,Cn[g0]=1e4,Cn[py]=!1,Cn.httpXHROverride={isVal:Tge,v:Zu},Cn[TF]=Es(),Cn));Rge=(zc={},zc[ya.dataType]=UF,zc[ju.dataType]=c7,zc[Mu.dataType]=s7,zc[Hu.dataType]=a7,zc[Uu.dataType]=o7,zc[Ea.dataType]=i7,zc[$u.dataType]=r7,zc),gy=function(t){Fo(e,t);function e(){var n=t.call(this)||this;n.priority=1001,n.identifier=DF;var r,o,i,s,a,c,l,u,d=0,f,p,m,h,v,g,w,x,y,E,T,k,R,b,I,_,D,S,C,L,A;return tt(e,n,function(N,B){tl(),N.pause=function(){Wn(),s=!0},N.resume=function(){s&&(s=!1,o=null,ft(),Bt())},N.flush=function(P,U,j){if(P===void 0&&(P=!0),!s){Wn();try{return N[lg](P,null,j||1)}catch(Y){le(N[Sr](),1,22,"flush failed, telemetry will not be collected: "+Ft(Y),{exception:fe(Y)})}}},N.onunloadFlush=function(){if(!s)if(w||S)try{return N[lg](!0,Te,2)}catch(P){le(N[Sr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ft(P),{exception:fe(P)})}else N.flush(!1)},N.addHeader=function(P,U){u[P]=U},N.initialize=function(P,U,j,Y){N.isInitialized()&&le(N[Sr](),1,28,"Sender is already initialized"),B.initialize(P,U,j,Y);var J=N.identifier;c=new h7(U.logger),r=0,o=null,i=0,N[ug]=null,l=0;var re=N[Sr]();m=gi(_r("Sender"),U.evtNamespace&&U.evtNamespace()),p=d7(m),N._addHook(On(P,function(Q){var M=Q.cfg;M.storagePrefix&&i0(M.storagePrefix);var W=mo(null,M,U),$=W.getExtCfg(J,b7);gt(N,"_senderConfig",{g:function(){return $}}),v!==$.endpointUrl&&(h=v=$.endpointUrl),x&&x!==$[w0]&&ne(x,function(Ct){delete u[Ct.header]}),g=$[IF],w=($[PF]===!1||$[y0]===!1)&&mi(),S=$[TF],C=!!$.disableXhr;var ie=$[py],ce=!!$[kF]&&(!!ie||Vf()),xe=$.namePrefix,je=ce!==b||ce&&_!==xe||ce&&I!==ie;if(N[Ku]){if(je)try{N._buffer=N._buffer[fy](re,$,ce)}catch(Ct){le(N[Sr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Ft(Ct),{exception:fe(Ct)})}ft()}else N[Ku]=ce?new MF(re,$):new S0(re,$);_=xe,b=ce,I=ie,L=!$[RF]&&Sc(!0),N._sample=new E7($.samplingPercentage,re),E=$[NF],xo(E,M)||le(re,1,100,"Invalid Instrumentation key "+E),x=$[w0],!Qh(h)&&x&&x[We]>0?ne(x,function(Ct){n.addHeader(Ct.header,Ct.value)}):x=null,D=$.enableSendPromise;var et=$.httpXHROverride,Xe=null,Pr=null;Xe=q([1,2],!1);var wt={sendPOST:pe};A=function(Ct,er){return ue(wt,Ct,er)},!$[y0]&&mi()&&(Xe=q([3],!1)),Xe=S?et:Xe||et||wt,N[ug]=function(Ct,er){return ue(Xe,Ct,er)},L&&(f=Ce),Pr=S?et:q([3,1],!0)||et,(S||!f)&&Pr&&(f=function(Ct,er){return ue(Pr,Ct,er)}),f||(f=A),y=$.disableTelemetry,T=$[LF]||Zu,k=$.isRetryDisabled,R=$[AF]}))},N.processTelemetry=function(P,U){U=N._getTelCtx(U);var j=U[Sr]();try{if(y)return;if(!P){le(j,1,7,"Cannot send empty telemetry");return}if(P.baseData&&!P[E0]){le(j,1,70,"Cannot send telemetry without baseData and baseType");return}if(P[E0]||(P[E0]="EventData"),!N[ug]){le(j,1,28,"Sender was not initialized");return}if(K(P))P[Gh]=N._sample[dg];else{le(j,2,33,"Telemetry item was sampled out and not sent",{SampleRate:N._sample[dg]});return}var Y=P.iKey||E,J=e.constructEnvelope(P,Y,j,T);if(!J){le(j,1,47,"Unable to create an AppInsights envelope");return}var re=!1;if(P[Mn]&&P[Mn][Kh]&&(ne(P[Mn][Kh],function(W){try{W&&W(J)===!1&&(re=!0,hi(j,"Telemetry processor check returns false"))}catch($){le(j,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ft($),{exception:fe($)},!0)}}),delete P[Mn][Kh]),re)return;var Q=c.serialize(J),M=N[Ku];ft(Q),M[Bc](Q),Bt()}catch(W){le(j,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ft(W),{exception:fe(W)})}N.processNext(P,U)},N[QK]=function(P,U,j){P.readyState===4&&nt(P.status,U,P.responseURL,j,Ji(P),D0(P)||P.response)},N[lg]=function(P,U,j){P===void 0&&(P=!0);var Y;if(!s)try{var J=N[Ku];if(y)J[Wc]();else{if(J[Gu]()>0){var re=J.getItems();md(j||0,P),U?Y=U.call(N,re,P):Y=N[ug](re,P)}i=+new Date}Wn()}catch(M){var Q=fw();(!Q||Q>9)&&le(N[Sr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Ft(M),{exception:fe(M)})}return Y},N._doTeardown=function(P,U){N.onunloadFlush(),Ic(p,!1),tl()},N[Ju]=function(P,U,j){le(N[Sr](),2,26,"Failed to send telemetry.",{message:U}),N._buffer&&N._buffer[Jf](P)},N[C0]=function(P,U){for(var j=[],Y=[],J=U.errors.reverse(),re=0,Q=J;re<Q.length;re++){var M=Q[re],W=P.splice(M.index,1)[0];vo(M.statusCode)?Y[qc](W):j[qc](W)}P[We]>0&&N[my](P,U[hy]),j[We]>0&&N[Ju](j,Ji(null,["partial success",U[hy],"of",U.itemsReceived].join(" "))),Y[We]>0&&(Je(Y),le(N[Sr](),2,40,"Partial success. Delivered: "+P[We]+", Failed: "+j[We]+". Will retry to send "+Y[We]+" our of "+U[e7]+" items"))},N[my]=function(P,U){N._buffer&&N._buffer[Jf](P)},N._xdrOnLoad=function(P,U){var j=D0(P);if(P&&(j+""=="200"||j===""))r=0,N[my](U,0);else{var Y=rt(j);Y&&Y.itemsReceived&&Y.itemsReceived>Y[hy]&&!k?N[C0](U,Y):N[Ju](U,hp(P))}};function K(P){return N._sample.isSampledIn(P)}function q(P,U){for(var j,Y=null,J=null,re=0;J==null&&re<P[We];)Y=P[re],!C&&Y===1?Cf()?J=pd:xu()&&(J=pe):Y===2&&Sc(U)?J=Le:mi()&&Y===3&&(J=se),re++;return J?(j={},j[x0]=J,j):null}function X(P,U,j,Y){U===200&&P&&N._onSuccess(P,P[We]),Y&&N[Ju](P,Y)}function ue(P,U,j){var Y=function(Q,M,W){return X(U,Q,M,W)},J=De(U),re=P&&P[x0];return re&&J?(N._buffer[ag](U),re(J,Y,!j)):null}function De(P){var U;if(he(P)&&P[We]>0){var j=N._buffer[dy](P),Y=(U={},U[$n]=j,U.urlString=h,U.headers=u,U.disableXhrSync=C,U.disableFetchKeepAlive=!L,U[fg]=P,U);return Y}return null}function Le(P,U,j){return be(P,U,!1)}function ft(P){var U=P?P[We]:0;return N[Ku].size()+U>g?((!p||p[ly]())&&N[lg](!0,null,10),!0):!1}function nt(P,U,j,Y,J,re){var Q=null;if(N._appId||(Q=rt(re),Q&&Q.appId&&(N._appId=Q.appId)),(P<200||P>=300)&&P!==0){if((P===301||P===307||P===308)&&!at(j)){N[Ju](U,J);return}!k&&vo(P)?(Je(U),le(N[Sr](),2,40,". Response code "+P+". Will retry to send "+U[We]+" items.")):N[Ju](U,J)}else if(p&&!p[ly]()){if(!k){var M=10;Je(U,M),le(N[Sr](),2,40,". Offline - Response Code: ".concat(P,". Offline status: ").concat(!p.isOnline(),". Will retry to send ").concat(U.length," items."))}}else at(j),P===206?(Q||(Q=rt(re)),Q&&!k?N[C0](U,Q):N[Ju](U,J)):(r=0,N[my](U,Y))}function at(P){return l>=10?!1:!te(P)&&P!==""&&P!==h?(h=P,++l,!0):!1}function Ye(P,U,j,Y){try{P(U,j,Y)}catch{}}function Te(P,U){var j=function(J,re,Q){return X(P,J,re,Q)};if(f)f(P,!1);else{var Y=De(P);se(Y,j,!U)}}function z(P,U){var j=Ln(),Y=h,J=new Blob([P],{type:"text/plain;charset=UTF-8"}),re=j.sendBeacon(Y,J);return re&&U(200,{},P),re}function se(P,U,j){var Y=P,J=Y&&Y[$n];if(Ae(J)&&J[We]>0&&!z(J,U)){var re=[],Q=Y[fg];if(Q[We]>0)for(var M=0;M<J[We];M++){var W=P[M],$=N._buffer[dy](W);z($,U)||re[qc](W)}re[We]>0&&(A&&A(re,!0),le(N[Sr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function pe(P,U,j){var Y=P,J,re,Q,M=new XMLHttpRequest,W=h;try{M[zh]=!0}catch{}return M.open("POST",W,!j),M[b0]("Content-type","application/json"),Qh(W)&&M[b0](Uc[6],Uc[7]),ne(Kn(u),function($){M[b0]($,u[$])}),M.onreadystatechange=function(){var $=Y[fg];N._xhrReadyStateChange(M,$,$[We]),M.readyState===4&&re&&re(!0)},M.onerror=function($){Ye(U,400,{},Ji(M)),Q&&Q($)},!j&&D&&(J=po(function($,ie){re=$,Q=ie})),M.send(P[$n]),J}function Ce(P,U){var j=function(Q,M,W){return X(P,Q,M,W)};if(he(P)){for(var Y=P[We],J=0;J<P[We];J++)Y+=P[J][We];var re=De(P);d+Y<=Pge?be(re,j,!0):mi()?se(re,j,!U):(A&&A(P,!0),le(N[Sr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function be(P,U,j){var Y,J=h,re=P,Q=re[$n],M=new Blob([Q],{type:"application/json"}),W,$,ie,ce=new Headers,xe=Q[We],je=!1,et=!1;Qh(J)&&ce.append(Uc[6],Uc[7]),ne(Kn(u),function(wt){ce.append(wt,u[wt])});var Xe=(Y={method:"POST",headers:ce,body:M},Y[zh]=!0,Y);j&&(Xe.keepalive=!0,je=!0,d+=xe);var Pr=new Request(J,Xe);try{Pr[zh]=!0}catch{}!j&&D&&(W=po(function(wt,Ct){$=wt,ie=Ct}));try{pu(fetch(Pr),function(wt){if(j&&(d-=xe,xe=0),!et)if(et=!0,wt.rejected)Ye(U,400,{},wt.reason&&wt.reason.message),ie&&ie(wt.reason);else{var Ct=wt.value;Ct.ok?pu(Ct.text(),function(er){var vp=re[fg];nt(Ct.status,vp,Ct.url,vp[We],Ct.statusText,er.value||""),$&&$(!0)}):(Ye(U,400,{},Ct.statusText),$&&$(!1))}})}catch(wt){et||(Ye(U,400,{},fe(wt)),ie&&ie(wt))}return je&&!et&&(et=!0,Ye(U,200,{}),$&&$(!0)),W}function rt(P){try{if(P&&P!==""){var U=br().parse(P);if(U&&U.itemsReceived&&U.itemsReceived>=U[hy]&&U.itemsReceived-U.itemsAccepted===U.errors[We])return U}}catch(j){le(N[Sr](),1,43,"Cannot parse the response. "+Ft(j),{response:P})}return null}function Je(P,U){if(U===void 0&&(U=1),!(!P||P[We]===0)){var j=N[Ku];j[Jf](P),r++;for(var Y=0,J=P;Y<J.length;Y++){var re=J[Y];j[Bc](re)}Et(U),Bt()}}function Et(P){var U=10,j;if(r<=1)j=U;else{var Y=(Math.pow(2,r)-1)/2,J=Math.floor(Math.random()*Y*U)+1;J=P*J,j=Math.max(Math.min(J,3600),U)}var re=Qt()+j*1e3;o=re}function Bt(){if(!a&&!s){var P=o?Math.max(0,o-Qt()):0,U=Math.max(R,P);a=Oo(function(){a=null,N[lg](!0,null,1)},U)}}function Wn(){a&&a.cancel(),a=null,o=null}function vo(P){return P===401||P===403||P===408||P===429||P===500||P===502||P===503||P===504}function Ji(P,U){return P?"XMLHttpRequest,Status:"+P.status+",Response:"+D0(P)||P.response||"":U}function pd(P,U,j){var Y=P,J=cn(),re=new XDomainRequest,Q=Y[$n];re.onload=function(){var $=Y[fg];N._xdrOnLoad(re,$)},re.onerror=function(){Ye(U,400,{},hp(re))};var M=J&&J.location&&J.location.protocol||"";if(h.lastIndexOf(M,0)!==0){le(N[Sr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),N._buffer[Wc]();return}var W=h.replace(/^(https?:)/,"");re.open("POST",W),re.send(Q)}function hp(P,U){return P?"XDomainRequest,Response:"+D0(P)||"":U}function gp(){var P="getNotifyMgr";return N.core[P]?N.core[P]():N.core._notificationManager}function md(P,U){var j=gp();if(j&&j[OF])try{j[OF](P,U)}catch(Y){le(N[Sr](),1,74,"send request notification failed: "+Ft(Y),{exception:fe(Y)})}}function xo(P,U){var j=U.disableInstrumentationKeyValidation,Y=te(j)?!1:j;if(Y)return!0;var J="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",re=new RegExp(J);return re.test(P)}function tl(){N[ug]=null,N[Ku]=null,N._appId=null,N._sample=null,u={},p=null,r=0,o=null,i=null,s=!1,a=null,c=null,l=0,d=0,f=null,m=null,h=null,v=null,g=0,w=!1,x=null,y=!1,E=null,T=Zu,k=!1,b=null,_=Zu,C=!1,L=!1,A=null,gt(N,"_senderConfig",{g:function(){return IS({},b7)}})}}),n}return e.constructEnvelope=function(n,r,o,i){var s;r!==n.iKey&&!te(r)?s=Fi(Fi({},n),{iKey:r}):s=n;var a=Rge[s.baseType]||UF;return a(o,s,i)},e}(Nc)});var $F=H(()=>{_7()});var I0,P0,S7=H(()=>{I0="instrumentationKey",P0="connectionString"});var D7={};zg(D7,{AppInsightsCore:()=>Lc,ApplicationInsights:()=>Age,Sender:()=>gy,SeverityLevel:()=>p0,arrForEach:()=>ne,isNullOrUndefined:()=>te,proxyFunctions:()=>pi,throwError:()=>Xt});function Lge(t){return t&&t>0}var Nge,Age,I7=H(()=>{Cr();$F();jc();vt();Re();S7();vt();jc();$F();Nge={diagnosticLogInterval:_h(Lge,1e4)};Age=function(){function t(e){var n=new Lc,r;(te(e)||te(e[I0])&&te(e[P0]))&&Xt("Invalid input configuration"),tt(t,this,function(i){gt(i,"config",{g:function(){return r}}),s(),i.initialize=s,i.track=o,pi(i,n,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function s(){var a=Yt(e||{},Nge);r=a.cfg,n.addUnloadHook(On(a,function(){if(r[P0]){var c=oy(r[P0]),l=c.ingestionendpoint;r.endpointUrl=l?l+va:r.endpointUrl,r[I0]=c.instrumentationkey||r[I0]}})),n.initialize(r,[new gy])}});function o(i){i&&(i.baseData=i.baseData||{},i.baseType=i.baseType||"EventData"),n.track(i)}}return t.__ieDyn=1,t}()});var P7=F(_a=>{"use strict";var Oge=_a&&_a.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Fge=_a&&_a.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uge=_a&&_a.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Oge(e,t,n);return Fge(e,t),e};Object.defineProperty(_a,"__esModule",{value:!0});_a.appInsightsClientFactory=void 0;var Mge=(jc(),Gg(XK)),$ge=tL(),jge=async(t,e,n)=>{let r;try{let i=await Promise.resolve().then(()=>Uge((I7(),Gg(D7))));if(r=new i.ApplicationInsights({instrumentationKey:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){r.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:e};r.config.extensionConfig[Mge.BreezeChannelIdentifier]=s}}catch(i){return Promise.reject(i)}return{logEvent:(i,s)=>{let a={...s==null?void 0:s.properties,...s==null?void 0:s.measurements};n!=null&&n.length&&$ge.TelemetryUtil.applyReplacements(a,n),r==null||r.track({name:i,data:a,baseType:"EventData",baseData:{name:i,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})},flush:async()=>{r==null||r.flush(!1)},dispose:async()=>new Promise(s=>{r==null||r.unload(!0,()=>{s(),r=void 0},1e3)})}};_a.appInsightsClientFactory=jge});var N7=F(Gc=>{"use strict";var Hge=Gc&&Gc.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Bge=Gc&&Gc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BF=Gc&&Gc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Hge(e,t,n);return Bge(e,t),e};Object.defineProperty(Gc,"__esModule",{value:!0});var jF=BF(require("os")),T7=BF(require("vscode")),qge=BF(require("https")),Wge=z3(),Yge=G3(),k7=tL(),Vge=X5(),zge=P7();function R7(){return{sendPOST:(e,n)=>{let r={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let o=qge.request(e.urlString,r,i=>{i.on("data",function(s){n(i.statusCode??200,i.headers,s.toString())}),i.on("error",function(){n(0,{})})});o.write(e.data,i=>{i&&n(0,{})}),o.end()}catch{n(0,{})}}}}var HF=class extends Wge.BaseTelemetryReporter{constructor(e,n){let r=s=>(0,zge.appInsightsClientFactory)(s,R7(),n);k7.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(r=s=>(0,Vge.oneDataSystemClientFactory)(s,T7,R7()));let o={release:jF.release(),platform:jF.platform(),architecture:jF.arch()},i=new Yge.BaseTelemetrySender(e,r);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(i,T7,{additionalCommonProperties:k7.TelemetryUtil.getAdditionalCommonProperties(o)})}};Gc.default=HF});var WF=F(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.TargetPopulation=Qu.Filters=Qu.VSCodeFilterProvider=void 0;var T0=require("vscode"),qF=class t{constructor(e,n,r){this.extensionName=e,this.extensionVersion=n,this.targetPopulation=r}static trimVersionSuffix(e){let n=/\-[a-zA-Z0-9]+$/;return e.split(n)[0]}getFilterValue(e){switch(e){case Sa.ApplicationVersion:return t.trimVersionSuffix(T0.version);case Sa.Build:return T0.env.appName;case Sa.ClientId:return T0.env.machineId;case Sa.ExtensionName:return this.extensionName;case Sa.ExtensionVersion:return t.trimVersionSuffix(this.extensionVersion);case Sa.Language:return T0.env.language;case Sa.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,n=Object.values(Sa);for(let r of n)e.set(r,this.getFilterValue(r));return e}};Qu.VSCodeFilterProvider=qF;var Sa;(function(t){t.Market="X-MSEdge-Market",t.CorpNet="X-FD-Corpnet",t.ApplicationVersion="X-VSCode-AppVersion",t.Build="X-VSCode-Build",t.ClientId="X-MSEdge-ClientId",t.ExtensionName="X-VSCode-ExtensionName",t.ExtensionVersion="X-VSCode-ExtensionVersion",t.Language="X-VSCode-Language",t.TargetPopulation="X-VSCode-TargetPopulation"})(Sa||(Qu.Filters=Sa={}));var L7;(function(t){t.Team="team",t.Internal="internal",t.Insiders="insider",t.Public="public"})(L7||(Qu.TargetPopulation=L7={}))});var A7=F(k0=>{"use strict";Object.defineProperty(k0,"__esModule",{value:!0});k0.BaseFeatureProvider=void 0;var YF=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};k0.BaseFeatureProvider=YF});var O7=F(R0=>{"use strict";Object.defineProperty(R0,"__esModule",{value:!0});R0.FilteredFeatureProvider=void 0;var Gge=A7(),VF=class extends Gge.BaseFeatureProvider{constructor(e,n){super(e),this.telemetry=e,this.filterProviders=n,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let n of this.filterProviders){let r=n.getFilters();for(let o of r.keys()){let i=r.get(o);e.set(o,i)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let n=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",n]])),this.cachedTelemetryEvents.push(e)}};R0.FilteredFeatureProvider=VF});var F7=F(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.TasApiFeatureProvider=ed.TASAPI_FETCHERROR_EVENTNAME=void 0;var Kge=O7();ed.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var zF="ErrorType",GF=class extends Kge.FilteredFeatureProvider{constructor(e,n,r){super(n,r),this.httpClient=e,this.telemetry=n,this.filterProviders=r}async fetch(){let e=this.getFilters(),n={};for(let a of e.keys()){let c=e.get(a);n[a]=c}let r;try{r=await this.httpClient.get({headers:n})}catch(a){let c=a,l=new Map;c.response?l.set(zF,"ServerError"):c.request?l.set(zF,"NoResponse"):l.set(zF,"GenericError"),this.telemetry.postEvent(ed.TASAPI_FETCHERROR_EVENTNAME,l)}if(!r)throw Error(ed.TASAPI_FETCHERROR_EVENTNAME);e.keys.length>0&&this.PostEventToTelemetry(n);let o=r.data,i=o.Configs,s=[];for(let a of i)if(a.Parameters)for(let c of Object.keys(a.Parameters)){let l=c+(a.Parameters[c]?"":"cf");s.includes(l)||s.push(l)}return{features:s,assignmentContext:o.AssignmentContext,configs:i}}};ed.TasApiFeatureProvider=GF});var $7=F((HYe,M7)=>{var U7=require("stream").Stream,Jge=require("util");M7.exports=Is;function Is(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}Jge.inherits(Is,U7);Is.create=function(t,e){var n=new this;e=e||{};for(var r in e)n[r]=e[r];n.source=t;var o=t.emit;return t.emit=function(){return n._handleEmit(arguments),o.apply(t,arguments)},t.on("error",function(){}),n.pauseStream&&t.pause(),n};Object.defineProperty(Is.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Is.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Is.prototype.resume=function(){this._released||this.release(),this.source.resume()};Is.prototype.pause=function(){this.source.pause()};Is.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};Is.prototype.pipe=function(){var t=U7.prototype.pipe.apply(this,arguments);return this.resume(),t};Is.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};Is.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var q7=F((BYe,B7)=>{var Xge=require("util"),H7=require("stream").Stream,j7=$7();B7.exports=un;function un(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Xge.inherits(un,H7);un.create=function(t){var e=new this;t=t||{};for(var n in t)e[n]=t[n];return e};un.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};un.prototype.append=function(t){var e=un.isStreamLike(t);if(e){if(!(t instanceof j7)){var n=j7.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=n}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};un.prototype.pipe=function(t,e){return H7.prototype.pipe.call(this,t,e),this.resume(),t};un.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};un.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(n){var r=un.isStreamLike(n);r&&(n.on("data",this._checkDataSize.bind(this)),this._handleErrors(n)),this._pipeNext(n)}.bind(this))};un.prototype._pipeNext=function(t){this._currentStream=t;var e=un.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var n=t;this.write(n),this._getNext()};un.prototype._handleErrors=function(t){var e=this;t.on("error",function(n){e._emitError(n)})};un.prototype.write=function(t){this.emit("data",t)};un.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};un.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};un.prototype.end=function(){this._reset(),this.emit("end")};un.prototype.destroy=function(){this._reset(),this.emit("close")};un.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};un.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};un.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};un.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var W7=F((qYe,Zge)=>{Zge.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var V7=F((WYe,Y7)=>{Y7.exports=W7()});var K7=F(Vo=>{"use strict";var N0=V7(),Qge=require("path").extname,z7=/^\s*([^;\s]*)(?:;|\s|$)/,eve=/^text\//i;Vo.charset=G7;Vo.charsets={lookup:G7};Vo.contentType=tve;Vo.extension=nve;Vo.extensions=Object.create(null);Vo.lookup=rve;Vo.types=Object.create(null);ove(Vo.extensions,Vo.types);function G7(t){if(!t||typeof t!="string")return!1;var e=z7.exec(t),n=e&&N0[e[1].toLowerCase()];return n&&n.charset?n.charset:e&&eve.test(e[1])?"UTF-8":!1}function tve(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Vo.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var n=Vo.charset(e);n&&(e+="; charset="+n.toLowerCase())}return e}function nve(t){if(!t||typeof t!="string")return!1;var e=z7.exec(t),n=e&&Vo.extensions[e[1].toLowerCase()];return!n||!n.length?!1:n[0]}function rve(t){if(!t||typeof t!="string")return!1;var e=Qge("x."+t).toLowerCase().substr(1);return e&&Vo.types[e]||!1}function ove(t,e){var n=["nginx","apache",void 0,"iana"];Object.keys(N0).forEach(function(o){var i=N0[o],s=i.extensions;if(!(!s||!s.length)){t[o]=s;for(var a=0;a<s.length;a++){var c=s[a];if(e[c]){var l=n.indexOf(N0[e[c]].source),u=n.indexOf(i.source);if(e[c]!=="application/octet-stream"&&(l>u||l===u&&e[c].substr(0,12)==="application/"))continue}e[c]=o}}})}});var X7=F((VYe,J7)=>{J7.exports=ive;function ive(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var KF=F((zYe,Q7)=>{var Z7=X7();Q7.exports=sve;function sve(t){var e=!1;return Z7(function(){e=!0}),function(r,o){e?t(r,o):Z7(function(){t(r,o)})}}});var JF=F((GYe,e9)=>{e9.exports=ave;function ave(t){Object.keys(t.jobs).forEach(cve.bind(t)),t.jobs={}}function cve(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var XF=F((KYe,n9)=>{var t9=KF(),lve=JF();n9.exports=uve;function uve(t,e,n,r){var o=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[o]=dve(e,o,t[o],function(i,s){o in n.jobs&&(delete n.jobs[o],i?lve(n):n.results[o]=s,r(i,n.results))})}function dve(t,e,n,r){var o;return t.length==2?o=t(n,t9(r)):o=t(n,e,t9(r)),o}});var ZF=F((JYe,r9)=>{r9.exports=fve;function fve(t,e){var n=!Array.isArray(t),r={index:0,keyedList:n||e?Object.keys(t):null,jobs:{},results:n?{}:[],size:n?Object.keys(t).length:t.length};return e&&r.keyedList.sort(n?e:function(o,i){return e(t[o],t[i])}),r}});var QF=F((XYe,o9)=>{var pve=JF(),mve=KF();o9.exports=hve;function hve(t){Object.keys(this.jobs).length&&(this.index=this.size,pve(this),mve(t)(null,this.results))}});var s9=F((ZYe,i9)=>{var gve=XF(),vve=ZF(),xve=QF();i9.exports=wve;function wve(t,e,n){for(var r=vve(t);r.index<(r.keyedList||t).length;)gve(t,e,r,function(o,i){if(o){n(o,i);return}if(Object.keys(r.jobs).length===0){n(null,r.results);return}}),r.index++;return xve.bind(r,n)}});var e1=F((QYe,L0)=>{var a9=XF(),yve=ZF(),Eve=QF();L0.exports=Cve;L0.exports.ascending=c9;L0.exports.descending=bve;function Cve(t,e,n,r){var o=yve(t,n);return a9(t,e,o,function i(s,a){if(s){r(s,a);return}if(o.index++,o.index<(o.keyedList||t).length){a9(t,e,o,i);return}r(null,o.results)}),Eve.bind(o,r)}function c9(t,e){return t<e?-1:t>e?1:0}function bve(t,e){return-1*c9(t,e)}});var u9=F((eVe,l9)=>{var _ve=e1();l9.exports=Sve;function Sve(t,e,n){return _ve(t,e,null,n)}});var f9=F((tVe,d9)=>{d9.exports={parallel:s9(),serial:u9(),serialOrdered:e1()}});var m9=F((nVe,p9)=>{p9.exports=function(t,e){return Object.keys(e).forEach(function(n){t[n]=t[n]||e[n]}),t}});var v9=F((rVe,g9)=>{var o1=q7(),h9=require("util"),t1=require("path"),Dve=require("http"),Ive=require("https"),Pve=require("url").parse,Tve=require("fs"),kve=require("stream").Stream,n1=K7(),Rve=f9(),r1=m9();g9.exports=dt;h9.inherits(dt,o1);function dt(t){if(!(this instanceof dt))return new dt(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],o1.call(this),t=t||{};for(var e in t)this[e]=t[e]}dt.LINE_BREAK=`\r
`;dt.DEFAULT_CONTENT_TYPE="application/octet-stream";dt.prototype.append=function(t,e,n){n=n||{},typeof n=="string"&&(n={filename:n});var r=o1.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),h9.isArray(e)){this._error(new Error("Arrays are not supported."));return}var o=this._multiPartHeader(t,e,n),i=this._multiPartFooter();r(o),r(e),r(i),this._trackLength(o,e,n)};dt.prototype._trackLength=function(t,e,n){var r=0;n.knownLength!=null?r+=+n.knownLength:Buffer.isBuffer(e)?r=e.length:typeof e=="string"&&(r=Buffer.byteLength(e)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(t)+dt.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof kve))&&(n.knownLength||this._valuesToMeasure.push(e))};dt.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):Tve.stat(t.path,function(n,r){var o;if(n){e(n);return}o=r.size-(t.start?t.start:0),e(null,o)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(n){t.pause(),e(null,+n.headers["content-length"])}),t.resume()):e("Unknown stream")};dt.prototype._multiPartHeader=function(t,e,n){if(typeof n.header=="string")return n.header;var r=this._getContentDisposition(e,n),o=this._getContentType(e,n),i="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(r||[]),"Content-Type":[].concat(o||[])};typeof n.header=="object"&&r1(s,n.header);var a;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(i+=c+": "+a.join("; ")+dt.LINE_BREAK)));return"--"+this.getBoundary()+dt.LINE_BREAK+i+dt.LINE_BREAK};dt.prototype._getContentDisposition=function(t,e){var n,r;return typeof e.filepath=="string"?n=t1.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?n=t1.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(n=t1.basename(t.client._httpMessage.path||"")),n&&(r='filename="'+n+'"'),r};dt.prototype._getContentType=function(t,e){var n=e.contentType;return!n&&t.name&&(n=n1.lookup(t.name)),!n&&t.path&&(n=n1.lookup(t.path)),!n&&t.readable&&t.hasOwnProperty("httpVersion")&&(n=t.headers["content-type"]),!n&&(e.filepath||e.filename)&&(n=n1.lookup(e.filepath||e.filename)),!n&&typeof t=="object"&&(n=dt.DEFAULT_CONTENT_TYPE),n};dt.prototype._multiPartFooter=function(){return function(t){var e=dt.LINE_BREAK,n=this._streams.length===0;n&&(e+=this._lastBoundary()),t(e)}.bind(this)};dt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+dt.LINE_BREAK};dt.prototype.getHeaders=function(t){var e,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(n[e.toLowerCase()]=t[e]);return n};dt.prototype.setBoundary=function(t){this._boundary=t};dt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};dt.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)typeof this._streams[n]!="function"&&(Buffer.isBuffer(this._streams[n])?t=Buffer.concat([t,this._streams[n]]):t=Buffer.concat([t,Buffer.from(this._streams[n])]),(typeof this._streams[n]!="string"||this._streams[n].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(dt.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};dt.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};dt.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};dt.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};dt.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}Rve.parallel(this._valuesToMeasure,this._lengthRetriever,function(n,r){if(n){t(n);return}r.forEach(function(o){e+=o}),t(null,e)})};dt.prototype.submit=function(t,e){var n,r,o={method:"post"};return typeof t=="string"?(t=Pve(t),r=r1({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},o)):(r=r1(t,o),r.port||(r.port=r.protocol=="https:"?443:80)),r.headers=this.getHeaders(t.headers),r.protocol=="https:"?n=Ive.request(r):n=Dve.request(r),this.getLength(function(i,s){if(i&&i!=="Unknown stream"){this._error(i);return}if(s&&n.setHeader("Content-Length",s),this.pipe(n),e){var a,c=function(l,u){return n.removeListener("error",c),n.removeListener("response",a),e.call(this,l,u)};a=c.bind(this,null),n.on("error",c),n.on("response",a)}}.bind(this)),n};dt.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};dt.prototype.toString=function(){return"[object FormData]"}});var w9=F(x9=>{"use strict";var Nve=require("url").parse,Lve={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Ave=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function Ove(t){var e=typeof t=="string"?Nve(t):t||{},n=e.protocol,r=e.host,o=e.port;if(typeof r!="string"||!r||typeof n!="string"||(n=n.split(":",1)[0],r=r.replace(/:\d*$/,""),o=parseInt(o)||Lve[n]||0,!Fve(r,o)))return"";var i=pg("npm_config_"+n+"_proxy")||pg(n+"_proxy")||pg("npm_config_proxy")||pg("all_proxy");return i&&i.indexOf("://")===-1&&(i=n+"://"+i),i}function Fve(t,e){var n=(pg("npm_config_no_proxy")||pg("no_proxy")).toLowerCase();return n?n==="*"?!1:n.split(/[,\s]/).every(function(r){if(!r)return!0;var o=r.match(/^(.+):(\d+)$/),i=o?o[1]:r,s=o?parseInt(o[2]):0;return s&&s!==e?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!Ave.call(t,i)):t!==i}):!0}function pg(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}x9.getProxyForUrl=Ove});var lJ=F((iVe,cJ)=>{"use strict";var Uve=v9(),Mve=require("url"),$ve=w9(),jve=require("http"),Hve=require("https"),U9=require("util"),Bve=av(),qve=require("zlib"),M9=require("stream"),Wve=require("events");function Kc(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var $9=Kc(Uve),Yve=Kc(Mve),Vve=Kc(jve),zve=Kc(Hve),Gve=Kc(U9),Kve=Kc(Bve),od=Kc(qve),nd=Kc(M9),Jve=Kc(Wve);function j9(t,e){return function(){return t.apply(e,arguments)}}var{toString:Xve}=Object.prototype,{getPrototypeOf:w1}=Object,$0=(t=>e=>{let n=Xve.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Da=t=>(t=t.toLowerCase(),e=>$0(e)===t),j0=t=>e=>typeof e===t,{isArray:vg}=Array,wy=j0("undefined");function Zve(t){return t!==null&&!wy(t)&&t.constructor!==null&&!wy(t.constructor)&&zi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var H9=Da("ArrayBuffer");function Qve(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&H9(t.buffer),e}var exe=j0("string"),zi=j0("function"),B9=j0("number"),H0=t=>t!==null&&typeof t=="object",txe=t=>t===!0||t===!1,O0=t=>{if($0(t)!=="object")return!1;let e=w1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nxe=Da("Date"),rxe=Da("File"),oxe=Da("Blob"),ixe=Da("FileList"),sxe=t=>H0(t)&&zi(t.pipe),axe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zi(t.append)&&((e=$0(t))==="formdata"||e==="object"&&zi(t.toString)&&t.toString()==="[object FormData]"))},cxe=Da("URLSearchParams"),lxe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ey(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),vg(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{let i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length,a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function q9(t,e){e=e.toLowerCase();let n=Object.keys(t),r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}var W9=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Y9=t=>!wy(t)&&t!==W9;function l1(){let{caseless:t}=Y9(this)&&this||{},e={},n=(r,o)=>{let i=t&&q9(e,o)||o;O0(e[i])&&O0(r)?e[i]=l1(e[i],r):O0(r)?e[i]=l1({},r):vg(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Ey(arguments[r],n);return e}var uxe=(t,e,n,{allOwnKeys:r}={})=>(Ey(e,(o,i)=>{n&&zi(o)?t[i]=j9(o,n):t[i]=o},{allOwnKeys:r}),t),dxe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fxe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},pxe=(t,e,n,r)=>{let o,i,s,a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&w1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},mxe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;let r=t.indexOf(e,n);return r!==-1&&r===n},hxe=t=>{if(!t)return null;if(vg(t))return t;let e=t.length;if(!B9(e))return null;let n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},gxe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&w1(Uint8Array)),vxe=(t,e)=>{let r=(t&&t[Symbol.iterator]).call(t),o;for(;(o=r.next())&&!o.done;){let i=o.value;e.call(t,i[0],i[1])}},xxe=(t,e)=>{let n,r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},wxe=Da("HTMLFormElement"),yxe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),y9=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Exe=Da("RegExp"),V9=(t,e)=>{let n=Object.getOwnPropertyDescriptors(t),r={};Ey(n,(o,i)=>{let s;(s=e(o,i,t))!==!1&&(r[i]=s||o)}),Object.defineProperties(t,r)},Cxe=t=>{V9(t,(e,n)=>{if(zi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;let r=t[n];if(zi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bxe=(t,e)=>{let n={},r=o=>{o.forEach(i=>{n[i]=!0})};return vg(t)?r(t):r(String(t).split(e)),n},_xe=()=>{},Sxe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),i1="abcdefghijklmnopqrstuvwxyz",E9="0123456789",z9={DIGIT:E9,ALPHA:i1,ALPHA_DIGIT:i1+i1.toUpperCase()+E9},Dxe=(t=16,e=z9.ALPHA_DIGIT)=>{let n="",{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Ixe(t){return!!(t&&zi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var Pxe=t=>{let e=new Array(10),n=(r,o)=>{if(H0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;let i=vg(r)?[]:{};return Ey(r,(s,a)=>{let c=n(s,o+1);!wy(c)&&(i[a]=c)}),e[o]=void 0,i}}return r};return n(t,0)},Txe=Da("AsyncFunction"),kxe=t=>t&&(H0(t)||zi(t))&&zi(t.then)&&zi(t.catch),V={isArray:vg,isArrayBuffer:H9,isBuffer:Zve,isFormData:axe,isArrayBufferView:Qve,isString:exe,isNumber:B9,isBoolean:txe,isObject:H0,isPlainObject:O0,isUndefined:wy,isDate:nxe,isFile:rxe,isBlob:oxe,isRegExp:Exe,isFunction:zi,isStream:sxe,isURLSearchParams:cxe,isTypedArray:gxe,isFileList:ixe,forEach:Ey,merge:l1,extend:uxe,trim:lxe,stripBOM:dxe,inherits:fxe,toFlatObject:pxe,kindOf:$0,kindOfTest:Da,endsWith:mxe,toArray:hxe,forEachEntry:vxe,matchAll:xxe,isHTMLForm:wxe,hasOwnProperty:y9,hasOwnProp:y9,reduceDescriptors:V9,freezeMethods:Cxe,toObjectSet:bxe,toCamelCase:yxe,noop:_xe,toFiniteNumber:Sxe,findKey:q9,global:W9,isContextDefined:Y9,ALPHABET:z9,generateString:Dxe,isSpecCompliantForm:Ixe,toJSONObject:Pxe,isAsyncFn:Txe,isThenable:kxe};function Se(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}V.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var G9=Se.prototype,K9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{K9[t]={value:t}});Object.defineProperties(Se,K9);Object.defineProperty(G9,"isAxiosError",{value:!0});Se.from=(t,e,n,r,o,i)=>{let s=Object.create(G9);return V.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Se.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};function u1(t){return V.isPlainObject(t)||V.isArray(t)}function J9(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function C9(t,e,n){return t?t.concat(e).map(function(o,i){return o=J9(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function Rxe(t){return V.isArray(t)&&!t.some(u1)}var Nxe=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function B0(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new($9.default||FormData),n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,v){return!V.isUndefined(v[h])});let r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(o))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(V.isDate(m))return m.toISOString();if(!c&&V.isBlob(m))throw new Se("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(m)||V.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,h,v){let g=m;if(m&&!v&&typeof m=="object"){if(V.endsWith(h,"{}"))h=r?h:h.slice(0,-2),m=JSON.stringify(m);else if(V.isArray(m)&&Rxe(m)||(V.isFileList(m)||V.endsWith(h,"[]"))&&(g=V.toArray(m)))return h=J9(h),g.forEach(function(x,y){!(V.isUndefined(x)||x===null)&&e.append(s===!0?C9([h],y,i):s===null?h:h+"[]",l(x))}),!1}return u1(m)?!0:(e.append(C9(v,h,i),l(m)),!1)}let d=[],f=Object.assign(Nxe,{defaultVisitor:u,convertValue:l,isVisitable:u1});function p(m,h){if(!V.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+h.join("."));d.push(m),V.forEach(m,function(g,w){(!(V.isUndefined(g)||g===null)&&o.call(e,g,V.isString(w)?w.trim():w,h,f))===!0&&p(g,h?h.concat(w):[w])}),d.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return p(t),e}function b9(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function X9(t,e){this._pairs=[],t&&B0(t,this,e)}var Z9=X9.prototype;Z9.append=function(e,n){this._pairs.push([e,n])};Z9.toString=function(e){let n=e?function(r){return e.call(this,r,b9)}:b9;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Lxe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function y1(t,e,n){if(!e)return t;let r=n&&n.encode||Lxe,o=n&&n.serialize,i;if(o?i=o(e,n):i=V.isURLSearchParams(e)?e.toString():new X9(e,n).toString(r),i){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}var d1=class{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}},_9=d1,E1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Axe=Yve.default.URLSearchParams,Oxe={isNode:!0,classes:{URLSearchParams:Axe,FormData:$9.default,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]},Q9=typeof window<"u"&&typeof document<"u",Fxe=(t=>Q9&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Uxe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Mxe=Object.freeze({__proto__:null,hasBrowserEnv:Q9,hasStandardBrowserWebWorkerEnv:Uxe,hasStandardBrowserEnv:Fxe}),Vi={...Mxe,...Oxe};function $xe(t,e){return B0(t,new Vi.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Vi.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function jxe(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Hxe(t){let e={},n=Object.keys(t),r,o=n.length,i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function eJ(t){function e(n,r,o,i){let s=n[i++],a=Number.isFinite(+s),c=i>=n.length;return s=!s&&V.isArray(o)?o.length:s,c?(V.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!V.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&V.isArray(o[s])&&(o[s]=Hxe(o[s])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){let n={};return V.forEachEntry(t,(r,o)=>{e(jxe(r),o,n,0)}),n}return null}function Bxe(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var C1={transitional:E1,adapter:["xhr","http"],transformRequest:[function(e,n){let r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=V.isObject(e);if(i&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return o&&o?JSON.stringify(eJ(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $xe(e,this.formSerializer).toString();if((a=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return B0(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),Bxe(e)):e}],transformResponse:[function(e){let n=this.transitional||C1.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&V.isString(e)&&(r&&!this.responseType||o)){let s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Se.from(a,Se.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vi.classes.FormData,Blob:Vi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{C1.headers[t]={}});var b1=C1,qxe=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wxe=t=>{let e={},n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&qxe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},S9=Symbol("internals");function vy(t){return t&&String(t).trim().toLowerCase()}function F0(t){return t===!1||t==null?t:V.isArray(t)?t.map(F0):String(t)}function Yxe(t){let e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}var Vxe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function s1(t,e,n,r,o){if(V.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function zxe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Gxe(t,e){let n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}var mg=class{constructor(e){e&&this.set(e)}set(e,n,r){let o=this;function i(a,c,l){let u=vy(c);if(!u)throw new Error("header name must be a non-empty string");let d=V.findKey(o,u);(!d||o[d]===void 0||l===!0||l===void 0&&o[d]!==!1)&&(o[d||c]=F0(a))}let s=(a,c)=>V.forEach(a,(l,u)=>i(l,u,c));return V.isPlainObject(e)||e instanceof this.constructor?s(e,n):V.isString(e)&&(e=e.trim())&&!Vxe(e)?s(Wxe(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=vy(e),e){let r=V.findKey(this,e);if(r){let o=this[r];if(!n)return o;if(n===!0)return Yxe(o);if(V.isFunction(n))return n.call(this,o,r);if(V.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vy(e),e){let r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||s1(this,this[r],r,n)))}return!1}delete(e,n){let r=this,o=!1;function i(s){if(s=vy(s),s){let a=V.findKey(r,s);a&&(!n||s1(r,r[a],a,n))&&(delete r[a],o=!0)}}return V.isArray(e)?e.forEach(i):i(e),o}clear(e){let n=Object.keys(this),r=n.length,o=!1;for(;r--;){let i=n[r];(!e||s1(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){let n=this,r={};return V.forEach(this,(o,i)=>{let s=V.findKey(r,i);if(s){n[s]=F0(o),delete n[i];return}let a=e?zxe(i):String(i).trim();a!==i&&delete n[i],n[a]=F0(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let n=Object.create(null);return V.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){let r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){let r=(this[S9]=this[S9]={accessors:{}}).accessors,o=this.prototype;function i(s){let a=vy(s);r[a]||(Gxe(o,s),r[a]=!0)}return V.isArray(e)?e.forEach(i):i(e),this}};mg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(mg.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(mg);var Gi=mg;function a1(t,e){let n=this||b1,r=e||n,o=Gi.from(r.headers),i=r.data;return V.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function tJ(t){return!!(t&&t.__CANCEL__)}function ep(t,e,n){Se.call(this,t??"canceled",Se.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(ep,Se,{__CANCEL__:!0});function xy(t,e,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Se("Request failed with status code "+n.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Kxe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Jxe(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function _1(t,e){return t&&!Kxe(e)?Jxe(t,e):e}var M0="1.6.1";function nJ(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var Xxe=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Zxe(t,e,n){let r=n&&n.Blob||Vi.classes.Blob,o=nJ(t);if(e===void 0&&r&&(e=!0),o==="data"){t=o.length?t.slice(o.length+1):t;let i=Xxe.exec(t);if(!i)throw new Se("Invalid URL",Se.ERR_INVALID_URL);let s=i[1],a=i[2],c=i[3],l=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!r)throw new Se("Blob is not supported",Se.ERR_NOT_SUPPORT);return new r([l],{type:s})}return l}throw new Se("Unsupported protocol "+o,Se.ERR_NOT_SUPPORT)}function Qxe(t,e){let n=0,r=1e3/e,o=null;return function(s,a){let c=Date.now();if(s||c-n>r)return o&&(clearTimeout(o),o=null),n=c,t.apply(null,a);o||(o=setTimeout(()=>(o=null,n=Date.now(),t.apply(null,a)),r-(c-n)))}}function rJ(t,e){t=t||10;let n=new Array(t),r=new Array(t),o=0,i=0,s;return e=e!==void 0?e:1e3,function(c){let l=Date.now(),u=r[i];s||(s=l),n[o]=c,r[o]=l;let d=i,f=0;for(;d!==o;)f+=n[d++],d=d%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),l-s<e)return;let p=u&&l-u;return p?Math.round(f*1e3/p):void 0}}var A0=Symbol("internals"),f1=class extends nd.default.Transform{constructor(e){e=V.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,c)=>!V.isUndefined(c[a])),super({readableHighWaterMark:e.chunkSize});let n=this,r=this[A0]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},o=rJ(r.ticksRate*e.samplesCount,r.timeWindow);this.on("newListener",a=>{a==="progress"&&(r.isCaptured||(r.isCaptured=!0))});let i=0;r.updateProgress=Qxe(function(){let c=r.length,l=r.bytesSeen,u=l-i;if(!u||n.destroyed)return;let d=o(u);i=l,process.nextTick(()=>{n.emit("progress",{loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&l<=c?(c-l)/d:void 0})})},r.ticksRate);let s=()=>{r.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){let n=this[A0];return n.onReadCallback&&n.onReadCallback(),super._read(e)}_transform(e,n,r){let o=this,i=this[A0],s=i.maxRate,a=this.readableHighWaterMark,c=i.timeWindow,l=1e3/c,u=s/l,d=i.minChunkSize!==!1?Math.max(i.minChunkSize,u*.01):0;function f(m,h){let v=Buffer.byteLength(m);i.bytesSeen+=v,i.bytes+=v,i.isCaptured&&i.updateProgress(),o.push(m)?process.nextTick(h):i.onReadCallback=()=>{i.onReadCallback=null,process.nextTick(h)}}let p=(m,h)=>{let v=Buffer.byteLength(m),g=null,w=a,x,y=0;if(s){let E=Date.now();(!i.ts||(y=E-i.ts)>=c)&&(i.ts=E,x=u-i.bytes,i.bytes=x<0?-x:0,y=0),x=u-i.bytes}if(s){if(x<=0)return setTimeout(()=>{h(null,m)},c-y);x<w&&(w=x)}w&&v>w&&v-w>d&&(g=m.subarray(w),m=m.subarray(0,w)),f(m,g?()=>{process.nextTick(h,null,g)}:h)};p(e,function m(h,v){if(h)return r(h);v?p(v,m):r(null)})}setLength(e){return this[A0].length=+e,this}},D9=f1,{asyncIterator:I9}=Symbol,ewe=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[I9]?yield*t[I9]():yield t},oJ=ewe,twe=V.ALPHABET.ALPHA_DIGIT+"-_",yy=new U9.TextEncoder,rd=`\r
`,nwe=yy.encode(rd),rwe=2,p1=class{constructor(e,n){let{escapeName:r}=this.constructor,o=V.isString(n),i=`Content-Disposition: form-data; name="${r(e)}"${!o&&n.name?`; filename="${r(n.name)}"`:""}${rd}`;o?n=yy.encode(String(n).replace(/\r?\n|\r\n?/g,rd)):i+=`Content-Type: ${n.type||"application/octet-stream"}${rd}`,this.headers=yy.encode(i+rd),this.contentLength=o?n.byteLength:n.size,this.size=this.headers.byteLength+this.contentLength+rwe,this.name=e,this.value=n}async*encode(){yield this.headers;let{value:e}=this;V.isTypedArray(e)?yield e:yield*oJ(e),yield nwe}static escapeName(e){return String(e).replace(/[\r\n"]/g,n=>({"\r":"%0D","\n":"%0A",'"':"%22"})[n])}},owe=(t,e,n)=>{let{tag:r="form-data-boundary",size:o=25,boundary:i=r+"-"+V.generateString(o,twe)}=n||{};if(!V.isFormData(t))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let s=yy.encode("--"+i+rd),a=yy.encode("--"+i+"--"+rd+rd),c=a.byteLength,l=Array.from(t.entries()).map(([d,f])=>{let p=new p1(d,f);return c+=p.size,p});c+=s.byteLength*l.length,c=V.toFiniteNumber(c);let u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(c)&&(u["Content-Length"]=c),e&&e(u),M9.Readable.from(async function*(){for(let d of l)yield s,yield*d.encode();yield a}())},iwe=owe,m1=class extends nd.default.Transform{__transform(e,n,r){this.push(e),r()}_transform(e,n,r){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let o=Buffer.alloc(2);o[0]=120,o[1]=156,this.push(o,n)}this.__transform(e,n,r)}},swe=m1,awe=(t,e)=>V.isAsyncFn(t)?function(...n){let r=n.pop();t.apply(this,n).then(o=>{try{e?r(null,...e(o)):r(null,o)}catch(i){r(i)}},r)}:t,cwe=awe,P9={flush:od.default.constants.Z_SYNC_FLUSH,finishFlush:od.default.constants.Z_SYNC_FLUSH},lwe={flush:od.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:od.default.constants.BROTLI_OPERATION_FLUSH},T9=V.isFunction(od.default.createBrotliDecompress),{http:uwe,https:dwe}=Kve.default,fwe=/https:?/,k9=Vi.protocols.map(t=>t+":");function pwe(t){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t)}function iJ(t,e,n){let r=e;if(!r&&r!==!1){let o=$ve.getProxyForUrl(n);o&&(r=new URL(o))}if(r){if(r.username&&(r.auth=(r.username||"")+":"+(r.password||"")),r.auth){(r.auth.username||r.auth.password)&&(r.auth=(r.auth.username||"")+":"+(r.auth.password||""));let i=Buffer.from(r.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.headers.host=t.hostname+(t.port?":"+t.port:"");let o=r.hostname||r.host;t.hostname=o,t.host=o,t.port=r.port,t.path=n,r.protocol&&(t.protocol=r.protocol.includes(":")?r.protocol:`${r.protocol}:`)}t.beforeRedirects.proxy=function(i){iJ(i,e,i.href)}}var mwe=typeof process<"u"&&V.kindOf(process)==="process",hwe=t=>new Promise((e,n)=>{let r,o,i=(c,l)=>{o||(o=!0,r&&r(c,l))},s=c=>{i(c),e(c)},a=c=>{i(c,!0),n(c)};t(s,a,c=>r=c).catch(a)}),gwe=({address:t,family:e})=>{if(!V.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},R9=(t,e)=>gwe(V.isObject(t)?t:{address:t,family:e}),vwe=mwe&&function(e){return hwe(async function(r,o,i){let{data:s,lookup:a,family:c}=e,{responseType:l,responseEncoding:u}=e,d=e.method.toUpperCase(),f,p=!1,m;if(a){let N=cwe(a,B=>V.isArray(B)?B:[B]);a=(B,K,q)=>{N(B,K,(X,ue,De)=>{let Le=V.isArray(ue)?ue.map(ft=>R9(ft)):[R9(ue,De)];K.all?q(X,Le):q(X,Le[0].address,Le[0].family)})}}let h=new Jve.default,v=()=>{e.cancelToken&&e.cancelToken.unsubscribe(g),e.signal&&e.signal.removeEventListener("abort",g),h.removeAllListeners()};i((N,B)=>{f=!0,B&&(p=!0,v())});function g(N){h.emit("abort",!N||N.type?new ep(null,e,m):N)}h.once("abort",o),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(g),e.signal&&(e.signal.aborted?g():e.signal.addEventListener("abort",g)));let w=_1(e.baseURL,e.url),x=new URL(w,"http://localhost"),y=x.protocol||k9[0];if(y==="data:"){let N;if(d!=="GET")return xy(r,o,{status:405,statusText:"method not allowed",headers:{},config:e});try{N=Zxe(e.url,l==="blob",{Blob:e.env&&e.env.Blob})}catch(B){throw Se.from(B,Se.ERR_BAD_REQUEST,e)}return l==="text"?(N=N.toString(u),(!u||u==="utf8")&&(N=V.stripBOM(N))):l==="stream"&&(N=nd.default.Readable.from(N)),xy(r,o,{data:N,status:200,statusText:"OK",headers:new Gi,config:e})}if(k9.indexOf(y)===-1)return o(new Se("Unsupported protocol "+y,Se.ERR_BAD_REQUEST,e));let E=Gi.from(e.headers).normalize();E.set("User-Agent","axios/"+M0,!1);let T=e.onDownloadProgress,k=e.onUploadProgress,R=e.maxRate,b,I;if(V.isSpecCompliantForm(s)){let N=E.getContentType(/boundary=([-_\w\d]{10,70})/i);s=iwe(s,B=>{E.set(B)},{tag:`axios-${M0}-boundary`,boundary:N&&N[1]||void 0})}else if(V.isFormData(s)&&V.isFunction(s.getHeaders)){if(E.set(s.getHeaders()),!E.hasContentLength())try{let N=await Gve.default.promisify(s.getLength).call(s);Number.isFinite(N)&&N>=0&&E.setContentLength(N)}catch{}}else if(V.isBlob(s))s.size&&E.setContentType(s.type||"application/octet-stream"),E.setContentLength(s.size||0),s=nd.default.Readable.from(oJ(s));else if(s&&!V.isStream(s)){if(!Buffer.isBuffer(s))if(V.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(V.isString(s))s=Buffer.from(s,"utf-8");else return o(new Se("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Se.ERR_BAD_REQUEST,e));if(E.setContentLength(s.length,!1),e.maxBodyLength>-1&&s.length>e.maxBodyLength)return o(new Se("Request body larger than maxBodyLength limit",Se.ERR_BAD_REQUEST,e))}let _=V.toFiniteNumber(E.getContentLength());V.isArray(R)?(b=R[0],I=R[1]):b=I=R,s&&(k||b)&&(V.isStream(s)||(s=nd.default.Readable.from(s,{objectMode:!1})),s=nd.default.pipeline([s,new D9({length:_,maxRate:V.toFiniteNumber(b)})],V.noop),k&&s.on("progress",N=>{k(Object.assign(N,{upload:!0}))}));let D;if(e.auth){let N=e.auth.username||"",B=e.auth.password||"";D=N+":"+B}if(!D&&x.username){let N=x.username,B=x.password;D=N+":"+B}D&&E.delete("authorization");let S;try{S=y1(x.pathname+x.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(N){let B=new Error(N.message);return B.config=e,B.url=e.url,B.exists=!0,o(B)}E.set("Accept-Encoding","gzip, compress, deflate"+(T9?", br":""),!1);let C={path:S,method:d,headers:E.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:D,protocol:y,family:c,beforeRedirect:pwe,beforeRedirects:{}};!V.isUndefined(a)&&(C.lookup=a),e.socketPath?C.socketPath=e.socketPath:(C.hostname=x.hostname,C.port=x.port,iJ(C,e.proxy,y+"//"+x.hostname+(x.port?":"+x.port:"")+C.path));let L,A=fwe.test(C.protocol);if(C.agent=A?e.httpsAgent:e.httpAgent,e.transport?L=e.transport:e.maxRedirects===0?L=A?zve.default:Vve.default:(e.maxRedirects&&(C.maxRedirects=e.maxRedirects),e.beforeRedirect&&(C.beforeRedirects.config=e.beforeRedirect),L=A?dwe:uwe),e.maxBodyLength>-1?C.maxBodyLength=e.maxBodyLength:C.maxBodyLength=1/0,e.insecureHTTPParser&&(C.insecureHTTPParser=e.insecureHTTPParser),m=L.request(C,function(B){if(m.destroyed)return;let K=[B],q=+B.headers["content-length"];if(T){let ft=new D9({length:V.toFiniteNumber(q),maxRate:V.toFiniteNumber(I)});T&&ft.on("progress",nt=>{T(Object.assign(nt,{download:!0}))}),K.push(ft)}let X=B,ue=B.req||m;if(e.decompress!==!1&&B.headers["content-encoding"])switch((d==="HEAD"||B.statusCode===204)&&delete B.headers["content-encoding"],(B.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":K.push(od.default.createUnzip(P9)),delete B.headers["content-encoding"];break;case"deflate":K.push(new swe),K.push(od.default.createUnzip(P9)),delete B.headers["content-encoding"];break;case"br":T9&&(K.push(od.default.createBrotliDecompress(lwe)),delete B.headers["content-encoding"])}X=K.length>1?nd.default.pipeline(K,V.noop):K[0];let De=nd.default.finished(X,()=>{De(),v()}),Le={status:B.statusCode,statusText:B.statusMessage,headers:new Gi(B.headers),config:e,request:ue};if(l==="stream")Le.data=X,xy(r,o,Le);else{let ft=[],nt=0;X.on("data",function(Ye){ft.push(Ye),nt+=Ye.length,e.maxContentLength>-1&&nt>e.maxContentLength&&(p=!0,X.destroy(),o(new Se("maxContentLength size of "+e.maxContentLength+" exceeded",Se.ERR_BAD_RESPONSE,e,ue)))}),X.on("aborted",function(){if(p)return;let Ye=new Se("maxContentLength size of "+e.maxContentLength+" exceeded",Se.ERR_BAD_RESPONSE,e,ue);X.destroy(Ye),o(Ye)}),X.on("error",function(Ye){m.destroyed||o(Se.from(Ye,null,e,ue))}),X.on("end",function(){try{let Ye=ft.length===1?ft[0]:Buffer.concat(ft);l!=="arraybuffer"&&(Ye=Ye.toString(u),(!u||u==="utf8")&&(Ye=V.stripBOM(Ye))),Le.data=Ye}catch(Ye){return o(Se.from(Ye,null,e,Le.request,Le))}xy(r,o,Le)})}h.once("abort",ft=>{X.destroyed||(X.emit("error",ft),X.destroy())})}),h.once("abort",N=>{o(N),m.destroy(N)}),m.on("error",function(B){o(Se.from(B,null,e,m))}),m.on("socket",function(B){B.setKeepAlive(!0,1e3*60)}),e.timeout){let N=parseInt(e.timeout,10);if(Number.isNaN(N)){o(new Se("error trying to parse `config.timeout` to int",Se.ERR_BAD_OPTION_VALUE,e,m));return}m.setTimeout(N,function(){if(f)return;let K=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",q=e.transitional||E1;e.timeoutErrorMessage&&(K=e.timeoutErrorMessage),o(new Se(K,q.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,m)),g()})}if(V.isStream(s)){let N=!1,B=!1;s.on("end",()=>{N=!0}),s.once("error",K=>{B=!0,m.destroy(K)}),s.on("close",()=>{!N&&!B&&g(new ep("Request stream has been aborted",e,m))}),s.pipe(m)}else m.end(s)})},xwe=Vi.hasStandardBrowserEnv?function(){return{write:function(n,r,o,i,s,a){let c=[];c.push(n+"="+encodeURIComponent(r)),V.isNumber(o)&&c.push("expires="+new Date(o).toGMTString()),V.isString(i)&&c.push("path="+i),V.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){let r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),wwe=Vi.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){let a=V.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function N9(t,e){let n=0,r=rJ(50,250);return o=>{let i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,c=r(a),l=i<=s;n=i;let u={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&l?(s-i)/c:void 0,event:o};u[e?"download":"upload"]=!0,t(u)}}var ywe=typeof XMLHttpRequest<"u",Ewe=ywe&&function(t){return new Promise(function(n,r){let o=t.data,i=Gi.from(t.headers).normalize(),s=t.responseType,a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let l;if(V.isFormData(o)){if(Vi.hasStandardBrowserEnv||Vi.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((l=i.getContentType())!==!1){let[m,...h]=l?l.split(";").map(v=>v.trim()).filter(Boolean):[];i.setContentType([m||"multipart/form-data",...h].join("; "))}}let u=new XMLHttpRequest;if(t.auth){let m=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(m+":"+h))}let d=_1(t.baseURL,t.url);u.open(t.method.toUpperCase(),y1(d,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;let m=Gi.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:m,config:t,request:u};xy(function(w){n(w),c()},function(w){r(w),c()},v),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new Se("Request aborted",Se.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Se("Network Error",Se.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let h=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",v=t.transitional||E1;t.timeoutErrorMessage&&(h=t.timeoutErrorMessage),r(new Se(h,v.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,t,u)),u=null},Vi.hasStandardBrowserEnv){let m=wwe(d)&&t.xsrfCookieName&&xwe.read(t.xsrfCookieName);m&&i.set(t.xsrfHeaderName,m)}o===void 0&&i.setContentType(null),"setRequestHeader"in u&&V.forEach(i.toJSON(),function(h,v){u.setRequestHeader(v,h)}),V.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",N9(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",N9(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=m=>{u&&(r(!m||m.type?new ep(null,t,u):m),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));let p=nJ(d);if(p&&Vi.protocols.indexOf(p)===-1){r(new Se("Unsupported protocol "+p+":",Se.ERR_BAD_REQUEST,t));return}u.send(o||null)})},h1={http:vwe,xhr:Ewe};V.forEach(h1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var L9=t=>`- ${t}`,Cwe=t=>V.isFunction(t)||t===null||t===!1,sJ={getAdapter:t=>{t=V.isArray(t)?t:[t];let{length:e}=t,n,r,o={};for(let i=0;i<e;i++){n=t[i];let s;if(r=n,!Cwe(n)&&(r=h1[(s=String(n)).toLowerCase()],r===void 0))throw new Se(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){let i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?i.length>1?`since :
`+i.map(L9).join(`
`):" "+L9(i[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:h1};function c1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ep(null,t)}function A9(t){return c1(t),t.headers=Gi.from(t.headers),t.data=a1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sJ.getAdapter(t.adapter||b1.adapter)(t).then(function(r){return c1(t),r.data=a1.call(t,t.transformResponse,r),r.headers=Gi.from(r.headers),r},function(r){return tJ(r)||(c1(t),r&&r.response&&(r.response.data=a1.call(t,t.transformResponse,r.response),r.response.headers=Gi.from(r.response.headers))),Promise.reject(r)})}var O9=t=>t instanceof Gi?t.toJSON():t;function hg(t,e){e=e||{};let n={};function r(l,u,d){return V.isPlainObject(l)&&V.isPlainObject(u)?V.merge.call({caseless:d},l,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function o(l,u,d){if(V.isUndefined(u)){if(!V.isUndefined(l))return r(void 0,l,d)}else return r(l,u,d)}function i(l,u){if(!V.isUndefined(u))return r(void 0,u)}function s(l,u){if(V.isUndefined(u)){if(!V.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,d){if(d in e)return r(l,u);if(d in t)return r(void 0,l)}let c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u)=>o(O9(l),O9(u),!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(u){let d=c[u]||o,f=d(t[u],e[u],u);V.isUndefined(f)&&d!==a||(n[u]=f)}),n}var S1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{S1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var F9={};S1.transitional=function(e,n,r){function o(i,s){return"[Axios v"+M0+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new Se(o(s," has been removed"+(n?" in "+n:"")),Se.ERR_DEPRECATED);return n&&!F9[s]&&(F9[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function bwe(t,e,n){if(typeof t!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);let r=Object.keys(t),o=r.length;for(;o-- >0;){let i=r[o],s=e[i];if(s){let a=t[i],c=a===void 0||s(a,i,t);if(c!==!0)throw new Se("option "+i+" must be "+c,Se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Se("Unknown option "+i,Se.ERR_BAD_OPTION)}}var g1={assertOptions:bwe,validators:S1},td=g1.validators,gg=class{constructor(e){this.defaults=e,this.interceptors={request:new _9,response:new _9}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=hg(this.defaults,n);let{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&g1.assertOptions(r,{silentJSONParsing:td.transitional(td.boolean),forcedJSONParsing:td.transitional(td.boolean),clarifyTimeoutError:td.transitional(td.boolean)},!1),o!=null&&(V.isFunction(o)?n.paramsSerializer={serialize:o}:g1.assertOptions(o,{encode:td.function,serialize:td.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&V.merge(i.common,i[n.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Gi.concat(s,i);let a=[],c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(c=c&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});let l=[];this.interceptors.response.forEach(function(h){l.push(h.fulfilled,h.rejected)});let u,d=0,f;if(!c){let m=[A9.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,l),f=m.length,u=Promise.resolve(n);d<f;)u=u.then(m[d++],m[d++]);return u}f=a.length;let p=n;for(d=0;d<f;){let m=a[d++],h=a[d++];try{p=m(p)}catch(v){h.call(this,v);break}}try{u=A9.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=l.length;d<f;)u=u.then(l[d++],l[d++]);return u}getUri(e){e=hg(this.defaults,e);let n=_1(e.baseURL,e.url);return y1(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){gg.prototype[e]=function(n,r){return this.request(hg(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(hg(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}gg.prototype[e]=n(),gg.prototype[e+"Form"]=n(!0)});var U0=gg,v1=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});let r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i,s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new ep(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new t(function(o){e=o}),cancel:e}}},_we=v1;function Swe(t){return function(n){return t.apply(null,n)}}function Dwe(t){return V.isObject(t)&&t.isAxiosError===!0}var x1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(x1).forEach(([t,e])=>{x1[e]=t});var Iwe=x1;function aJ(t){let e=new U0(t),n=j9(U0.prototype.request,e);return V.extend(n,U0.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return aJ(hg(t,o))},n}var Hn=aJ(b1);Hn.Axios=U0;Hn.CanceledError=ep;Hn.CancelToken=_we;Hn.isCancel=tJ;Hn.VERSION=M0;Hn.toFormData=B0;Hn.AxiosError=Se;Hn.Cancel=Hn.CanceledError;Hn.all=function(e){return Promise.all(e)};Hn.spread=Swe;Hn.isAxiosError=Dwe;Hn.mergeConfig=hg;Hn.AxiosHeaders=Gi;Hn.formToJSON=t=>eJ(V.isHTMLForm(t)?new FormData(t):t);Hn.getAdapter=sJ.getAdapter;Hn.HttpStatusCode=Iwe;Hn.default=Hn;cJ.exports=Hn});var uJ=F(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0});q0.AxiosHttpClient=void 0;var Pwe=lJ(),D1=class{constructor(e){this.endpoint=e}get(e){return Pwe.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};q0.AxiosHttpClient=D1});var dJ=F(W0=>{"use strict";Object.defineProperty(W0,"__esModule",{value:!0});W0.MemoryKeyValueStorage=void 0;var I1=class{constructor(){this.storage=new Map}async getValue(e,n){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(n||void 0)}setValue(e,n){this.storage.set(e,n)}};W0.MemoryKeyValueStorage=I1});var fJ=F(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0});Y0.ExperimentationServiceBase=void 0;var Twe=dJ(),P1=class{get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(e,n,r,o,i){this.telemetry=e,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=r,this.storageKey=o,this.storage=i,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(i=new Twe.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));let n=await this.fetchPromise;this.updateFeatures(n,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,n=!1){let r={features:[],assignmentContext:"",configs:[]};for(let o of e){for(let i of o.features)r.features.includes(i)||r.features.push(i);for(let i of o.configs){let s=r.configs.find(a=>a.Id===i.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),i.Parameters):r.configs.push(i)}r.assignmentContext+=o.assignmentContext}(n||!this.featuresConsumed)&&(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let n=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),n.features.includes(e)}getTreatmentVariable(e,n){this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${n}`);let r=this.features.configs.find(o=>o.Id===e);return r==null?void 0:r.Parameters[n]}async getTreatmentVariableAsync(e,n,r){if(r){let o=this.featuresConsumed,i=this.getTreatmentVariable(e,n);if(i===void 0)this.featuresConsumed=o;else return i}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,n)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let n of e)this.featureProviders.push(n)}};Y0.ExperimentationServiceBase=P1});var pJ=F(V0=>{"use strict";Object.defineProperty(V0,"__esModule",{value:!0});V0.PollingService=void 0;var T1=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};V0.PollingService=T1});var mJ=F(z0=>{"use strict";Object.defineProperty(z0,"__esModule",{value:!0});z0.ExperimentationServiceAutoPolling=void 0;var kwe=fJ(),Rwe=pJ(),k1=class extends kwe.ExperimentationServiceBase{constructor(e,n,r,o,i,s,a){if(super(e,o,i,s,a),this.telemetry=e,this.filterProviders=n,this.refreshRateMs=r,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=i,this.storageKey=s,this.storage=a,r<1e3&&r!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new Rwe.PollingService(r),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let n=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),n}else return await super.getFeaturesAsync(e)}};z0.ExperimentationServiceAutoPolling=k1});var hJ=F(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});K0.ExperimentationService=void 0;var Nwe=F7(),Lwe=uJ(),Awe=mJ(),G0=class extends Awe.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new Nwe.TasApiFeatureProvider(new Lwe.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};K0.ExperimentationService=G0;G0.REFRESH_RATE_IN_MINUTES=30});var gJ=F(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.ExperimentationService=void 0;var Owe=hJ();Object.defineProperty(J0,"ExperimentationService",{enumerable:!0,get:function(){return Owe.ExperimentationService}})});var vJ=F(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});X0.MementoKeyValueStorage=void 0;var R1=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,n){return await this.mementoGlobalStorage.get(e)||n}setValue(e,n){this.mementoGlobalStorage.update(e,n)}};X0.MementoKeyValueStorage=R1});var xJ=F(L1=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});var N1=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,n){}getTreatmentVariableAsync(e,n){return Promise.resolve(void 0)}};L1.default=N1});var yJ=F(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.getExperimentationServiceAsync=xg.getExperimentationService=void 0;var Fwe=WF(),Uwe=gJ(),A1=require("vscode"),Mwe=vJ(),$we=xJ(),jwe="https://default.exp-tas.com/vscode/ab",Hwe="query-expfeature",Bwe="abexp.assignmentcontext",qwe="VSCode.ABExp.FeatureData",Wwe=1e3*60*30;function wJ(t,e,n,r,o,...i){if(!o)throw new Error("Memento storage was not provided.");let s=A1.workspace.getConfiguration("telemetry");if(!(A1.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):A1.env.isTelemetryEnabled))return new $we.default;let l=[new Fwe.VSCodeFilterProvider(t,e,n),...i],u=new Mwe.MementoKeyValueStorage(o);return new Uwe.ExperimentationService({filterProviders:l,telemetry:r,storageKey:qwe,keyValueStorage:u,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:Bwe,telemetryEventName:Hwe,endpoint:jwe,refetchInterval:Wwe})}xg.getExperimentationService=wJ;async function Ywe(t,e,n,r,o,...i){let s=wJ(t,e,n,r,o,...i);return await s.initializePromise,s}xg.getExperimentationServiceAsync=Ywe});var CJ=F(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.TargetPopulation=id.getExperimentationServiceAsync=id.getExperimentationService=void 0;var EJ=yJ();Object.defineProperty(id,"getExperimentationService",{enumerable:!0,get:function(){return EJ.getExperimentationService}});Object.defineProperty(id,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return EJ.getExperimentationServiceAsync}});var Vwe=WF();Object.defineProperty(id,"TargetPopulation",{enumerable:!0,get:function(){return Vwe.TargetPopulation}})});var UZ=F((H8e,WEe)=>{WEe.exports={name:"remote-containers",displayName:"%displayName%",description:"%description%",version:"0.354.0",publisher:"ms-vscode-remote",icon:"resources/dev-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.86.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"%capabilities.untrustedWorkspaces.description%"},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","devcontainer","development container","continueOn"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost"],main:"./dist/extension/extension",l10n:"./l10n",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote","contribRemoteHelp"],contributes:{continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders",qualifiedName:"%continueEditSession.containerVolume%",remoteGroup:"remote_30_dev-container_2_actions@8"},{command:"remote-containers.openRepositoryFromGitWithEditSession",group:"0_local@2",when:"git.state == initialized && gitOpenRepositoryCount != 0 && remoteName =~ /(codespaces*.*|tunnel)/ && false",qualifiedName:"%continueEditSession.containerVolume%",remoteGroup:"remote_30_dev-container_2_actions@8"}],languages:[{id:"jsonc",filenames:["devcontainer-feature.json",".devcontainer-internal.json"]}],jsonValidation:[{fileMatch:"devcontainer-feature.json",url:"https://raw.githubusercontent.com/devcontainers/spec/main/schemas/devContainerFeature.schema.json"}],configuration:{title:"%configuration.title%",properties:{"remote.containers.defaultExtensions":{scope:"application",deprecationMessage:"%configuration.defaultExtensions.deprecationMessage%",markdownDeprecationMessage:"%configuration.defaultExtensions.markdownDeprecationMessage%"},"dev.containers.defaultExtensions":{scope:"application",type:"array",description:"%configuration.defaultExtensions.description%",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"%configuration.defaultExtensions.errorMessage%"}},"dev.containers.defaultExtensionsIfInstalledLocally":{scope:"application",type:"array",description:"%configuration.defaultExtensionsIfInstalledLocally.description%",default:["GitHub.copilot","GitHub.copilot-chat","GitHub.vscode-pull-request-github"],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"%configuration.defaultExtensionsIfInstalledLocally.errorMessage%"}},"dev.containers.defaultFeatures":{scope:"application",type:"object",description:"%configuration.defaultFeatures%",default:{}},"remote.containers.workspaceMountConsistency":{scope:"application",deprecationMessage:"%configuration.workspaceMountConsistency.deprecationMessage%",markdownDeprecationMessage:"%configuration.workspaceMountConsistency.markdownDeprecationMessage%"},"dev.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["%configuration.workspaceMountConsistency.consistent%","%configuration.workspaceMountConsistency.cached%","%configuration.workspaceMountConsistency.delegated%"],description:"%configuration.workspaceMountConsistency.description%",default:"cached"},"remote.containers.cacheVolume":{scope:"application",deprecationMessage:"%configuration.cacheVolume.deprecationMessage%",markdownDeprecationMessage:"%configuration.cacheVolume.markdownDeprecationMessage%"},"dev.containers.cacheVolume":{scope:"application",type:"boolean",description:"%configuration.cacheVolume.description%",default:!0},"remote.containers.copyGitConfig":{scope:"machine",deprecationMessage:"%configuration.copyGitConfig.deprecationMessage%",markdownDeprecationMessage:"%configuration.copyGitConfig.markdownDeprecationMessage%"},"dev.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"%configuration.copyGitConfig.markdownDescription%",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",deprecationMessage:"%configuration.gitCredentialHelperConfigLocation.deprecationMessage%",markdownDeprecationMessage:"%configuration.gitCredentialHelperConfigLocation.markdownDeprecationMessage%"},"dev.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["%configuration.gitCredentialHelperConfigLocation.system%","%configuration.gitCredentialHelperConfigLocation.global%","%configuration.gitCredentialHelperConfigLocation.none%"],description:"%configuration.gitCredentialHelperConfigLocation.description%",default:"global"},"dev.containers.dockerCredentialHelper":{scope:"machine",type:"boolean",markdownDescription:"%configuration.dockerCredentialHelper.markdownDescription%",default:!0},"dev.containers.mountWaylandSocket":{scope:"application",type:"boolean",markdownDescription:"%configuration.mountWaylandSocket.markdownDescription%",default:!0},"remote.containers.logLevel":{scope:"application",deprecationMessage:"%configuration.logLevel.deprecationMessage%",markdownDeprecationMessage:"%configuration.logLevel.markdownDeprecationMessage%"},"dev.containers.logLevel":{scope:"application",type:"string",description:"%configuration.logLevel.description%",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",deprecationMessage:"%configuration.dockerPath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dockerPath.markdownDeprecationMessage%"},"dev.containers.dockerPath":{scope:"application",type:"string",description:"%configuration.dockerPath.description%",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",deprecationMessage:"%configuration.dockerComposePath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dockerComposePath.markdownDeprecationMessage%"},"dev.containers.dockerComposePath":{scope:"application",type:"string",description:"%configuration.dockerComposePath.description%",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",deprecationMessage:"%configuration.executeInWSL.deprecationMessage%",markdownDeprecationMessage:"%configuration.executeInWSL.markdownDeprecationMessage%"},"dev.containers.executeInWSL":{scope:"application",type:"boolean",description:"%configuration.executeInWSL.description%",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",deprecationMessage:"%configuration.executeInWSLDistro.deprecationMessage%",markdownDeprecationMessage:"%configuration.executeInWSLDistro.markdownDeprecationMessage%"},"dev.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"%configuration.executeInWSLDistro.markdownDescription%"},"dev.containers.forwardWSLServices":{scope:"application",type:"boolean",description:"%configuration.forwardWSLServices.description%",default:!0},"dotfiles.repository":{scope:"machine",type:"string",description:"%configuration.dotfiles.repository.description%"},"dotfiles.installCommand":{scope:"machine",type:"string",description:"%configuration.dotfiles.installCommand.description%"},"dotfiles.targetPath":{scope:"machine",type:"string",description:"%configuration.dotfiles.targetPath.description%",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",deprecationMessage:"%configuration.dotfiles.repository.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.repository.markdownDeprecationMessage%"},"remote.containers.dotfiles.installCommand":{scope:"machine",deprecationMessage:"%configuration.dotfiles.installCommand.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.installCommand.markdownDeprecationMessage%"},"remote.containers.dotfiles.targetPath":{scope:"machine",deprecationMessage:"%configuration.dotfiles.targetPath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.targetPath.markdownDeprecationMessage%"},"remote.containers.repositoryConfigurationPaths":{scope:"application",deprecationMessage:"%configuration.repositoryConfigurationPaths.deprecationMessage%",markdownDeprecationMessage:"%configuration.repositoryConfigurationPaths.markdownDeprecationMessage%"},"dev.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"%configuration.repositoryConfigurationPaths.markdownDescription%",default:[],items:{type:"string"}},"dev.containers.experimentalLockfile":{scope:"application",type:"boolean",description:"%configuration.experimentalLockfile.description%",default:!1}}},commands:[{command:"remote-containers.reopenInContainer",title:"%command.reopenInContainer%",category:"%command.category%"},{command:"remote-containers.rebuildAndReopenInContainer",title:"%command.rebuildAndReopenInContainer%",category:"%command.category%"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"%command.rebuildNoCacheAndReopenInContainer%",category:"%command.category%"},{command:"remote-containers.reopenLocally",title:"%command.reopenLocally%",category:"%command.category%"},{command:"remote-containers.reopenInWSL",title:"%command.reopenInWSL%",category:"%command.category%"},{command:"remote-containers.reopenInSSH",title:"%command.reopenInSSH%",category:"%command.category%"},{command:"remote-containers.reopenInTunnel",title:"%command.reopenInTunnel%",category:"%command.category%"},{command:"remote-containers.openFolder",title:"%command.openFolder%",category:"%command.category%",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openFolderInContainerInCurrentWindow",title:"%command.openFolderInContainerInCurrentWindow%",category:"%command.category%",icon:"$(arrow-right)"},{command:"remote-containers.openFolderInContainerInNewWindow",title:"%command.openFolderInContainerInNewWindow%",category:"%command.category%",icon:"$(empty-window)"},{command:"remote-containers.openInformationAboutMountPerformance",title:"%command.openInformationAboutMountPerformance%",category:"%command.category%",icon:"$(info)"},{command:"remote-containers.openRepositoryInVolume",title:"%command.openRepositoryInVolume%",category:"%command.category%"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"%command.openRepositoryInUniqueVolume%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"%command.openRepositoryFromRemoteHubWithEditSession%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openRepositoryFromGitWithEditSession",title:"%command.openRepositoryFromGitWithEditSession%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openPullRequestInVolume",title:"%command.openPullRequestInVolume%",category:"%command.category%"},{command:"remote-containers.inspectVolume",title:"%command.inspectVolume%",category:"%command.category%"},{command:"remote-containers.openWorkspace",title:"%command.openWorkspace%",category:"%command.category%"},{command:"remote-containers.attachToRunningContainer",title:"%command.attachToRunningContainer%",category:"%command.category%"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"%command.attachToRunningContainerFromViewlet%",category:"%command.category%"},{command:"remote-containers.inspectVolumeFromViewlet",title:"%command.inspectVolumeFromViewlet%",category:"%command.category%"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"%command.cloneInVolumeFromViewlet%",category:"%command.category%"},{command:"remote-containers.cleanUpDevContainers",title:"%command.cleanUpDevContainers%",category:"%command.category%",icon:"$(clear-all)"},{command:"remote-containers.pruneVolumes",title:"%command.pruneVolumes%",category:"%command.category%",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"%command.explorerVolumesRefresh%",category:"%command.category%",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"%command.attachToK8sContainerFromViewlet%",category:"%command.category%"},{command:"remote-containers.switchContainer",title:"%command.switchContainer%",category:"%command.category%"},{command:"remote-containers.rebuildContainer",title:"%command.rebuildContainer%",category:"%command.category%",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"%command.rebuildContainerNoCache%",category:"%command.category%",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"%command.createDevContainerFile%",category:"%command.category%"},{command:"remote-containers.createDevContainerFileWithCopilot",title:"%command.createDevContainerFileWithCopilot%",category:"%command.category%"},{command:"remote-containers.createDevContainer",title:"%command.createDevContainer%",category:"%command.category%"},{command:"remote-containers.settings",title:"%command.settings%",category:"%command.category%"},{command:"remote-containers.getHelp",title:"%command.getHelp%",category:"%command.category%"},{command:"remote-containers.getStarted",title:"%command.getStarted%",category:"%command.category%"},{command:"remote-containers.trySample",title:"%command.trySample%",category:"%command.category%"},{command:"remote-containers.reportIssue",title:"%command.reportIssue%",category:"%command.category%"},{command:"remote-containers.provideFeedback",title:"%command.provideFeedback%",category:"%command.category%"},{command:"remote-containers.openDevContainerFile",title:"%command.openDevContainerFile%",category:"%command.category%",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"%command.openAttachConfigByNameFile%",category:"%command.category%"},{command:"remote-containers.openAttachDevContainerFile",title:"%command.openAttachDevContainerFile%",category:"%command.category%"},{command:"remote-containers.revealLogTerminal",title:"%command.revealLogTerminal%",category:"%command.category%"},{command:"remote-containers.openLogFile",title:"%command.openLogFile%",category:"Dev Containers Developer"},{command:"remote-containers.openLastLogFile",title:"%command.openLastLogFile%",category:"%command.category%"},{command:"remote-containers.attachToContainerInCurrentWindow",title:"%command.attachToContainerInCurrentWindow%",category:"%command.category%",icon:"$(arrow-right)"},{command:"remote-containers.attachToContainerInNewWindow",title:"%command.attachToContainerInNewWindow%",category:"%command.category%",icon:"$(empty-window)"},{command:"remote-containers.stopContainer",title:"%command.stopContainer%",category:"%command.category%"},{command:"remote-containers.startContainer",title:"%command.startContainer%",category:"%command.category%",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"%command.removeContainer%",category:"%command.category%",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"%command.removeRecentFolder%",category:"%command.category%",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"%command.showDetails%",category:"%command.category%"},{command:"remote-containers.explorerTargetsRefresh",title:"%command.explorerTargetsRefresh%",category:"%command.category%",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"%command.explorerDetailsRefresh%",category:"%command.category%",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"%command.inspectDockerResource%",category:"%command.category%"},{command:"remote-containers.inspectInBasicDevContainer",title:"%command.inspectInBasicDevContainer%",category:"%command.category%"},{command:"remote-containers.cloneInVolume",title:"%command.cloneInVolume%",category:"%command.category%"},{command:"remote-containers.removeVolume",title:"%command.removeVolume%",category:"%command.category%"},{command:"remote-containers.newContainer",title:"%command.newContainer%",category:"%command.category%",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"%command.showContainerLog%",category:"%command.category%"},{command:"remote-containers.addExtensionToConfig",title:"%command.addExtensionToConfig%",category:"%command.category%"},{command:"remote-containers.checkoutPRInVolume",title:"%command.checkoutPRInVolume%",category:"%command.category%"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"%command.showReopenInContainerNotificationReset%",category:"%command.category%"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"%command.showRecoveryContainerNotificationReset%",category:"%command.category%"},{command:"remote-containers.labelPortAndUpdateConfig",title:"%command.labelPortAndUpdateConfig%",category:"%command.category%",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"%command.installDocker%",category:"%command.category%"},{command:"remote-containers.installDockerInWSL",title:"%command.installDockerInWSL%",category:"%command.category%"},{command:"remote-containers.installUserCLI",title:"%command.installUserCLI%",category:"%command.category%"},{command:"remote-containers.configureContainerFeatures",title:"%command.configureContainerFeatures%",category:"%command.category%"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.reopenInTunnel",when:"canReopenInTunnel"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.createDevContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.openRepositoryFromGitWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.switchContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.createDevContainerFileWithCopilot",when:"false && github.copilot.activated && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFileWithCopilot",when:"false && github.copilot.activated && remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.getStarted",when:"!remoteName && !virtualWorkspace || remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"false"},{command:"remote-containers.attachToContainerInNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"false"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"false"},{command:"remote-containers.openInformationAboutMountPerformance",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.installDockerInWSL",when:"isWindows && !remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_2_actions@0",when:"true"},{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_2_actions@1",when:"true"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@2",when:"true"},{command:"remote-containers.configureContainerFeatures",group:"remote_30_dev-container_2_actions@3",when:"remoteName =~ /^(dev-container)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"workspaceFolderCount == 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /tunnel*.*/ && gitOpenRepositoryCount == 0"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_2_actions@6",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_2_actions@7",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_2_actions@7",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_2_actions@7",when:"canReopenInSSH"},{command:"remote-containers.reopenInTunnel",group:"remote_30_dev-container_2_actions@7",when:"canReopenInTunnel"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@8",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@8",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@8",when:"workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@3"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@1"},{command:"remote-containers.cleanUpDevContainers",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@2"},{command:"remote-containers.newContainer",when:"view == dockerContainers",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/",group:"1_pullrequest@3"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@2"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@2"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@3"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInTunnel",when:"canReopenInTunnel && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"1_container@1"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"inline@1"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"1_container@2"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"inline@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^running(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@3"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.openInformationAboutMountPerformance",when:"view == detailsContainers && viewItem == mountPerformanceInfo",group:"inline@1"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote|tunnel)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.dev-container.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.attached-container.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.exec.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.k8s-container.workspaceSuffix%"}}],views:{remote:[{id:"targetsContainers",name:"%views.remote.targetsContainers%",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"%views.remote.detailsContainers%",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"%views.remote.devVolumes%",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"%viewsWelcome.targetsContainers.needsDockerStartOrInstall%"},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"%viewsWelcome.targetsContainers.needsSSHCredentials%"},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:"%viewsWelcome.targetsContainers.noContainersWithFolder%"},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:"%viewsWelcome.targetsContainers.noContainersWithoutFolder%"},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:"%viewsWelcome.devVolumes.noDevVolumes%"}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist compile-watch",postinstall:"yarn --cwd node_modules/@devcontainers/cli",precommit:"node build/hygiene.js",package:"vsce package --yarn",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"npx npm-run-all --npm-path npm compile-cli-prod copy-cli esbuild-prod","compile-dev":"npx npm-run-all --npm-path npm compile-cli-dev copy-cli esbuild-dev","compile-watch":"npx npm-run-all --npm-path npm --parallel compile-cli-watch watch-cli esbuild-watch","esbuild-prod":"node esbuild.js --production","esbuild-dev":"node esbuild.js","esbuild-watch":"node esbuild.js --watch","compile-cli-prod":"yarn --cwd node_modules/@devcontainers/cli compile-prod","compile-cli-dev":"yarn --cwd node_modules/@devcontainers/cli compile-dev","compile-cli-watch":"yarn --cwd node_modules/@devcontainers/cli compile-watch","copy-cli":'copyfiles --up 4 --all "node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js" dist',"watch-cli":"npm-watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":"copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dev-containers-cli","dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},watch:{"copy-cli":"node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js"},devDependencies:{"@types/adm-zip":"^0.5.4","@types/chai":"^4.3.10","@types/follow-redirects":"^1.14.4","@types/js-yaml":"^4.0.9","@types/markdown-it":"^13.0.6","@types/minimist":"^1.2.5","@types/mocha":"^10.0.4","@types/ncp":"^2.0.8","@types/node":"^18.15.3","@types/pull-stream":"^3.6.5","@types/recursive-readdir":"^2.2.4","@types/semver":"^7.5.5","@types/stats-lite":"^2.2.2","@types/tar":"^6.1.9","@types/tar-stream":"^3.1.3","@types/vscode":"~1.75.0","@types/yargs":"^17.0.31","@typescript-eslint/eslint-plugin":"^6.11.0","@typescript-eslint/experimental-utils":"^5.62.0","@typescript-eslint/parser":"^6.11.0","@vscode/l10n-dev":"^0.0.30","@vscode/vsce":"^2.22.0",ajv:"^8.12.0",chai:"^4.3.10",copyfiles:"^2.4.1",esbuild:"^0.19.5",eslint:"^8.53.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^9.0.1",husky:"^8.0.3",jsonc:"^2.0.0",minimist:"^1.2.8",mocha:"^10.2.0","npm-run-all":"^4.1.5","npm-watch":"^0.11.0","p-all":"^5.0.0",rimraf:"^5.0.5","stats-lite":"^2.2.0","ts-node":"^10.9.1",typescript:"^5.2.2","typescript-formatter":"^7.2.2",vinyl:"^3.0.0","vinyl-fs":"^4.0.0"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#05ae9d8c6e95ef08c7e6ade25857a40cfdb57e94","@vscode/extension-telemetry":"^0.9.0","@vscode/l10n":"^0.0.16","adm-zip":"^0.5.10",applicationinsights:"^2.9.1","find-process":"^1.4.7","follow-redirects":"^1.15.6","js-yaml":"^4.1.0","jsonc-parser":"^3.2.0",muxrpc:"^6.7.3","node-pty":"^1.0.0","pull-pushable":"^2.2.0","pull-stream":"^3.7.0","pull-stream-to-stream":"^2.0.0",semver:"^7.5.4","stream-to-pull-stream":"^1.7.3",tar:"^6.2.0","tar-stream":"^3.1.6","vscode-tas-client":"^0.1.75","vscode-uri":"^3.0.8",yargs:"~17.7.2"}}});var CCe={};zg(CCe,{activate:()=>YEe,attachToContainer:()=>qy,deactivate:()=>KEe});module.exports=Gg(CCe);var O=G(require("vscode")),HZ=G(Tr()),oe=require("vscode"),BZ=G(require("os")),WI=G(require("fs")),St=G(require("path")),qZ=G(require("querystring"));function Jg(t,e=!1){let n=t.length,r=0,o="",i=0,s=16,a=0,c=0,l=0,u=0,d=0;function f(x,y){let E=0,T=0;for(;E<x||!y;){let k=t.charCodeAt(r);if(k>=48&&k<=57)T=T*16+k-48;else if(k>=65&&k<=70)T=T*16+k-65+10;else if(k>=97&&k<=102)T=T*16+k-97+10;else break;r++,E++}return E<x&&(T=-1),T}function p(x){r=x,o="",i=0,s=16,d=0}function m(){let x=r;if(t.charCodeAt(r)===48)r++;else for(r++;r<t.length&&xp(t.charCodeAt(r));)r++;if(r<t.length&&t.charCodeAt(r)===46)if(r++,r<t.length&&xp(t.charCodeAt(r)))for(r++;r<t.length&&xp(t.charCodeAt(r));)r++;else return d=3,t.substring(x,r);let y=r;if(r<t.length&&(t.charCodeAt(r)===69||t.charCodeAt(r)===101))if(r++,(r<t.length&&t.charCodeAt(r)===43||t.charCodeAt(r)===45)&&r++,r<t.length&&xp(t.charCodeAt(r))){for(r++;r<t.length&&xp(t.charCodeAt(r));)r++;y=r}else d=3;return t.substring(x,y)}function h(){let x="",y=r;for(;;){if(r>=n){x+=t.substring(y,r),d=2;break}let E=t.charCodeAt(r);if(E===34){x+=t.substring(y,r),r++;break}if(E===92){if(x+=t.substring(y,r),r++,r>=n){d=2;break}switch(t.charCodeAt(r++)){case 34:x+='"';break;case 92:x+="\\";break;case 47:x+="/";break;case 98:x+="\b";break;case 102:x+="\f";break;case 110:x+=`
`;break;case 114:x+="\r";break;case 116:x+="	";break;case 117:let k=f(4,!0);k>=0?x+=String.fromCharCode(k):d=4;break;default:d=5}y=r;continue}if(E>=0&&E<=31)if(Kg(E)){x+=t.substring(y,r),d=2;break}else d=6;r++}return x}function v(){if(o="",d=0,i=r,c=a,u=l,r>=n)return i=n,s=17;let x=t.charCodeAt(r);if(YI(x)){do r++,o+=String.fromCharCode(x),x=t.charCodeAt(r);while(YI(x));return s=15}if(Kg(x))return r++,o+=String.fromCharCode(x),x===13&&t.charCodeAt(r)===10&&(r++,o+=`
`),a++,l=r,s=14;switch(x){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,o=h(),s=10;case 47:let y=r-1;if(t.charCodeAt(r+1)===47){for(r+=2;r<n&&!Kg(t.charCodeAt(r));)r++;return o=t.substring(y,r),s=12}if(t.charCodeAt(r+1)===42){r+=2;let E=n-1,T=!1;for(;r<E;){let k=t.charCodeAt(r);if(k===42&&t.charCodeAt(r+1)===47){r+=2,T=!0;break}r++,Kg(k)&&(k===13&&t.charCodeAt(r)===10&&r++,a++,l=r)}return T||(r++,d=1),o=t.substring(y,r),s=13}return o+=String.fromCharCode(x),r++,s=16;case 45:if(o+=String.fromCharCode(x),r++,r===n||!xp(t.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return o+=m(),s=11;default:for(;r<n&&g(x);)r++,x=t.charCodeAt(r);if(i!==r){switch(o=t.substring(i,r),o){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return o+=String.fromCharCode(x),r++,s=16}}function g(x){if(YI(x)||Kg(x))return!1;switch(x){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function w(){let x;do x=v();while(x>=12&&x<=15);return x}return{setPosition:p,getPosition:()=>r,scan:e?w:v,getToken:()=>s,getTokenValue:()=>o,getTokenOffset:()=>i,getTokenLength:()=>r-i,getTokenStartLine:()=>c,getTokenStartCharacter:()=>i-u,getTokenError:()=>d}}function YI(t){return t===32||t===9}function Kg(t){return t===10||t===13}function xp(t){return t>=48&&t<=57}var JU;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(JU||(JU={}));function VI(t,e,n){let r,o,i,s,a;if(e){for(s=e.offset,a=s+e.length,i=s;i>0&&!Xg(t,i-1);)i--;let x=a;for(;x<t.length&&!Xg(t,x);)x++;o=t.substring(i,x),r=wQ(o,n)}else o=t,r=0,i=0,s=0,a=t.length;let c=yQ(n,t),l=0,u=0,d;n.insertSpaces?d=wp(" ",n.tabSize||4):d="	";let f=Jg(o,!1),p=!1;function m(){return l>1?wp(c,l)+wp(d,r+u):c+wp(d,r+u)}function h(){let x=f.scan();for(l=0;x===15||x===14;)x===14&&n.keepLines?l+=1:x===14&&(l=1),x=f.scan();return p=x===16||f.getTokenError()!==0,x}let v=[];function g(x,y,E){!p&&(!e||y<a&&E>s)&&t.substring(y,E)!==x&&v.push({offset:y,length:E-y,content:x})}let w=h();if(n.keepLines&&l>0&&g(wp(c,l),0,0),w!==17){let x=f.getTokenOffset()+i,y=wp(d,r);g(y,i,x)}for(;w!==17;){let x=f.getTokenOffset()+f.getTokenLength()+i,y=h(),E="",T=!1;for(;l===0&&(y===12||y===13);){let R=f.getTokenOffset()+i;g(" ",x,R),x=f.getTokenOffset()+f.getTokenLength()+i,T=y===12,E=T?m():"",y=h()}if(y===2)w!==1&&u--,n.keepLines&&l>0||!n.keepLines&&w!==1?E=m():n.keepLines&&(E=" ");else if(y===4)w!==3&&u--,n.keepLines&&l>0||!n.keepLines&&w!==3?E=m():n.keepLines&&(E=" ");else{switch(w){case 3:case 1:u++,n.keepLines&&l>0||!n.keepLines?E=m():E=" ";break;case 5:n.keepLines&&l>0||!n.keepLines?E=m():E=" ";break;case 12:E=m();break;case 13:l>0?E=m():T||(E=" ");break;case 6:n.keepLines&&l>0?E=m():T||(E=" ");break;case 10:n.keepLines&&l>0?E=m():y===6&&!T&&(E="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&l>0?E=m():(y===12||y===13)&&!T?E=" ":y!==5&&y!==17&&(p=!0);break;case 16:p=!0;break}l>0&&(y===12||y===13)&&(E=m())}y===17&&(n.keepLines&&l>0?E=m():E=n.insertFinalNewline?c:"");let k=f.getTokenOffset()+i;g(E,x,k),w=y}return v}function wp(t,e){let n="";for(let r=0;r<e;r++)n+=t;return n}function wQ(t,e){let n=0,r=0,o=e.tabSize||4;for(;n<t.length;){let i=t.charAt(n);if(i===" ")r++;else if(i==="	")r+=o;else break;n++}return Math.floor(r/o)}function yQ(t,e){for(let n=0;n<e.length;n++){let r=e.charAt(n);if(r==="\r")return n+1<e.length&&e.charAt(n+1)===`
`?`\r
`:"\r";if(r===`
`)return`
`}return t&&t.eol||`
`}function Xg(t,e){return`\r
`.indexOf(t.charAt(e))!==-1}var Zg;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Zg||(Zg={}));function XU(t,e){let n=[],r=new Object,o,i={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,l,u,d){i.value=c,i.offset=l,i.length=u,i.type=d,i.colonOffset=void 0,o=i}try{Qy(t,{onObjectBegin:(c,l)=>{if(e<=c)throw r;o=void 0,s=e>c,n.push("")},onObjectProperty:(c,l,u)=>{if(e<l||(a(c,l,u,"property"),n[n.length-1]=c,e<=l+u))throw r},onObjectEnd:(c,l)=>{if(e<=c)throw r;o=void 0,n.pop()},onArrayBegin:(c,l)=>{if(e<=c)throw r;o=void 0,n.push(0)},onArrayEnd:(c,l)=>{if(e<=c)throw r;o=void 0,n.pop()},onLiteralValue:(c,l,u)=>{if(e<l||(a(c,l,u,QU(c)),e<=l+u))throw r},onSeparator:(c,l,u)=>{if(e<=l)throw r;if(c===":"&&o&&o.type==="property")o.colonOffset=l,s=!1,o=void 0;else if(c===","){let d=n[n.length-1];typeof d=="number"?n[n.length-1]=d+1:(s=!0,n[n.length-1]=""),o=void 0}}})}catch(c){if(c!==r)throw c}return{path:n,previousNode:o,isAtPropertyKey:s,matches:c=>{let l=0;for(let u=0;l<c.length&&u<n.length;u++)if(c[l]===n[u]||c[l]==="*")l++;else if(c[l]!=="**")return!1;return l===c.length}}}function ZU(t,e=[],n=Zg.DEFAULT){let r=null,o=[],i=[];function s(c){Array.isArray(o)?o.push(c):r!==null&&(o[r]=c)}return Qy(t,{onObjectBegin:()=>{let c={};s(c),i.push(o),o=c,r=null},onObjectProperty:c=>{r=c},onObjectEnd:()=>{o=i.pop()},onArrayBegin:()=>{let c=[];s(c),i.push(o),o=c,r=null},onArrayEnd:()=>{o=i.pop()},onLiteralValue:s,onError:(c,l,u)=>{e.push({error:c,offset:l,length:u})}},n),o[0]}function Zy(t,e=[],n=Zg.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function o(c){r.type==="property"&&(r.length=c-r.offset,r=r.parent)}function i(c){return r.children.push(c),c}Qy(t,{onObjectBegin:c=>{r=i({type:"object",offset:c,length:-1,parent:r,children:[]})},onObjectProperty:(c,l,u)=>{r=i({type:"property",offset:l,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:c,offset:l,length:u,parent:r})},onObjectEnd:(c,l)=>{o(c+l),r.length=c+l-r.offset,r=r.parent,o(c+l)},onArrayBegin:(c,l)=>{r=i({type:"array",offset:c,length:-1,parent:r,children:[]})},onArrayEnd:(c,l)=>{r.length=c+l-r.offset,r=r.parent,o(c+l)},onLiteralValue:(c,l,u)=>{i({type:QU(c),offset:l,length:u,parent:r,value:c}),o(l+u)},onSeparator:(c,l,u)=>{r.type==="property"&&(c===":"?r.colonOffset=l:c===","&&o(l))},onError:(c,l,u)=>{e.push({error:c,offset:l,length:u})}},n);let a=r.children[0];return a&&delete a.parent,a}function Qg(t,e){if(!t)return;let n=t;for(let r of e)if(typeof r=="string"){if(n.type!=="object"||!Array.isArray(n.children))return;let o=!1;for(let i of n.children)if(Array.isArray(i.children)&&i.children[0].value===r&&i.children.length===2){n=i.children[1],o=!0;break}if(!o)return}else{let o=r;if(n.type!=="array"||o<0||!Array.isArray(n.children)||o>=n.children.length)return;n=n.children[o]}return n}function Xy(t){switch(t.type){case"array":return t.children.map(Xy);case"object":let e=Object.create(null);for(let n of t.children){let r=n.children[1];r&&(e[n.children[0].value]=Xy(r))}return e;case"null":case"string":case"number":case"boolean":return t.value;default:return}}function Qy(t,e,n=Zg.DEFAULT){let r=Jg(t,!1),o=[];function i(D){return D?()=>D(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function s(D){return D?()=>D(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>o.slice()):()=>!0}function a(D){return D?S=>D(S,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function c(D){return D?S=>D(S,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>o.slice()):()=>!0}let l=s(e.onObjectBegin),u=c(e.onObjectProperty),d=i(e.onObjectEnd),f=s(e.onArrayBegin),p=i(e.onArrayEnd),m=c(e.onLiteralValue),h=a(e.onSeparator),v=i(e.onComment),g=a(e.onError),w=n&&n.disallowComments,x=n&&n.allowTrailingComma;function y(){for(;;){let D=r.scan();switch(r.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:w||E(11);break;case 2:E(12);break;case 6:E(16);break}switch(D){case 12:case 13:w?E(10):v();break;case 16:E(1);break;case 15:case 14:break;default:return D}}}function E(D,S=[],C=[]){if(g(D),S.length+C.length>0){let L=r.getToken();for(;L!==17;){if(S.indexOf(L)!==-1){y();break}else if(C.indexOf(L)!==-1)break;L=y()}}}function T(D){let S=r.getTokenValue();return D?m(S):(u(S),o.push(S)),y(),!0}function k(){switch(r.getToken()){case 11:let D=r.getTokenValue(),S=Number(D);isNaN(S)&&(E(2),S=0),m(S);break;case 7:m(null);break;case 8:m(!0);break;case 9:m(!1);break;default:return!1}return y(),!0}function R(){return r.getToken()!==10?(E(3,[],[2,5]),!1):(T(!1),r.getToken()===6?(h(":"),y(),_()||E(4,[],[2,5])):E(5,[],[2,5]),o.pop(),!0)}function b(){l(),y();let D=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(D||E(4,[],[]),h(","),y(),r.getToken()===2&&x)break}else D&&E(6,[],[]);R()||E(4,[],[2,5]),D=!0}return d(),r.getToken()!==2?E(7,[2],[]):y(),!0}function I(){f(),y();let D=!0,S=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(S||E(4,[],[]),h(","),y(),r.getToken()===4&&x)break}else S&&E(6,[],[]);D?(o.push(0),D=!1):o[o.length-1]++,_()||E(4,[],[4,5]),S=!0}return p(),D||o.pop(),r.getToken()!==4?E(8,[4],[]):y(),!0}function _(){switch(r.getToken()){case 3:return I();case 1:return b();case 10:return T(!0);default:return k()}}return y(),r.getToken()===17?n.allowEmptyContent?!0:(E(4,[],[]),!1):_()?(r.getToken()!==17&&E(9,[],[]),!0):(E(4,[],[]),!1)}function QU(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}function eM(t,e,n,r){let o=e.slice(),s=Zy(t,[]),a,c;for(;o.length>0&&(c=o.pop(),a=Qg(s,o),a===void 0&&n!==void 0);)typeof c=="string"?n={[c]:n}:n=[n];if(a)if(a.type==="object"&&typeof c=="string"&&Array.isArray(a.children)){let l=Qg(a,[c]);if(l!==void 0)if(n===void 0){if(!l.parent)throw new Error("Malformed AST");let u=a.children.indexOf(l.parent),d,f=l.parent.offset+l.parent.length;if(u>0){let p=a.children[u-1];d=p.offset+p.length}else d=a.offset+1,a.children.length>1&&(f=a.children[1].offset);return gd(t,{offset:d,length:f-d,content:""},r)}else return gd(t,{offset:l.offset,length:l.length,content:JSON.stringify(n)},r);else{if(n===void 0)return[];let u=`${JSON.stringify(c)}: ${JSON.stringify(n)}`,d=r.getInsertionIndex?r.getInsertionIndex(a.children.map(p=>p.children[0].value)):a.children.length,f;if(d>0){let p=a.children[d-1];f={offset:p.offset+p.length,length:0,content:","+u}}else a.children.length===0?f={offset:a.offset+1,length:0,content:u}:f={offset:a.offset+1,length:0,content:u+","};return gd(t,f,r)}}else if(a.type==="array"&&typeof c=="number"&&Array.isArray(a.children)){let l=c;if(l===-1){let u=`${JSON.stringify(n)}`,d;if(a.children.length===0)d={offset:a.offset+1,length:0,content:u};else{let f=a.children[a.children.length-1];d={offset:f.offset+f.length,length:0,content:","+u}}return gd(t,d,r)}else if(n===void 0&&a.children.length>=0){let u=c,d=a.children[u],f;if(a.children.length===1)f={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===u){let p=a.children[u-1],m=p.offset+p.length,h=a.offset+a.length;f={offset:m,length:h-2-m,content:""}}else f={offset:d.offset,length:a.children[u+1].offset-d.offset,content:""};return gd(t,f,r)}else if(n!==void 0){let u,d=`${JSON.stringify(n)}`;if(!r.isArrayInsertion&&a.children.length>c){let f=a.children[c];u={offset:f.offset,length:f.length,content:d}}else if(a.children.length===0||c===0)u={offset:a.offset+1,length:0,content:a.children.length===0?d:d+","};else{let f=c>a.children.length?a.children.length:c,p=a.children[f-1];u={offset:p.offset+p.length,length:0,content:","+d}}return gd(t,u,r)}else throw new Error(`Can not ${n===void 0?"remove":r.isArrayInsertion?"insert":"modify"} Array index ${l} as length is not sufficient`)}else throw new Error(`Can not add ${typeof c!="number"?"index":"property"} to parent of type ${a.type}`);else{if(n===void 0)throw new Error("Can not delete in empty document");return gd(t,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}}function gd(t,e,n){if(!n.formattingOptions)return[e];let r=eE(t,e),o=e.offset,i=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;o>0&&!Xg(r,o-1);)o--;for(;i<r.length&&!Xg(r,i);)i++}let s=VI(r,{offset:o,length:i-o},{...n.formattingOptions,keepLines:!1});for(let c=s.length-1;c>=0;c--){let l=s[c];r=eE(r,l),o=Math.min(o,l.offset),i=Math.max(i,l.offset+l.length),i+=l.content.length-l.length}let a=t.length-(r.length-i)-o;return[{offset:o,length:a,content:r.substring(o,i)}]}function eE(t,e){return t.substring(0,e.offset)+e.content+t.substring(e.offset+e.length)}var tM;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(tM||(tM={}));var nM;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(nM||(nM={}));var oM=XU,Ge=ZU,vd=Zy,Xi=Qg;var tE=Xy;var rM;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(rM||(rM={}));function Sn(t,e,n,r){return eM(t,e,n,r)}function wo(t,e){let n=e.slice(0).sort((o,i)=>{let s=o.offset-i.offset;return s===0?o.length-i.length:s}),r=t.length;for(let o=n.length-1;o>=0;o--){let i=n[o];if(i.offset+i.length<=r)t=eE(t,i);else throw new Error("Overlapping edit");r=i.offset}return t}var qt=G(require("fs")),ks=require("util");function gr(t){return new Promise(e=>qt.stat(t,(n,r)=>e(!n&&r.isFile())))}function iM(t){return new Promise(e=>qt.stat(t,(n,r)=>e(!n&&r.isDirectory())))}function sM(t){return new Promise(e=>qt.stat(t,(n,r)=>e(!n&&r.isSocket())))}var ot=(0,ks.promisify)(qt.readFile),nE=(0,ks.promisify)(qt.writeFile),NCe=(0,ks.promisify)(qt.appendFile),nl=(0,ks.promisify)(qt.rename),rl=(0,ks.promisify)(qt.readdir),aM=(0,ks.promisify)(qt.unlink),Zi=t=>new Promise((e,n)=>qt.mkdir(t,{recursive:!0},r=>r?n(r):e())),cM=(0,ks.promisify)(qt.rmdir),ol=(0,ks.promisify)(qt.rm),LCe=(0,ks.promisify)(qt.copyFile);function rE(t,e,n){let r=t.relative(e,n);return!!r&&!r.startsWith("..")&&!t.isAbsolute(r)}var ze=G(require("vscode")),Dr=require("vscode"),Fy=G(require("path"));var Mx=G(require("path")),Um=G(Tr());var fM=G(require("os")),tv=G(require("fs")),pM=G(require("path"));var zI=require("events"),Rs=class{nodeEmitter=new zI.EventEmitter;disposables;constructor(...e){this.disposables=e}event=e=>(this.nodeEmitter.on("event",e),{dispose:()=>{this.nodeEmitter.off("event",e)}});fire(e){this.nodeEmitter.emit("event",e)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(e=>e.dispose())}},oE=class{nodeEmitter=new zI.EventEmitter;event=e=>{let n=r=>r.results.push(e(r.data));return this.nodeEmitter.on("event",n),{dispose:()=>{this.nodeEmitter.off("event",n)}}};fire(e){let n=[];return this.nodeEmitter.emit("event",{data:e,results:n}),n}dispose(){this.nodeEmitter.removeAllListeners()}};function lM(t,e){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:e,package:t,getTelemetryLevel:()=>"off"}}var kr=(a=>(a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off",a))(kr||{}),KI={info:3,debug:2,trace:1},_Q=Object.keys(KI).reduce((t,e)=>(t[KI[e]]=e,t),[]);function sE(t){return KI[t]||3}function yo(t){return _Q[t]||3}var $e={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Ns=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function mM(t,e){let n=!!e;return{event:r=>{n&&(n=!1,t.forEach(o=>o.event({type:"text",level:3,timestamp:Date.now(),text:e}))),t.forEach(o=>o.event(r))}}}function hM(t,e){let n=IQ(t);return{event(r){let o=DQ(r,e());o&&n.write(o)},join:n.join}}function gM(t,e,n){return{event(r){let o=SQ(r,e(),n.getTime());o&&t(o)}}}function eo(t,e=2){return{event:t.event,write(n,r=e){t.event({type:"text",level:r,timestamp:Date.now(),text:n})},raw(n,r=e){t.event({type:"raw",level:r,timestamp:Date.now(),text:n})},start(n,r=e){let o=Date.now();return t.event({type:"start",level:r,timestamp:o,text:n}),o},stop(n,r,o=e){t.event({type:"stop",level:o,timestamp:Date.now(),text:n,startTimestamp:r})},get dimensions(){return t.dimensions},onDidChangeDimensions:t.onDidChangeDimensions}}function SQ(t,e,n){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":return`[${ev(uM,`${t.timestamp-n} ms`)}] ${iE(t.text)}`;case"raw":return t.text;case"start":return 1>=e?`${ev(RQ,`[${t.timestamp-n} ms] Start`)}: ${iE(t.text)}`:`[${ev(uM,`${t.timestamp-n} ms`)}] Start: ${iE(t.text)}`;case"stop":return 1>=e?`${ev(kQ,`[${t.timestamp-n} ms] Stop`)} (${t.timestamp-t.startTimestamp} ms): ${iE(t.text)}`:void 0;default:throw vM(t)}}function iE(t){return LQ(t).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function DQ(t,e){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":case"raw":return`[${new Date(t.timestamp).toISOString()}] ${GI(t.text)}`;case"start":return`[${new Date(t.timestamp).toISOString()}] Start: ${GI(t.text)}`;case"stop":return 2>=e?`[${new Date(t.timestamp).toISOString()}] Stop (${t.timestamp-t.startTimestamp} ms): ${GI(t.text)}`:void 0;default:throw vM(t)}}function GI(t){return t.replace(Ns,"").replace(/(\r?\n)?$/,fM.EOL)}function vM(t){return new Error(`Unknown log event type: ${t.type}`)}function IQ(t){let e=[],n=!1,r,o;function i(){n=!1,o&&!e.length&&(r=void 0,o(),o=void 0)}function s(a,c=!1){if(a&&e.push(a),!c&&!n&&e.length){n=!0;let l=e.join("");e.length=0,tv.appendFile(t,l,u=>{u&&(u.code==="ENOENT"?tv.mkdir(pM.dirname(t),{recursive:!0},d=>{d?(i(),console.error(d)):tv.appendFile(t,l,f=>{i(),f&&console.error(f),s()})}):(i(),console.error(u))),i(),s()})}}return{write:s,join:()=>r||(n?r=new Promise(a=>o=a):Promise.resolve())}}var PQ="38;2;143;99;79",xM="38;2;99;143;79",TQ="38;2;86;156;214",kQ=PQ,RQ=xM,uM=xM,NQ=TQ;function ev(t,e){return e.split(`
`).map(n=>`\x1B[1m\x1B[${t}m${n}\x1B[39m\x1B[22m`).join(`
`)}function LQ(t){let e,n=0,r=[];for(Ns.lastIndex=0;e=Ns.exec(t);)r.push(dM(t.substring(n,e.index))),r.push(e[0]),n=Ns.lastIndex;return r.push(dM(t.substr(n))),r.join("")}function dM(t){let e=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,n,r=0,o=[];for(;n=e.exec(t);)o.push(t.substring(r,n.index)),o.push(ev(NQ,n[0])),r=e.lastIndex;return o.push(t.substr(r)),o.join("")}function Dt(t){return t.split(/\r?\n/).map(e=>`\x1B[1m\x1B[31m${e}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}function JI(t){return t.split(/\r?\n/).map(e=>`\x1B[1m\x1B[33m${e}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}var Ee=class extends Error{description;detail;step;originalError;manageContainer=!1;params;containerId;dockerParams;volumeName;repositoryPath;folderPath;containerProperties;config;actions=[];data={};constructor(e){var n;super(e.originalError&&e.originalError.message||e.description),Object.assign(this,e),this.actions||(this.actions=[]),this.data||(this.data={}),(n=this.originalError)!=null&&n.stack&&(this.stack=this.originalError.stack)}};var ye=G(require("path")),Mb=G(require("fs")),Lz=G(av()),QR=require("string_decoder"),Ll=G(wC());var bm=G(require("crypto")),Az=G(yk()),Nl=G(Tr()),Oz=G(rq()),Fz=G(Jq());var jle=G(require("path")),YR=require("string_decoder");var Pb=G(require("path")),KV=G(require("stream")),JV=G(require("os")),xm=G(require("child_process")),gx=require("string_decoder");var UV=G(require("path")),MV=G(require("assert"));var Xq;(()=>{"use strict";var t={470:o=>{function i(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,l){for(var u,d="",f=0,p=-1,m=0,h=0;h<=c.length;++h){if(h<c.length)u=c.charCodeAt(h);else{if(u===47)break;u=47}if(u===47){if(!(p===h-1||m===1))if(p!==h-1&&m===2){if(d.length<2||f!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var v=d.lastIndexOf("/");if(v!==d.length-1){v===-1?(d="",f=0):f=(d=d.slice(0,v)).length-1-d.lastIndexOf("/"),p=h,m=0;continue}}else if(d.length===2||d.length===1){d="",f=0,p=h,m=0;continue}}l&&(d.length>0?d+="/..":d="..",f=2)}else d.length>0?d+="/"+c.slice(p+1,h):d=c.slice(p+1,h),f=h-p-1;p=h,m=0}else u===46&&m!==-1?++m:m=-1}return d}var a={resolve:function(){for(var c,l="",u=!1,d=arguments.length-1;d>=-1&&!u;d--){var f;d>=0?f=arguments[d]:(c===void 0&&(c=process.cwd()),f=c),i(f),f.length!==0&&(l=f+"/"+l,u=f.charCodeAt(0)===47)}return l=s(l,!u),u?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(c){if(i(c),c.length===0)return".";var l=c.charCodeAt(0)===47,u=c.charCodeAt(c.length-1)===47;return(c=s(c,!l)).length!==0||l||(c="."),c.length>0&&u&&(c+="/"),l?"/"+c:c},isAbsolute:function(c){return i(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,l=0;l<arguments.length;++l){var u=arguments[l];i(u),u.length>0&&(c===void 0?c=u:c+="/"+u)}return c===void 0?".":a.normalize(c)},relative:function(c,l){if(i(c),i(l),c===l||(c=a.resolve(c))===(l=a.resolve(l)))return"";for(var u=1;u<c.length&&c.charCodeAt(u)===47;++u);for(var d=c.length,f=d-u,p=1;p<l.length&&l.charCodeAt(p)===47;++p);for(var m=l.length-p,h=f<m?f:m,v=-1,g=0;g<=h;++g){if(g===h){if(m>h){if(l.charCodeAt(p+g)===47)return l.slice(p+g+1);if(g===0)return l.slice(p+g)}else f>h&&(c.charCodeAt(u+g)===47?v=g:g===0&&(v=0));break}var w=c.charCodeAt(u+g);if(w!==l.charCodeAt(p+g))break;w===47&&(v=g)}var x="";for(g=u+v+1;g<=d;++g)g!==d&&c.charCodeAt(g)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+l.slice(p+v):(p+=v,l.charCodeAt(p)===47&&++p,l.slice(p))},_makeLong:function(c){return c},dirname:function(c){if(i(c),c.length===0)return".";for(var l=c.charCodeAt(0),u=l===47,d=-1,f=!0,p=c.length-1;p>=1;--p)if((l=c.charCodeAt(p))===47){if(!f){d=p;break}}else f=!1;return d===-1?u?"/":".":u&&d===1?"//":c.slice(0,d)},basename:function(c,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');i(c);var u,d=0,f=-1,p=!0;if(l!==void 0&&l.length>0&&l.length<=c.length){if(l.length===c.length&&l===c)return"";var m=l.length-1,h=-1;for(u=c.length-1;u>=0;--u){var v=c.charCodeAt(u);if(v===47){if(!p){d=u+1;break}}else h===-1&&(p=!1,h=u+1),m>=0&&(v===l.charCodeAt(m)?--m==-1&&(f=u):(m=-1,f=h))}return d===f?f=h:f===-1&&(f=c.length),c.slice(d,f)}for(u=c.length-1;u>=0;--u)if(c.charCodeAt(u)===47){if(!p){d=u+1;break}}else f===-1&&(p=!1,f=u+1);return f===-1?"":c.slice(d,f)},extname:function(c){i(c);for(var l=-1,u=0,d=-1,f=!0,p=0,m=c.length-1;m>=0;--m){var h=c.charCodeAt(m);if(h!==47)d===-1&&(f=!1,d=m+1),h===46?l===-1?l=m:p!==1&&(p=1):l!==-1&&(p=-1);else if(!f){u=m+1;break}}return l===-1||d===-1||p===0||p===1&&l===d-1&&l===u+1?"":c.slice(l,d)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(l,u){var d=u.dir||u.root,f=u.base||(u.name||"")+(u.ext||"");return d?d===u.root?d+f:d+"/"+f:f}(0,c)},parse:function(c){i(c);var l={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return l;var u,d=c.charCodeAt(0),f=d===47;f?(l.root="/",u=1):u=0;for(var p=-1,m=0,h=-1,v=!0,g=c.length-1,w=0;g>=u;--g)if((d=c.charCodeAt(g))!==47)h===-1&&(v=!1,h=g+1),d===46?p===-1?p=g:w!==1&&(w=1):p!==-1&&(w=-1);else if(!v){m=g+1;break}return p===-1||h===-1||w===0||w===1&&p===h-1&&p===m+1?h!==-1&&(l.base=l.name=m===0&&f?c.slice(1,h):c.slice(m,h)):(m===0&&f?(l.name=c.slice(1,p),l.base=c.slice(1,h)):(l.name=c.slice(m,p),l.base=c.slice(m,h)),l.ext=c.slice(p,h)),m>0?l.dir=c.slice(0,m-1):f&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,o.exports=a}},e={};function n(o){var i=e[o];if(i!==void 0)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.d=(o,i)=>{for(var s in i)n.o(i,s)&&!n.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:i[s]})},n.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),n.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var r={};(()=>{let o;n.r(r),n.d(r,{URI:()=>f,Utils:()=>I}),typeof process=="object"?o=process.platform==="win32":typeof navigator=="object"&&(o=navigator.userAgent.indexOf("Windows")>=0);let i=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(_,D){if(!_.scheme&&D)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${_.authority}", path: "${_.path}", query: "${_.query}", fragment: "${_.fragment}"}`);if(_.scheme&&!i.test(_.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(_.path){if(_.authority){if(!s.test(_.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(_.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let l="",u="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(D){return D instanceof f||!!D&&typeof D.authority=="string"&&typeof D.fragment=="string"&&typeof D.path=="string"&&typeof D.query=="string"&&typeof D.scheme=="string"&&typeof D.fsPath=="string"&&typeof D.with=="function"&&typeof D.toString=="function"}scheme;authority;path;query;fragment;constructor(D,S,C,L,A,N=!1){typeof D=="object"?(this.scheme=D.scheme||l,this.authority=D.authority||l,this.path=D.path||l,this.query=D.query||l,this.fragment=D.fragment||l):(this.scheme=function(B,K){return B||K?B:"file"}(D,N),this.authority=S||l,this.path=function(B,K){switch(B){case"https":case"http":case"file":K?K[0]!==u&&(K=u+K):K=u}return K}(this.scheme,C||l),this.query=L||l,this.fragment=A||l,c(this,N))}get fsPath(){return w(this,!1)}with(D){if(!D)return this;let{scheme:S,authority:C,path:L,query:A,fragment:N}=D;return S===void 0?S=this.scheme:S===null&&(S=l),C===void 0?C=this.authority:C===null&&(C=l),L===void 0?L=this.path:L===null&&(L=l),A===void 0?A=this.query:A===null&&(A=l),N===void 0?N=this.fragment:N===null&&(N=l),S===this.scheme&&C===this.authority&&L===this.path&&A===this.query&&N===this.fragment?this:new m(S,C,L,A,N)}static parse(D,S=!1){let C=d.exec(D);return C?new m(C[2]||l,T(C[4]||l),T(C[5]||l),T(C[7]||l),T(C[9]||l),S):new m(l,l,l,l,l)}static file(D){let S=l;if(o&&(D=D.replace(/\\/g,u)),D[0]===u&&D[1]===u){let C=D.indexOf(u,2);C===-1?(S=D.substring(2),D=u):(S=D.substring(2,C),D=D.substring(C)||u)}return new m("file",S,D,l,l)}static from(D){let S=new m(D.scheme,D.authority,D.path,D.query,D.fragment);return c(S,!0),S}toString(D=!1){return x(this,D)}toJSON(){return this}static revive(D){if(D){if(D instanceof f)return D;{let S=new m(D);return S._formatted=D.external,S._fsPath=D._sep===p?D.fsPath:null,S}}return D}}let p=o?1:void 0;class m extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=w(this,!1)),this._fsPath}toString(D=!1){return D?x(this,!0):(this._formatted||(this._formatted=x(this,!1)),this._formatted)}toJSON(){let D={$mid:1};return this._fsPath&&(D.fsPath=this._fsPath,D._sep=p),this._formatted&&(D.external=this._formatted),this.path&&(D.path=this.path),this.scheme&&(D.scheme=this.scheme),this.authority&&(D.authority=this.authority),this.query&&(D.query=this.query),this.fragment&&(D.fragment=this.fragment),D}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(_,D,S){let C,L=-1;for(let A=0;A<_.length;A++){let N=_.charCodeAt(A);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||D&&N===47||S&&N===91||S&&N===93||S&&N===58)L!==-1&&(C+=encodeURIComponent(_.substring(L,A)),L=-1),C!==void 0&&(C+=_.charAt(A));else{C===void 0&&(C=_.substr(0,A));let B=h[N];B!==void 0?(L!==-1&&(C+=encodeURIComponent(_.substring(L,A)),L=-1),C+=B):L===-1&&(L=A)}}return L!==-1&&(C+=encodeURIComponent(_.substring(L))),C!==void 0?C:_}function g(_){let D;for(let S=0;S<_.length;S++){let C=_.charCodeAt(S);C===35||C===63?(D===void 0&&(D=_.substr(0,S)),D+=h[C]):D!==void 0&&(D+=_[S])}return D!==void 0?D:_}function w(_,D){let S;return S=_.authority&&_.path.length>1&&_.scheme==="file"?`//${_.authority}${_.path}`:_.path.charCodeAt(0)===47&&(_.path.charCodeAt(1)>=65&&_.path.charCodeAt(1)<=90||_.path.charCodeAt(1)>=97&&_.path.charCodeAt(1)<=122)&&_.path.charCodeAt(2)===58?D?_.path.substr(1):_.path[1].toLowerCase()+_.path.substr(2):_.path,o&&(S=S.replace(/\//g,"\\")),S}function x(_,D){let S=D?g:v,C="",{scheme:L,authority:A,path:N,query:B,fragment:K}=_;if(L&&(C+=L,C+=":"),(A||L==="file")&&(C+=u,C+=u),A){let q=A.indexOf("@");if(q!==-1){let X=A.substr(0,q);A=A.substr(q+1),q=X.lastIndexOf(":"),q===-1?C+=S(X,!1,!1):(C+=S(X.substr(0,q),!1,!1),C+=":",C+=S(X.substr(q+1),!1,!0)),C+="@"}A=A.toLowerCase(),q=A.lastIndexOf(":"),q===-1?C+=S(A,!1,!0):(C+=S(A.substr(0,q),!1,!0),C+=A.substr(q))}if(N){if(N.length>=3&&N.charCodeAt(0)===47&&N.charCodeAt(2)===58){let q=N.charCodeAt(1);q>=65&&q<=90&&(N=`/${String.fromCharCode(q+32)}:${N.substr(3)}`)}else if(N.length>=2&&N.charCodeAt(1)===58){let q=N.charCodeAt(0);q>=65&&q<=90&&(N=`${String.fromCharCode(q+32)}:${N.substr(2)}`)}C+=S(N,!0,!1)}return B&&(C+="?",C+=S(B,!1,!1)),K&&(C+="#",C+=D?K:v(K,!1,!1)),C}function y(_){try{return decodeURIComponent(_)}catch{return _.length>3?_.substr(0,3)+y(_.substr(3)):_}}let E=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function T(_){return _.match(E)?_.replace(E,D=>y(D)):_}var k=n(470);let R=k.posix||k,b="/";var I;(function(_){_.joinPath=function(D,...S){return D.with({path:R.join(D.path,...S)})},_.resolvePath=function(D,...S){let C=D.path,L=!1;C[0]!==b&&(C=b+C,L=!0);let A=R.resolve(C,...S);return L&&A[0]===b&&!D.authority&&(A=A.substring(1)),D.with({path:A})},_.dirname=function(D){if(D.path.length===0||D.path===b)return D;let S=R.dirname(D.path);return S.length===1&&S.charCodeAt(0)===46&&(S=""),D.with({path:S})},_.basename=function(D){return R.basename(D.path)},_.extname=function(D){return R.extname(D.path)}})(I||(I={}))})(),Xq=r})();var{URI:_e,Utils:ni}=Xq;var Zq=G(require("path"));var bl=G(Tr());function It(t,e){if(Jv(e)){let n=t.dirname(e);return{isWorkspaceFile:!0,workspaceOrFolderPath:e,rootFolderPath:n,configFolderPath:n}}return{isWorkspaceFile:!1,workspaceOrFolderPath:e,rootFolderPath:e,configFolderPath:e}}function Jv(t){return Zq.extname(t)===".code-workspace"}async function YC(t,e){if(e.isWorkspaceFile)try{let n=e.rootFolderPath,r=(await t.readFile(e.workspaceOrFolderPath)).toString(),i=Ge(r).folders;if(i&&i.length>0){for(let s of i){let a=s.path,c;if(a){if(t.path.isAbsolute(a))return bl.t("Workspace contains an absolute folder path '{0}'.",a);c=t.path.resolve(n,a)}else{let l=s.uri;return l?_e.parse(l).scheme!=="file"?bl.t("Workspace contains folder '{0}' not on the local file system.",l):bl.t("Workspace contains an absolute folder path '{0}'.",l):bl.t("Workspace contains a folder that defines neither a path nor a URI.")}if(!Wae(t,c,n))return bl.t("Folder '{0}' is not a subfolder of shared root folder '{1}'.",c,n)}return}return bl.t("Workspace does not define any folders")}catch(n){return bl.t("Problems loading workspace file {0}: {1}",e.workspaceOrFolderPath,n&&(n.message||n.toString()))}}function Wae(t,e,n){return e===n?!0:!e||!n||n.length>e.length||e.length>n.length&&e.charAt(n.length)!==t.path.sep?!1:Yae(t.platform,n,e.substr(0,n.length))}function Yae(t,e,n){return t==="linux"?e===n:e.toLowerCase()===n.toLowerCase()}var gn=G(require("path")),db=G(wC()),AR=G(require("crypto")),lb=G(Xv()),RV=require("string_decoder");var OR=G(Tr());var Zv=G(require("path"));async function rY(t,e){let n=await dR(t,"agent-socket");if(!n){e.write("gpg-agent: No agent-socket found in container.");return}let r=await dR(t,"homedir");try{let{stdout:o}=await t.exec(`ls '${r}/private-keys-v1.d' 2>/dev/null`);if(o.trim()){e.write("gpg-agent: Private keys found in container, not forwarding.");return}}catch{}return n}async function oY(t,e,n,r){let o=await nY(t,"agent-extra-socket",r);if(!o){r.write(`gpg-agent: No agent-extra-socket found on ${t.type} host.`);return}let i=(async()=>{await e.exec(`mkdir -p -m 700 '${Zv.posix.dirname(n)}'`);let s=await nY(t,"homedir",r),a=await dR(e,"homedir");s&&a&&(await qd(t,e,t.path.join(s,"pubring.kbx"),Zv.posix.join(a,"pubring.kbx"),"gpg"),await qd(t,e,t.path.join(s,"pubring.gpg"),Zv.posix.join(a,"pubring.gpg"),"gpg"),await qd(t,e,t.path.join(s,"trustdb.gpg"),Zv.posix.join(a,"trustdb.gpg"),"gpg")),await vce(t,r)})();return{cliHost:t,remoteGpgSocket:n,localGpgSocket:o,ready:i}}async function nY(t,e,n){try{let{stdout:r}=await ae({exec:t.exec,cmd:"gpgconf",args:["--list-dir",e],output:n,print:!0}),o=r.toString().trim();if(o.indexOf(`
`)!==-1){let i=new RegExp(`^${e}:(.*)$`,"m").exec(o);i&&(o=i[1])}return t.platform==="win32"&&/^\/.\//.test(o)&&(o=`${o.charAt(1)}:${o.substr(2).replace(/\//g,"\\")}`),o}catch{return}}async function dR(t,e){try{let{stdout:n}=await t.exec(`gpgconf --list-dir ${e}`),r=n.trim();if(r.indexOf(`
`)!==-1){let o=new RegExp(`^${e}:(.*)$`,"m").exec(r);if(o)return o[1]}return r}catch{return}}async function vce(t,e){try{await ae({exec:t.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:e})}catch{}}var aY=G(require("path"));async function Qv(t,e,n){if(!("exec"in t)){for(let r=e,o="";r!==o;o=r,r=t.path.dirname(r))if(await t.isFile(t.path.join(r,".git","config")))return r;return}try{let{stdout:r}=await ae({exec:t.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:e,output:n}),o=r.toString().trim();return t.path.resolve(e,o)}catch{return}}async function fR(t,e,n,r){try{return await ae({exec:t.exec,cmd:"git",args:["ls-remote",e],cwd:".",env:n,output:r,print:"onerror"}),!0}catch(o){return(o==null?void 0:o.code)==="ENOENT"?void 0:!1}}async function cY(t,e,n,r,o){let i=r[1],s={get:"fill",store:"approve",erase:"reject"}[i];if(s===void 0)throw new Error(`Expected get, store or erase, got: ${i}`);let a=await iY(n?t:e,s,o).catch(c=>{if(n)throw c});return!n&&(a==null?void 0:a.code)!==0&&(a=await iY(t,s,o),a.code===0&&(n=!0)),{result:a,preferLocalCLIHost:n}}async function iY({exec:t},e,n){try{let{stdout:r,stderr:o}=await ae({exec:t,cmd:"git",args:["credential",e],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(n),output:$e});return{stdout:r.toString(),stderr:o.toString(),code:0}}catch(r){if(!(r&&r.stdout&&r.stderr))throw r;let{stdout:o,stderr:i,code:s}=r;return{stdout:o.toString(),stderr:i.toString(),code:s||0}}}async function lY(t,e,n){let r=await pR(t,e,n);if(!r)return;r.startsWith("refs/")&&(r=r.substr(5)),r.startsWith("remotes/")&&(r=r.substr(8));let o=r.indexOf("/");if(o===-1)return;let i=r.substr(0,o),s=r.substr(o+1);try{let{stdout:a}=await ae({exec:t.exec,cmd:"git",args:["remote","get-url",i],cwd:e.rootFolderPath,output:n}),c=a.toString().trim();if(c.endsWith(".git")&&(c=c.substr(0,c.length-4)),c.startsWith("https://github.com/")){let l=await Ece(t,e,i,n);if(l&&s!==l)return`${c}/tree/${s}`}return c}catch{return}}async function KC(t,e,n){if(!("exec"in t)){let o=await Qv(t,e.rootFolderPath,n);if(!o)return;try{return(await t.readFile(t.path.join(o,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(i){if((i==null?void 0:i.code)!=="ENOENT")throw i;return[]}}let r;try{let{stdout:o}=await ae({exec:t.exec,cmd:"git",args:["remote","-v"],cwd:e.rootFolderPath,output:n});r=o.toString()}catch{return}return Array.from(new Set(xce(/^[^\s]+\s+([^\s]+)/gm,r,1)))}function xce(t,e,n){return{[Symbol.iterator]:function*(){let r;for(;r=t.exec(e);)yield r[n],t.lastIndex===r.index&&t.lastIndex++}}}async function uY(t,e,n){return await wce(t,e,n)||yce(t,e,n)}async function wce(t,e,n){try{let{stdout:r}=await ae({exec:t.exec,cmd:"git",args:["status","--porcelain"],cwd:e.rootFolderPath,output:n});return!!r.toString().trim()}catch{return}}async function yce(t,e,n){let r=await pR(t,e,n);if(r)try{let{stdout:o}=await ae({exec:t.exec,cmd:"git",args:["log",`${r}..HEAD`],cwd:e.rootFolderPath,output:n});return!!o.toString().trim()}catch{return}}async function dY(t,e,n,r){let o=await pR(t,e,r);if(!o)return!1;try{let i=t.platform==="win32"?n.replace(/\\/g,"/"):n;return await ae({exec:t.exec,cmd:"git",args:["cat-file","-e",`${o}:${i}`],cwd:e.rootFolderPath,output:r}),!0}catch{return!1}}async function pR(t,e,n){try{let{stdout:r}=await ae({exec:t.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:e.rootFolderPath,output:n});return r.toString().trim()}catch{return}}async function Ece(t,e,n,r){try{let{stdout:o}=await ae({exec:t.exec,cmd:"git",args:["remote","show",n],cwd:e.rootFolderPath,output:r});return(o.toString().match(/^\s*HEAD branch:\s*(.*)$/m)||[])[1]}catch{return}}async function fY(t,e,n,r,o,i){let{extensionPath:s}=t;if(await e.isFolder(e.path.join(n,".git")))return{gitClone:void 0,gitUnshallow:void 0};await e.mkdirp(n);let a=r.tokenEnvVar?{...r.env,GIT_ASKPASS:e.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:e.env[r.tokenEnvVar]}:r.env,c=[];r.fullClone||c.push("--depth","1"),r.branch&&c.push("--branch",r.branch),r.recurseSubmodules&&c.push("--recurse-submodules");let l=Xa({ptyExec:e.ptyExec,cmd:"git",args:["clone",...c,r.url,"."],cwd:n,env:a,output:eo(o,3)}),u=r.fullClone?l:(async()=>(await l,await Xa({ptyExec:e.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:n,env:a,output:i}),Xa({ptyExec:e.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:n,env:a,output:i})))();return{gitClone:l,gitUnshallow:u}}async function JC(t,e,n){await ex(t,e,[".gitconfig"],"git"," && grep -e '^\\[' ~/.gitconfig | grep -v -E '^\\[(filter|safe)([[:blank:]]+|\\])'"),await Cce(t,e,n),await bce(t,e.shellServer)}var pY=["git","config"];async function Cce(t,e,n){let{cliHost:r}=t,o=await sY(r);if(!await r.isFile(o)&&(r.type==="local"||(r=await oo(process.cwd(),t.loadNativeModule,t.output),o=await sY(r),!await r.isFile(o))))return;let i=(async()=>{let s=await n,a=s.XDG_CONFIG_HOME?[s.XDG_CONFIG_HOME]:[e.homeFolder,".config"];return aY.posix.join(...a,...pY)})();await qd(r,e.shellServer,o,i,"git")}async function sY(t){let{env:e}=t,n=e.XDG_CONFIG_HOME?[e.XDG_CONFIG_HOME]:[await t.homedir(),".config"];return t.path.join(...n,...pY)}async function bce(t,e){await e.exec(`# Cleaning up git config
for key in core.editor core.sshCommand gpg.program
do
	value="$(git config --global --get $key)"
	executable="\${value%% *}"
	([ -z "$executable" ] || [ "$executable" = "${t.product.applicationName}" ]) && continue
	command -v "$executable" >/dev/null 2>&1 || (echo "Removing Git config key: $key = $value" && git config --global --unset $key)
done
git config --global --unset http.sslBackend || true`)}var Sl=require("stream");async function mY(t,e){let{stdout:n}=await t.exec(`cat /proc/${e}/environ`,{logOutput:!1});return n.split("\0").map(r=>{let o=r.indexOf("=");return o!==-1?[r.slice(0,o),r.slice(o+1)]:[]}).reduce((r,[o,i])=>(o&&(r[o]=i),r),{})}async function mR(t){let e=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd || echo ; readlink /proc/$pid/ns/mnt || echo ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:n}=await t.exec(e,{logOutput:!1}),r=6,o=n.split(`
---
`),i=o.pop().trim();return{processes:o.map(a=>a.split(`
`)).filter(a=>a.length>=r).map(([a,c,l,u,d,f])=>{let p=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:p[1],pgrp:p[2],cwd:c,mntNS:l,cmd:f.replace(/\0/g," "),env:d.split("\0").reduce((m,h)=>{let v=h.indexOf("=");return v!==-1&&(m[h.substr(0,v)]=h.substr(v+1)),m},{})}}),mntNS:i}}function hY(t){let e={};return t.forEach(n=>e[n.pid]={process:n,childProcesses:[]}),t.filter(n=>n.ppid).forEach(n=>{var r;return(r=e[n.ppid])==null?void 0:r.childProcesses.push(e[n.pid])}),e}function hR(t,e="  ",n="  "){return`${n}${t.process.pid}: ${t.process.cmd}
${t.childProcesses.map(r=>hR(r,e,n+e))}`}var Di=G(require("path")),wY=G(require("fs"));async function Do(t,e=process.cwd(),n=process.env){if(process.platform!=="win32")return t;if(Di.isAbsolute(t))return await gR(t)||t;if(/[/\\]/.test(t)){let s=Di.join(e,t);return await gR(s)||s}let r,o;if(n){for(let s of Object.keys(n))if(s.toLowerCase()==="path"){let a=n[s];typeof a=="string"&&(r=a,o=a.split(Di.delimiter).filter(Boolean),o.push(Di.join(n.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){let s=new Error(`No PATH to look up executable '${t}'.`);throw s.code="ENOENT",s}for(let s of o){let a;Di.isAbsolute(s)?a=Di.join(s,t):a=Di.join(e,s,t);let c=await gR(a);if(c)return c}let i=new Error(`Exectuable '${t}' not found on PATH '${r}'.`);throw i.code="ENOENT",i}var gY=process.env.PATHEXT,vY=gY?gY.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function gR(t){if(vY.indexOf(Di.extname(t))!==-1)return await xY(t)?t:void 0;for(let e of vY){let n=t+e;if(await xY(n))return n}}function xY(t){return new Promise(e=>wY.stat(t,(n,r)=>e(!n&&r.isFile())))}var vR="dev-containers-",yY="credentials not found in native keychain";async function bY(t,e,n,r,o,i){let s=await EY(n?t:e,r,o,i).catch(a=>{if(n)throw a});return!n&&(s==null?void 0:s.code)!==0&&(s=await EY(t,r,o,i),s.code===0&&(n=!0)),{result:s,preferLocalCLIHost:n}}async function EY(t,e,n,r){let o,i=e[1];try{let s=i==="store"?JSON.parse(n).ServerURL:n.trim(),a=await _ce(t,s,r);if(!a)return{stdout:i==="get"?yY:"Docker credential helper not found.",stderr:"",code:1};if("identitytoken"in a)return i!=="get"?{stdout:`Docker credential command not supported without credential helper: ${i}.`,stderr:"",code:1}:{stdout:JSON.stringify({ServerURL:s,Username:"<token>",Secret:a.identitytoken}),stderr:"",code:0};if("auth"in a){if(i!=="get")return{stdout:`Docker credential command not supported without credential helper: ${i}.`,stderr:"",code:1};let[u,d]=Buffer.from(a.auth,"base64").toString().split(":");return{stdout:JSON.stringify({ServerURL:s,Username:u,Secret:d}),stderr:"",code:0}}o=`docker-credential-${a.helper}`;let{stdout:c,stderr:l}=await ae({exec:t.exec,cmd:o,args:e.slice(1),stdin:Buffer.from(n),output:$e});return{stdout:c.toString(),stderr:l.toString(),code:0}}catch(s){if(o&&((s==null?void 0:s.code)==="ENOENT"||(s==null?void 0:s.code)==="EPIPE"))return{stdout:i==="get"?yY:`Docker credential helper '${o}' not found: ${(s==null?void 0:s.message)||String(s)}.`,stderr:"",code:1};if(!(s&&s.stdout&&s.stderr))throw s;let{stdout:a,stderr:c,code:l}=s;return{stdout:a.toString(),stderr:c.toString(),code:l||0}}}async function _ce(t,e,n){var o,i,s,a,c;n.write(`Looking up Docker credential helper for '${e}'.`);try{let l=Ge((await t.readFile(t.path.join(await t.homedir(),".docker","config.json"))).toString()),u=_e.parse(e).authority||e,d=(o=l==null?void 0:l.credHelpers)==null?void 0:o[u];if(d)return{helper:d};let f=(s=(i=l==null?void 0:l.auths)==null?void 0:i[e])==null?void 0:s.identitytoken;if(f)return{identitytoken:f};let p=(c=(a=l==null?void 0:l.auths)==null?void 0:a[e])==null?void 0:c.auth;if(p)return{auth:p};if(l!=null&&l.credsStore)return{helper:l.credsStore}}catch(l){(l==null?void 0:l.code)!=="ENOENT"&&n.write(`Error reading Docker config: ${(l==null?void 0:l.message)||String(l)}.`)}let r=await _Y(t);return r?{helper:r}:void 0}async function xR(t,e){let n=t.path.join(await t.homedir(),".docker","config.json");try{let r=await t.readFile(n),o=Ge(r.toString());return!!(o!=null&&o.credsStore)||Object.keys((o==null?void 0:o.credHelpers)||{}).some(i=>{var s;return(s=o==null?void 0:o.credHelpers)==null?void 0:s[i]})||Object.keys((o==null?void 0:o.auths)||{}).some(i=>{var s,a;return(a=(s=o==null?void 0:o.auths)==null?void 0:s[i])==null?void 0:a.auth})||CY(t)}catch(r){return(r==null?void 0:r.code)!=="ENOENT"?(e.write(`Error reading Docker config (${n}): ${(r==null?void 0:r.stack)||(r==null?void 0:r.message)||String(r)}.`),!1):CY(t)}}async function CY(t){let e=await _Y(t);return!!e&&await Sce(t,`docker-credential-${e}`)}async function _Y(t){if(t.platform==="darwin")return"osxkeychain";if(t.platform==="win32")return"wincred";if(t.platform==="linux")try{return await ae({exec:t.exec,cmd:"/bin/sh",args:["-c","command -v docker-credential-pass >/dev/null 2>&1"],output:$e}),"pass"}catch{return"secretservice"}}async function Sce(t,e){try{return t.platform==="win32"?!!await Do(e,t.cwd,t.env):(await ae({exec:t.exec,cmd:"/bin/sh",args:["-c",`command -v '${e}' >/dev/null 2>&1`],output:$e}),!0)}catch{return!1}}function _l(t){return`remote.containers.${t}`}function Za(t){return`dev.containers.${t}`}var yR=G(require("path"));var Dce=G(require("http")),Ice=G(require("https"));function wR(t,e={}){return new Promise((n,r)=>{let o=t.startsWith("https:")?Ice:Dce,i;if(Object.keys(e).length>0){let a=new URL(t);i={headers:e,host:a.host,path:a.pathname}}o.get(i??t,a=>{var c;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let l=(c=a.headers)==null?void 0:c.location;l&&n(wR(l,e))}r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",r);let l=[];a.on("data",u=>l.push(u)),a.on("end",()=>n(Buffer.concat(l)))}}).on("error",r)})}async function Ur(t){let e=await ot(yR.join(t,"package.json"),"utf8");return JSON.parse(e)}async function tx(t){let e=await ot(yR.join(t,"product.json"),"utf8"),n=JSON.parse(e);return n.commit||(n.commit=await nx(n.quality)),n.serverDataFolderName||(n.serverDataFolderName=".vscode-server-oss"),n}async function nx(t="insider"){let e=`https://update.code.visualstudio.com/api/update/server-linux-x64/${t}/latest`,n=await wR(e);return JSON.parse(n.toString()).version}function XC(t){return["bin",t.serverApplicationName]}var mle=EV(),TV=sb(),LR=DV(),hle=PV();async function fb(t,e,n){var L,A,N,B,K,q;let{cliHost:r,wslCLIHost:o,output:i}=t,{shellServer:s,launchRootShellServer:a}=e,c="Launching Dev Containers helper.",l=i.start(c);if(Dl)return i.stop(c,l),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let u=[r];r.type!=="local"&&u.push(await oo(process.cwd(),t.loadNativeModule,i)),r.type!=="wsl"&&o&&u.push(o);let d=AR.randomUUID(),f={},p=await kV(u,X=>_le(X,i)),m=p?gn.posix.join(((L=e.env)==null?void 0:L.TMPDIR)||"/tmp",`vscode-ssh-auth-${d}.sock`):void 0;p&&(f[m]=p,i.write(`ssh-agent: SSH_AUTH_SOCK in container (${m}) forwarded to ${p.cliHost.type} host (${p.unparsed}).`));let h=gle(u,X=>Sle(X,i)),v=-1,g;if(h)do g=gn.posix.join(((A=e.env)==null?void 0:A.TMPDIR)||"/tmp",".X11-unix",`X${++v}`);while(await xle(s,g));let w=h?`:${v}`:void 0;h&&(await s.exec(`mkdir -p '${gn.posix.dirname(g)}'`),f[g]=h,i.write(`X11 forwarding: DISPLAY in container (${w}) forwarded to ${h.cliHost.type} host (${h.unparsed}).`));let x=await rY(e.shellServer,i),y=x?await kV(u,X=>oY(X,e.shellServer,x,i)):void 0;y&&(f[y.remoteGpgSocket]={name:"gpg-agent",unparsed:y.localGpgSocket,cliHost:y.cliHost,connectTo:{socketPath:y.localGpgSocket}},i.write(`gpg-agent: Socket in container (${y.remoteGpgSocket}) forwarded to ${y.cliHost.type} host (${y.localGpgSocket}).`));let E=gn.posix.join(((N=e.env)==null?void 0:N.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${d}.sock`),T=gn.posix.join(((B=e.env)==null?void 0:B.TMPDIR)||"/tmp",`vscode-remote-containers-server-${d}.js`),k=gn.posix.join(((K=e.env)==null?void 0:K.TMPDIR)||"/tmp",`vscode-remote-containers-${d}.js`),b=((n==null?void 0:n.getNewConfiguration("dockerCredentialHelper"))??t.isDockerCredentialHelperEnabled)&&a&&await vle(s,"docker")?gn.posix.join("/usr/local/bin",`docker-credential-${vR}${d}`):void 0,I=u.find(X=>X.type==="local"),_=NV(t,e,"Container",void 0,!1,!1,T,k,b,f,E,I),D=_.then(X=>X.ready),S=_.then(X=>X.mrpcExec),C=_.then(X=>X.mrpcPtyExec);return D.catch(console.error),t.onAdoptProcess(X=>Dle(e.shellServer,E,m,g,X).catch(console.error)),i.stop(c,l),{remoteContainersCLI:k,remoteEnv:{REMOTE_CONTAINERS_IPC:E,...m?{SSH_AUTH_SOCK:m}:void 0,...w&&!((q=e.env)!=null&&q.DISPLAY)?{DISPLAY:w}:void 0,...g?{REMOTE_CONTAINERS_DISPLAY_SOCK:g}:void 0},mrpcExec:S,mrpcPtyExec:C,ready:D,reconnect:()=>_.then(X=>X.reconnect())}}function gle(t,e){for(let n of t){let r=e(n);if(r)return r}}async function kV(t,e){for(let n of t){let r=await e(n);if(r)return r}}async function vle(t,e){try{return await t.exec(`command -v ${e} >/dev/null 2>&1`),!0}catch{return!1}}async function xle(t,e){try{return await t.exec(`test -e ${e}`),!0}catch{return!1}}async function cx(t,e,n,r,o){let{passwdUser:i,homeFolder:s,nodeExecutable:a,mrpcExec:c,mrpcPtyExec:l,setBaseEnv:u,connect:d,reconnect:f,terminate:p}=await NV(t,{remoteExec:e,platform:o},"Host",n,!0,r,void 0);return{passwdUser:i,homeFolder:s,nodeExecutable:a,exec:c,ptyExec:l,setBaseEnv:u,connect:d,reconnect:f,terminate:p}}async function NV(t,e,n,r,o,i,s,a,c,l,u,d){let{cliHost:f,product:p,output:m}=t,{remoteExec:h,platform:v,nodeExecutable:g,launchRootShellServer:w}=e,x=a&&ot(gn.join(t.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),y=ot(gn.join(t.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),E=await vn(h,m,void 0,v,n),T=o?await Yd(E,await Il(E)):void 0,k=(await E.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],R=!0;if(!g||!s){let D=E.path.join(k,".vscode-remote-containers");g||(g=await Ile(t,E,D,k,p,i)),s||(s=E.path.join(D,"dist",`vscode-remote-containers-server-${t.package.version}.js`),await pb(E,s)?R=!1:await E.exec(`mkdir -p '${E.path.dirname(s)}'`))}if(a){let D=`EOF-${a}`;await E.exec(`cat <<'${D}' >${a}
${await x}
${D}
`)}if(c&&w&&((f==null?void 0:f.type)!=="local"&&d&&await xR(d,m)||f&&await xR(f,m))){let D=(await E.exec(`cat ~/.docker/config.json || echo "{
}"`)).stdout,S=Ge(D);if(!(S!=null&&S.credsStore)||S.credsStore.startsWith(vR)){let C=await w(),L=`EOF-${c}`;await C.exec(`mkdir -p ${gn.posix.dirname(c)} && cat <<'${L}' >${c}
#!/bin/sh
${g} ${a} docker-credential-helper $@
${L}
`),await C.exec(`chmod +x ${c}`);let A=Sn(D,["credsStore"],gn.posix.basename(c).substring(18),{formattingOptions:{}}),N=wo(D,A);await E.exec(`mkdir -p ~/.docker && cat <<'${L}' >~/.docker/config.json
${N}
${L}
`)}}if(R){let D=`EOF-${s}`,S=`${s}_${Date.now()}`;await E.exec(`cat <<'${D}' >${S}
${await y}
${D}
mv ${S} ${s}`)}let b=()=>wle(t,n,E,g,s,l,u,d),I=await b(),_;return{ready:I.ready,passwdUser:T,nodeExecutable:g,homeFolder:k,mrpcExec:Ele(()=>I.mrpc,n,r||k),mrpcPtyExec:Cle(()=>I.mrpc,n,r||k),mrpcExecToEnd:ble(()=>I.mrpc,n,r||k),setBaseEnv:D=>new Promise((S,C)=>{_=D,I.mrpc.setBaseEnv(D,L=>L?C(L):S())}),connect:I.mrpc.connect,reconnect:async()=>{let D=`${n}: Reconnecting exec server`,S=m.start(D);await I.process.terminate().catch(()=>{}),E=await vn(h,m,void 0,void 0,n),I=await b(),_&&await new Promise((C,L)=>{I.mrpc.setBaseEnv(_,A=>A?L(A):C())}),m.stop(D,S)},terminate:()=>I.process.terminate()}}async function wle(t,e,n,r,o,i,s,a){let{cliHost:c,output:l}=t,u=Object.keys(i||{}),d={...u.reduce((k,R)=>(k[R]="duplex",k),{}),rpc:"async",connected:"async",ready:"async"},f={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},p=n.process,m=`set -e ; echo -n ${ri} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(u)}' REMOTE_CONTAINERS_IPC='${s||""}' '${r}' '${o}'
`;p.stdin.write(m);let h,v=new Promise(k=>h=k),g=new RV.StringDecoder;p.stderr.on("data",k=>{let R=g.write(k).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(h){let b=R.indexOf(ri);b!==-1&&(h(),h=void 0,R=R.substr(0,b)+R.substr(b+1))}R&&l.write(Dt(`${e} server: ${R}`))}),p.exit.then(({code:k,signal:R})=>{l.write(`${e} server terminated (code: ${k}, signal: ${R}).`)},k=>{l.write(`${e} server did not launch or terminated: ${(k==null?void 0:k.stack)||(k==null?void 0:k.message)||String(k)}`)});let w=(c==null?void 0:c.type)==="local",x={git:w,docker:w},y,E=new Promise(k=>y=k),T=mle(f,d)({...u.reduce((k,R)=>{let b=i[R];return k[R]=yle(t,b),k},{}),rpc:async(k,R)=>{try{let{args:b,stdin:I}=JSON.parse(k);if(b[0]==="git-credential-helper"){let _=await cY(a,c,x.git,b,I);x.git=_.preferLocalCLIHost,R(void 0,JSON.stringify(_.result))}else if(b[0]==="docker-credential-helper"){let _=await bY(a,c,x.docker,b,I,l);x.docker=_.preferLocalCLIHost,R(void 0,JSON.stringify(_.result))}}catch(b){console.error(b),R(b)}},connected:k=>{k()},ready:k=>{y(),k()}});return(0,lb.default)(TV.source(p.stdout),T.createStream(),TV.sink(p.stdin)),await Promise.race([v,p.exit.then(({code:k,signal:R})=>{throw new Error(`${e} server terminated (code: ${k}, signal: ${R}).`)})]),{ready:E,mrpc:T,process:p}}function yle(t,e){let{sendTelemetryEvent:n,output:r}=t,o=!1;function i(s){if(!o&&s instanceof Error&&s.code==="ENOENT"&&(o=!0,r.event({type:"notification",message:OR.t("Could not connect to {0} on {1} host ({2}). Make sure the service is running.",e.name,e.cliHost.type,e.unparsed)}),n)){let a={serviceName:e.name,hostType:e.cliHost.type,hostPlatform:e.cliHost.platform},c=e.cliHost.authority;if(c){let l=c.indexOf("+");l!==-1&&(a.hostAuthority=c.substring(0,l))}n("serviceConnectionFailure",a)}}return()=>{let s=e.cliHost.connect(e.connectTo);return{sink:a=>{s.sink((c,l)=>{i(c),a(c,l)})},source:(a,c)=>{s.source(a,(l,u)=>{i(l),c(l,u)})}}}}function Ele(t,e,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${e}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=t(),f=await new Promise((p,m)=>{d.exec({cmd:o,args:i,cwd:s||n,env:a},(h,v)=>{h?m(h):p(v)})});return{stdin:LR.sink(d.stdin(f,p=>{p&&p.message!=="unexpected end of parent stream"&&console.error(p)})),stdout:LR.source(d.stdout(f)),stderr:LR.source(d.stderr(f)),exit:new Promise((p,m)=>{d.exit(f,(h,v)=>{var g;c.stop(l,u),h?((g=h.message)!=null&&g.endsWith("ENOENT")&&!h.code&&(h.code="ENOENT"),m(h)):p(v)})}),terminate:async()=>new Promise((p,m)=>{d.terminate(f,h=>{h?m(h):p()})})}}}function Cle(t,e,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${e}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=t(),f=await new Promise((v,g)=>{var w,x;d.ptyExec({cmd:o,args:i,cwd:s||n,env:a,rows:(w=c.dimensions)==null?void 0:w.rows,cols:(x=c.dimensions)==null?void 0:x.columns},(y,E)=>{y?g(y):v(E)})}),p=[c.onDidChangeDimensions&&c.onDidChangeDimensions(v=>d.ptyResize(f,v.columns,v.rows))],m=hle();(0,lb.default)(m,d.ptyIn(f,v=>{v&&v.message!=="unexpected end of parent stream"&&console.error(v)}));let h=new Rs;return(0,lb.default)(d.ptyOut(f),v=>{v(null,function g(w,x){if(w!==!0){if(w)throw w;h.fire(x),v(null,g)}})}),{write:v=>m.push(v),onData:h.event,resize:(v,g)=>d.ptyResize(f,v,g),exit:new Promise((v,g)=>{d.ptyExit(f,(w,x)=>{p.forEach(y=>y==null?void 0:y.dispose()),c.stop(l,u),w?g(w):v(x)})}),terminate:async()=>new Promise((v,g)=>{d.ptyTerminate(f,w=>{w?g(w):v()})})}}}function ble(t,e,n){return async r=>{let{cmd:o,args:i,cwd:s,env:a,output:c}=r,l=`Run in ${e}: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=t();return new Promise((f,p)=>{d.execToEnd({cmd:o,args:i,cwd:s||n,env:a},(m,h)=>{if(c.stop(l,u),m||!h)p({stdin:new Sl.Writable,stdout:Sl.Readable.from([]),stderr:Sl.Readable.from([]),exit:Promise.reject(m),terminate:async()=>{}});else{let v=Sl.Readable.from([Buffer.from(h.stdout.data)]),g=new Promise(y=>v.on("end",y)),w=Sl.Readable.from([Buffer.from(h.stderr.data)]),x=new Promise(y=>w.on("end",y));f({stdin:new Sl.Writable,stdout:v,stderr:w,exit:Promise.all([g,x]).then(()=>({code:h.code,signal:h.signal})),terminate:async()=>{}})}})})}}var ix="\\\\.\\pipe\\openssh-ssh-agent";async function FR(t){return t.platform==="win32"&&t.isFile(ix)}async function _le(t,e){let n=t.env.SSH_AUTH_SOCK;if(n)return{name:"ssh-agent",unparsed:n,cliHost:t,connectTo:{socketPath:n}};if(e.write(`ssh-agent: SSH_AUTH_SOCK not set on ${t.type} host.`),await FR(t))return{name:"ssh-agent",unparsed:ix,cliHost:t,connectTo:{socketPath:ix}}}function Sle(t,e){let n=t.env.DISPLAY,r=n==null?void 0:n.match(/^(?<hostOrPath>[^:]+)?:(?<display>\d+)(?:\.(?<screen>\d+))?$/);if(r!=null&&r.groups){let{hostOrPath:o,display:i}=r.groups,s=OR.t("X11 display");return!o||o==="localhost/unix"?{name:s,unparsed:n,cliHost:t,connectTo:{socketPath:`/tmp/.X11-unix/X${i}`}}:o.startsWith("/")?{name:s,unparsed:n,cliHost:t,connectTo:{socketPath:`${o}:${i}`}}:{name:s,unparsed:n,cliHost:t,connectTo:{host:o,port:6e3+parseInt(i,10)}}}n?e.write(`X11 forwarding: DISPLAY value on ${t.type} host not supported (${n}).`):e.write(`X11 forwarding: DISPLAY not set on ${t.type} host.`)}async function UR(t){let e=t.env.WAYLAND_DISPLAY,n=t.env.XDG_RUNTIME_DIR,r=e&&t.path.isAbsolute(e)?e:e&&n&&t.path.join(n,e),o=n&&t.path.join(n,"wayland-0"),i=r||o;if(i&&await t.isSocket(i))return i}async function LV(t){let e=AR.randomUUID();return gn.posix.join((t==null?void 0:t.TMPDIR)||"/tmp",`vscode-wayland-${e}.sock`)}async function AV(t,e){let{shellServer:n,remoteWaylandSocket:r}=t;if(!r||e.WAYLAND_DISPLAY)return{};let o=e.XDG_RUNTIME_DIR;o||(o=(await n.exec('umask 077 && XRD="/tmp/user/$(id -u)" && mkdir -p $XRD && echo $XRD')).stdout.trim());let i=gn.posix.basename(r);return await n.exec(`test -e ${o}/${i} || ln -sf ${r} ${o}/${i}`),o===e.XDG_RUNTIME_DIR?{WAYLAND_DISPLAY:i}:{XDG_RUNTIME_DIR:o,WAYLAND_DISPLAY:i}}var dm=new Set;async function Dle(t,e,n,r,o){let i=await o.processId;if(i&&i>0){let s=await mY(t,i),a=s.REMOTE_CONTAINERS_IPC;a&&a!==e&&!dm.has(a)&&a.indexOf("vscode-remote-containers-ipc")!==-1&&(dm.add(a),await t.exec(`rm '${a}' && ln -s '${e}' '${a}'`));let c=s.SSH_AUTH_SOCK;c&&n&&c!==n&&!dm.has(c)&&c.indexOf("vscode-ssh-auth")!==-1&&(dm.add(c),await t.exec(`rm '${c}' && ln -s '${n}' '${c}'`));let l=s.REMOTE_CONTAINERS_DISPLAY_SOCK;l&&r&&l!==r&&!dm.has(l)&&(dm.add(l),await t.exec(`rm '${l}' && ln -s '${r}' '${l}'`))}}async function Ile(t,e,n,r,o,i){let s=(o==null?void 0:o.commit)||await nx(o==null?void 0:o.quality),a=o!=null&&o.commit?o.quality||"insider":"stable",{localCacheFolder:c,output:l,alternateDownload:u}=t,d=gn.posix.join(n,"bin",s),f=gn.posix.join(d,"node");try{await e.exec(`test -x '${f}'`)}catch{if(o)try{let g=gn.posix.join(lx(gn.posix,r,o),"bin",s),w=gn.posix.join(g,"node");await e.exec(`test -x '${w}'`);let x=gn.posix.join(g,"node_modules","node-pty","package.json");return await e.exec(`test -f '${x}'`),w}catch{}let p;if((await e.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")p=(await e.exec("uname -m")).stdout.trim()==="arm64"?ub.arm64:ub.x64;else{let g=await MR(e);p=mb(g,!1)}let h={localCacheFolder:c,build:p,commit:s,quality:a,web:!1,output:l,alternateDownload:u,legacy:!1},v=fm(h);if(await gr(v)||await ux(h),p.id==="darwin")await sx({output:l},e,v,d,i);else{let g=[];await db.t({file:v,filter:x=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(x),onentry:x=>{new db.WriteEntry.Tar(x).on("data",E=>g.push(E))}});let w=Buffer.concat(g);await sx({output:l},e,w,d,i,!1)}}return f}var dx=G(require("net"));var fx=sb(),$R=t=>{if("port"in t)return fx.duplex(dx.connect(t.port,t.host));let e=t.socketPath;if(process.platform!=="win32"||e.startsWith("\\\\.\\pipe\\"))return fx.duplex(dx.connect(e));let n=new dx.Socket;return kle(n,e)};function Ple(t){let e=[];return t.split("-").map(n=>{let r=n.match(/.{2}/g);r!==null&&r.reverse().map(o=>{e.push(parseInt(o,16))})}),Buffer.from(e)}function Tle(t,e,n){return e||n===void 0?{headerSize:t,err:e}:t===0?{headerSize:t,data:n}:n.length>t?(n=n.slice(t,n.length),t=0,{headerSize:t,data:n}):(t=t-n.length,{headerSize:t})}function kle(t,e){let n=0,r=[],o=[],i,s=u=>{u instanceof Error&&console.error(u),t.destroy();for(let d of r)d.cb(u,void 0);r=[];for(let d of o)d(u,(f,p)=>{});o=[]};function a(u,d){i.source(u,function(f,p){let m=Tle(n,f,p);n=m.headerSize,m.err||m.data?d(m.err||null,m.data):a(u,d)})}return(async()=>{let u=await ot(e),f=u.toString().match(/!<socket >(\d+)( s)? ((([A-Fa-f0-9]{2}){4}-?){4})/),p,m;if(f!==null){let h=f[1],v=f[3];p=parseInt(h,10);let g=Ple(v),w=Buffer.alloc(12);w.writeUInt32LE(process.pid,0),m=Buffer.concat([g,w]),n=16+3*4}else{let h=u.indexOf(10);p=parseInt(u.slice(0,h).toString(),10),m=u.slice(h+1),n=0}t.on("error",h=>{s(h)}),t.connect(p,"127.0.0.1",()=>{t.write(m,h=>{if(!h){i=fx.duplex(t);for(let v of r)a(v.abort,v.cb);r=[];for(let v of o)i.sink(v);o=[]}})})})().catch(u=>{s(u)}),{source:function(u,d){i!==void 0?a(u,d):r.push({abort:u,cb:d})},sink:function(u){i!==void 0?i.sink(u):o.push(u)}}}function OV(t,e,n){return r=>{let o=(async()=>{let i="port"in r?`{ host: '${r.host}', port: ${r.port} }`:`{ path: '${r.socketPath}' }`,s=await e({cmd:t,args:["-e",`// Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host.
const net = require('net');
const fs = require('fs');
process.stdin.pause();
const client = net.createConnection(${i}, () => {
	console.error('Connection established');
	client.pipe(process.stdout);
	process.stdin.pipe(client);
});
client.on('close', function (hadError) {
	console.error(hadError ? 'Remote close with error' : 'Remote close');
	process.exit(hadError ? 1 : 0);
});
client.on('error', function (err) {
	process.stderr.write(err && (err.stack || err.message) || String(err));
});
process.stdin.on('close', function (hadError) {
	console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
	process.exit(hadError ? 1 : 0);
});
process.on('uncaughtException', function (err) {
	fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
});
`],output:eo(n,1)});return s.exit.then(({code:a,signal:c})=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host terminated with code ${a} and signal ${c}.`,1)},a=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host terminated with error: ${a&&a.message||String(a)}`)}),s.stderr.on("data",a=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host stderr: ${a.toString("utf8")}`,1)}),{sink:fx.sink(s.stdin),source:fx.source(s.stdout)}})();return{sink:i=>{o.then(s=>s.sink(i),s=>i(s,()=>{})).catch(s=>n.write(`Connection forwarding to sink error: ${(s==null?void 0:s.stack)||(s==null?void 0:s.message)||String(s)}`))},source:(i,s)=>{o.then(a=>a.source(i,s),a=>s(a)).catch(a=>n.write(`Connection forwarding to source error: ${(a==null?void 0:a.stack)||(a==null?void 0:a.message)||String(a)}`))}}}}var hb=!1;function pm(t,e,n){return hb?function(o){return Rle(t(o),`${e} ${JSON.stringify(o)}`,n)}:t}function Rle(t,e,n){return hb?{source:FV(t.source,`${e} Source`,n),sink:Nle(t.sink,`${e} Sink`,n)}:t}function FV(t,e,n){return hb?function(o,i){n.write(`${e} end in (${typeof o}${o&&typeof o=="object"?`: ${Object.keys(o)}`:""}): ${o&&typeof o=="object"&&o.stack||o}`),t(o,function(a,c){n.write(`${e} end out (${typeof a}${a&&typeof a=="object"?`: ${Object.keys(a)}`:""}): ${a&&typeof a=="object"&&a.stack||a}`),n.write(`${e} data: ${c==null?void 0:c.toString("hex")}`),i(a,c)})}:t}function Nle(t,e,n){return hb?function(o){t(FV(o,e,n))}:t}var jR=G(Tr()),$V=/^\\\\wsl(\.localhost|\$)?\\/;function yr(t){return $V.test(t.toLowerCase())}function mm(t){let e=t.toLowerCase(),n=$V.exec(e);if(!n)return"";let r=e.indexOf("\\",n[0].length);return t.substring(n[0].length,r)}async function gb(t){let{stdout:e}=await ae({exec:ec(void 0),cmd:"wsl",args:["-l","-v"],output:t}),n=e.toString(e[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(n)||[])[1]}async function Vd(t,e,n){let{stdout:r}=await ae({exec:ec(void 0),cmd:"wsl",args:["-d",t,"-e","wslpath","-u",e],output:n});return r.toString().trim()}async function Lle(t,e){let{stdout:n}=await ae({exec:ec(void 0),cmd:"wsl",args:["-d",t,"-e","/bin/sh","-c","echo ~"],output:e});return n.toString().trim()}async function jV(t,e,n){let{stdout:r}=await ae({exec:t.exec,cmd:"wslpath",args:["-w",e],output:n});return r.toString().trim()}async function hm(t,e){let n=mm(t),r=await Vd(n,t,e);return _e.parse(`vscode-remote://wsl+${n}${r}`)}function gm(t){if(t.scheme==="vscode-remote"){let e=vb(t.authority);if(e){let n=t.path;return Jv(n)&&(n=UV.posix.dirname(n)),{wslDistro:e,wslPath:n}}}}function vb(t){return(/wsl\+(.*)/.exec(t)||[])[1]}async function xb(t,e,n,r,o,i,s,a){var m;let{distro:c,cwd:l}=await HR(t,e,s);MV.ok(!c.startsWith("-"),jR.t("Distro must not start with a dash: {0}",c));let u=tc("wsl",["-d",c,"-e"],l),d=await cx({extensionPath:n,localCacheFolder:r,package:await Ur(n),product:o,loadNativeModule:i,output:s,alternateDownload:a},u,l,!1),f=await zd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((m=d.passwdUser)==null?void 0:m.shell)||"/bin/sh",remoteExec:d.exec});delete f.WSL_INTEROP,await d.setBaseEnv(f);let p=oi("wsl",l,f,d.exec,d.ptyExec,pm(d.connect,"WSL",s),d.nodeExecutable,s);return p.toCommonURI=async h=>{try{return _e.file((await ae({exec:d.exec,cmd:"wslpath",args:["-w",h],output:s})).stdout.toString().trim())}catch{return}},p}async function HR(t,{defaultDistro:e},n){let r,o;return typeof t=="object"?(r=t.wslDistro,o=t.wslPath):t&&yr(t)?(r=mm(t),o=await Vd(r,t,n)):(r=e||await gb(n)||(()=>{throw new Ee({description:jR.t("No default WSL distro found.")})})(),o=t?await Vd(r,t,n):await Lle(r,n)),{distro:r,cwd:o}}function vm(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}async function HV(t,e,n,r,o){try{return(await zn(e,{posix:ae({exec:t,cmd:"cat",args:[r],output:o}),win32:ae({exec:t,cmd:n,args:["-e",`require('fs').createReadStream('${r.replace(/\\/g,"\\\\")}').pipe(process.stdout)`],output:o})})).stdout}catch(i){let s=new Error(`Could not read file: ${r}`);throw s.originalError=i,s.code="ENOENT",s}}async function BV(t,e,n,r,o,i){await zn(e,{posix:ae({exec:t,cmd:"dd",args:[`of=${r}`],stdin:o,output:i}),win32:ae({exec:t,cmd:n,args:["-e",`process.stdin.pipe(require('fs').createWriteStream('${r.replace(/\\/g,"\\\\")}'))`],stdin:o,output:i})})}async function wb(t,e,n,r,o){await zn(e,{posix:()=>ae({exec:t,cmd:"mv",args:["-n",n,r],output:o}),win32:()=>ae({exec:t,cmd:"powershell",args:["-NoProfile","-Command",`Move-Item -Path '${n}' -Destination '${r}'`],output:o})})()}async function yb(t,e,n,r,o){let{recursive:i,force:s}=r;await zn(e,{posix:()=>ae({exec:t,cmd:"rm",args:[i&&"-r",s&&"-f",n].filter(Boolean),output:o}),win32:()=>ae({exec:t,cmd:"powershell",args:["-NoProfile","-Command",`Remove-Item${i?" -Recurse":""}${s?" -Force":""} '${n}'`],output:o})})()}async function Eb(t,e,n,r){await zn(e,{posix:()=>ae({exec:t,cmd:"mkdir",args:["-p",n],output:r}),win32:()=>ae({exec:t,cmd:"powershell",args:["-NoProfile","-Command",`New-Item -ItemType Directory '${n}'`],output:r})})()}async function qV(t,e,n,r){return(await zn(e,{posix:()=>ae({exec:t,cmd:"ls",args:["-a",n],output:r}),win32:()=>ae({exec:t,cmd:"powershell",args:["-NoProfile","-Command",`(Get-ChildItem '${n}').Name`],output:r})})()).stdout.toString().trim().split(/\r?\n/).filter(i=>i!=="."&&i!=="..")}var qR=G(require("path")),_b=G(require("os")),Sb=G(require("crypto"));var WV=G(require("os")),Cb=G(require("assert")),bb=G(Tr());async function YV(t,e,n,r,o,i,s,a,c,l){var g;let u=t.substr(6),d=u.indexOf(":"),f=[(l==null?void 0:l.settings.executablePath)||"ssh"];if(l!=null&&l.settings.executableArgs&&f.push(...l.settings.executableArgs),l!=null&&l.settings.configFilePath&&f.push("-F",Ale(l==null?void 0:l.settings.configFilePath)),d!==-1){let w=u.substr(d+1);Cb.ok(!w.startsWith("-"),bb.t("Port number must not start with a dash: {0}",w));let x=u.substr(0,d);Cb.ok(!x.startsWith("-"),bb.t("Hostname must not start with a dash: {0}",x)),f.push("-p",w,x)}else Cb.ok(!u.startsWith("-"),bb.t("Hostname must not start with a dash: {0}",u)),f.push(u);let p=tc(f[0],f.slice(1),void 0,await(l==null?void 0:l.sshAskpassEnv)||{}),m=await cx({extensionPath:r,localCacheFolder:o,package:await Ur(r),product:i,loadNativeModule:s,output:a,alternateDownload:c},p,e,!1),h=await zd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((g=m.passwdUser)==null?void 0:g.shell)||"/bin/sh",remoteExec:m.exec});await m.setBaseEnv(h);let v=oi("remote",e||m.homeFolder,h,m.exec,m.ptyExec,m.connect,m.nodeExecutable,a);return v.toCommonURI=()=>Promise.resolve(void 0),v.reconnect=()=>m.reconnect(),v.terminate=()=>m.terminate(),v}function Ale(t){return t.replace(/^~($|\/|\\)/,`${WV.homedir()}$1`)}function px(t,e){let n=Ole(t);if(n)return _e.parse(`vscode-remote://${BR(n)}${e}`)}function BR(t){let e=t.hostName;if(t.user||t.hostName.toLowerCase()!==t.hostName||t.port||t.hostName.match(/[\/\\\+]/)){let n=JSON.stringify(t);e=Buffer.from(n,"utf8").toString("hex")}return`ssh-remote+${e}`}function Ole(t){if(!t.startsWith("ssh://"))return;let e=t.substr(6);return VV(e)}function VV(t){let e=t.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(e){let[,n,r,o]=e;return{hostName:r,user:n,port:o?parseInt(o,10):void 0}}return{hostName:t}}function Pl(t){var e;return!!(t&&"host"in t&&((e=t.host)!=null&&e.startsWith("ssh://")))}function Tl(t){return!!(t!=null&&t.startsWith("ssh-remote+"))}function mx(t){let e=/^ssh-remote\+(.*)$/.exec(t);if(!e)return;let n=e[1];try{let r=JSON.parse(Buffer.from(n,"hex").toString("utf8"));if(r&&r.hostName)return r}catch{}return VV(n)}async function zV(t,e,n,r,o,i,s,a,c,l){return t!=null&&t.startsWith("ssh://")&&!(l!=null&&l.localDocker)?YV(t,e,r,o,i,s,n,a,c,l):typeof e=="object"||r.executeInWSL==="forWSLPath"&&e&&yr(e)||r.executeInWSL==="always"?xb(e,r,o,i,s,n,a,c):oo(e||process.cwd(),n,a)}async function oo(t,e,n=$e){let r=ec(t),o=await GV(t,e);return Fle(t,r,o,n?pm($R,"Local",n):$R,e,n)}function oi(t,e,n,r,o,i,s,a){let c,l,u;return{type:t,platform:"linux",exec:r,ptyExec:o,cwd:e,env:n,path:qR.posix,async homedir(){if(typeof l>"u"){let f=(await ae({exec:r,cmd:"id",args:["-u"],output:$e})).stdout.toString().trim(),p=await vn(r,$e,void 0,"linux","Host"),m=await Yd(p,f);l=this.env.HOME||(m==null?void 0:m.home)||"/"}return l},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async d=>{try{return await ae({exec:r,cmd:"test",args:["-f",d],output:$e}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},isFolder:async d=>{try{return await ae({exec:r,cmd:"test",args:["-d",d],output:$e}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},isSocket:async d=>{try{return await ae({exec:r,cmd:"test",args:["-S",d],output:$e}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},readFile:async d=>{try{return(await ae({exec:r,cmd:"cat",args:[d],output:$e})).stdout}catch(f){let p=new Error(`Could not read file: ${d}`);throw p.originalError=f,p.code="ENOENT",p}},writeFile:async(d,f)=>{await ae({exec:r,cmd:"/bin/sh",args:["-c",`cat >'${d}'`],stdin:f,output:$e})},rename:async(d,f)=>{await ae({exec:r,cmd:"mv",args:[d,f],output:$e})},rm:async(d,{recursive:f,force:p}={})=>{await ae({exec:r,cmd:"rm",args:[...f?["-r"]:[],...p?["-f"]:[],d],output:$e})},mkdirp:async d=>{await ae({exec:r,cmd:"mkdir",args:["-p",d],output:$e})},readDir:async d=>(await ae({exec:r,cmd:"ls",args:["-a",d],output:$e})).stdout.toString().trim().split(`
`).filter(f=>f!=="."&&f!==".."),readDirWithTypes:async d=>{let f={f:1,"*":1,"/":2,"@":64};return(await ae({exec:r,cmd:"ls",args:["-aF",d],output:$e})).stdout.toString().trim().split(`
`).map(p=>"/*@=%|>".indexOf(p[p.length-1])!==-1?[p.substr(0,p.length-1),p[p.length-1]]:[p,"f"]).filter(([p])=>p!=="."&&p!=="..").map(([p,m])=>[p,f[m]||0])},getUsername:async()=>(c===void 0&&(c=(await ae({exec:r,cmd:"id",args:["-u","-n"],output:$e})).stdout.toString().trim()),c),toCommonURI:()=>Promise.resolve(void 0),connect:i,locateCertificatesFile:function(){return u||(u=Db(this,void 0,a))},nodeExecutable:s}}function Fle(t,e,n,r,o,i){let s;return{type:"local",platform:process.platform,exec:e,ptyExec:n,cwd:t,env:process.env,path:qR,homedir:async()=>_b.homedir(),tmpdir:async()=>_b.tmpdir(),isFile:gr,isFolder:iM,isSocket:sM,readFile:ot,writeFile:nE,rename:nl,rm:ol,mkdirp:async a=>{await Zi(a)},readDir:rl,getUsername:Ib,toCommonURI:async a=>_e.file(a),connect:r,locateCertificatesFile:function(){return s||(s=Db(this,o,i))}}}var Ule=["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt","/etc/ssl/ca-bundle.pem"];async function Db(t,e,n){if(t.env.NODE_EXTRA_CA_CERTS&&await t.isFile(t.env.NODE_EXTRA_CA_CERTS))return t.env.NODE_EXTRA_CA_CERTS;if(t.platform==="linux"){for(let c of Ule)if(await t.isFile(c))return c;return}if(t.type!=="local")return;let r=await(e==null?void 0:e("@vscode/proxy-agent"));if(!(r!=null&&r.loadSystemCertificates))return;let o=await r.loadSystemCertificates({log:{trace(c,...l){n.write(c,1)},debug(c,...l){n.write(c,2)},info(c,...l){n.write(c,3)},warn(c,...l){n.write(c,4)},error(c,...l){n.write(typeof c=="string"?c:String(c),5)}}});if(!o.length)return;let i=Buffer.from(o.join(t.platform==="win32"?`\r
`:`
`)),s=Sb.createHash("sha256").update(i).digest("hex"),a=t.path.join(await hx(t),`certificates-${s}.pem`);if(!await t.isFile(a)){await t.mkdirp(t.path.dirname(a));let c=`${a}-${Sb.randomUUID()}`;await t.writeFile(c,i),await t.rename(c,a)}return a}var Mle=Pb.join(__dirname,"..","..","node_modules",".bin","ts-node"),Dl=Pb.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function ae(t){let{exec:e,cmd:n,args:r,cwd:o,env:i,stdin:s,output:a,print:c}=t,l=await e({cmd:n,args:r,cwd:o,env:i,output:a});return new Promise((u,d)=>{let f=[],p=[],m=c==="continuous"?new gx.StringDecoder:void 0;l.stdout.on("data",g=>{f.push(g),c==="continuous"&&a.write(m.write(g))}),l.stdout.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g});let h=c==="continuous"?new gx.StringDecoder:void 0;l.stderr.on("data",g=>{p.push(g),c==="continuous"&&a.write(Dt(h.write(g)))}),l.stderr.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g});let v=[];l.exit.then(({code:g})=>{try{v.forEach(y=>y.dispose());let w=Buffer.concat(f),x=Buffer.concat(p);(c===!0||g&&c==="onerror")&&(a.write(w.toString().replace(/\r?\n/g,`\r
`)),a.write(Dt(x.toString()))),c&&g&&a.write(`Exit code ${g}`),g?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,stdout:w,stderr:x,code:g}):u({stdout:w,stderr:x})}catch(w){d(w)}},d),s instanceof Buffer?(l.stdin.write(s,g=>{g&&d(g)}),l.stdin.end()):s instanceof KV.Readable?s.pipe(l.stdin):typeof s=="function"&&v.push(s(g=>l.stdin.write(g)))})}async function Xa(t){let{ptyExec:e,cmd:n,args:r,cwd:o,env:i,output:s,resolveOn:a,onDidInput:c}=t,l=await e({cmd:n,args:r,cwd:o,env:i,output:s});return new Promise((u,d)=>{let f="",p=[c&&c(m=>l.write(m))];l.onData(m=>{f+=m,s.raw(m),a&&a.exec(f)&&u({cmdOutput:f})}),l.exit.then(({code:m,signal:h})=>{try{p.forEach(v=>v==null?void 0:v.dispose()),m||h?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,cmdOutput:f,code:m,signal:h}):u({cmdOutput:f})}catch(v){d(v)}},m=>{p.forEach(h=>h==null?void 0:h.dispose()),d(m)})})}var $le={SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:7,SIGEMT:void 0,SIGFPE:8,SIGKILL:9,SIGUSR1:10,SIGSEGV:11,SIGUSR2:12,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGSTKFLT:16,SIGCHLD:17,SIGCLD:void 0,SIGCONT:18,SIGSTOP:19,SIGTSTP:20,SIGTTIN:21,SIGTTOU:22,SIGURG:23,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:29,SIGPOLL:29,SIGPWR:30,SIGINFO:void 0,SIGLOST:void 0,SIGSYS:31,SIGUNUSED:31};function ec(t){return async function(e){let{cmd:n,args:r,output:o}=e,i=`Run: ${n} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,s=o.start(i),a=e.cwd||t,c=e.env?{...process.env,...e.env}:process.env,l=await Do(n,a,c),u=xm.spawn(l,r,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((d,f)=>{u.once("error",p=>{o.stop(i,s),f(p)}),u.once("close",(p,m)=>{o.stop(i,s),d({code:p,signal:m})})}),async terminate(){u.kill("SIGKILL")}}}}async function GV(t,e){let n=await e("node-pty");if(!n)throw new Error("Missing node-pty");return async function(r){var h,v;let{cmd:o,args:i,output:s}=r,a=`Run: ${o} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),l=!1,u=r.cwd||t,d=r.env?{...process.env,...r.env}:process.env,f=await Do(o,u,d),p=n.spawn(f,i||[],{cwd:u,env:d,cols:(h=s.dimensions)==null?void 0:h.columns,rows:(v=s.dimensions)==null?void 0:v.rows,useConpty:l}),m=[s.onDidChangeDimensions&&s.onDidChangeDimensions(g=>p.resize(g.columns,g.rows))];return{onData:p.onData.bind(p),write:p.write.bind(p),resize:p.resize.bind(p),exit:new Promise(g=>{p.onExit(({exitCode:w,signal:x})=>{if(m.forEach(y=>y==null?void 0:y.dispose()),s.stop(a,c),g({code:w,signal:x}),process.platform==="win32")try{p.kill()}catch{}})}),async terminate(){p.kill("SIGKILL")}}}}function XV(t){let e=async function(n){let r=await t(n),o=new Rs;if(r.stdout){let i=new gx.StringDecoder;r.stdout.on("data",s=>o.fire(i.write(s))),r.stdout.on("close",()=>{let s=i.end();s&&o.fire(s)})}if(r.stderr){let i=new gx.StringDecoder;r.stderr.on("data",s=>o.fire(i.write(s))),r.stderr.on("close",()=>{let s=i.end();s&&o.fire(s)})}return{onData:o.event,write:r.stdin.write.bind(r.stdin),resize:()=>{},exit:r.exit.then(({code:i,signal:s})=>({code:typeof i=="number"?i:void 0,signal:typeof s=="string"?$le[s]:void 0})),terminate:r.terminate.bind(r)}};return e.isTTY=!1,e}function tc(t,e,n,r){return async function(o){let{env:i,cmd:s,args:a,output:c}=o,l=o.cwd||n,u=l?`cd '${l}' && `:"",d=Object.keys(i||{}).map(y=>i[y]===void 0?"":`${y}='${i[y]}' `).join(""),f=(a||[]).map(y=>` '${y.replace(/'/g,`'"'"'`)}'`).join(""),p=`${u}${d}${s}${f}`,m=p!==s?["/bin/sh","-c",p]:[p],h=[...e,...m],v=`Run: ${t} ${h.join(" ").replace(/\n.*/g,"")}`,g=c.start(v),w=await Do(t,process.cwd(),process.env),x=xm.spawn(w,h,{windowsHide:!0,env:r?{...process.env,...r}:void 0});return{stdin:x.stdin,stdout:x.stdout,stderr:x.stderr,exit:new Promise((y,E)=>{x.once("error",T=>{c.stop(v,g),E(T)}),x.once("close",(T,k)=>{c.stop(v,g),y({code:T,signal:k})})}),async terminate(){x.kill("SIGKILL")}}}}async function ZV(t,e,n,r){let o=await r("node-pty");if(!o)throw new Error("Missing node-pty");return async function(i){var T,k;let{env:s,cmd:a,args:c,output:l}=i,u=i.cwd||n,d=u?`cd '${u}' && `:"",f=Object.keys(s||{}).map(R=>`${R}='${s[R]}' `).join(""),p=(c||[]).map(R=>` '${R.replace(/'/g,`'"'"'`)}'`).join(""),m=`${d}${f}${a}${p}`,h=[...e,"/bin/sh","-c",m],v=`Run: ${t} ${h.join(" ").replace(/\n.*/g,"")}`,g=l.start(v),w=!1,x=await Do(t,process.cwd(),process.env),y=o.spawn(x,h,{cols:(T=l.dimensions)==null?void 0:T.columns,rows:(k=l.dimensions)==null?void 0:k.rows,useConpty:w}),E=[l.onDidChangeDimensions&&l.onDidChangeDimensions(R=>y.resize(R.columns,R.rows))];return{onData:y.onData.bind(y),write:y.write.bind(y),resize:y.resize.bind(y),exit:new Promise(R=>{y.onExit(({exitCode:b,signal:I})=>{if(E.forEach(_=>_==null?void 0:_.dispose()),l.stop(v,g),R({code:b,signal:I}),process.platform==="win32")try{y.kill()}catch{}})}),async terminate(){y.kill("SIGKILL")}}}}function wm(t){let e=/^'?v?(\d+(\.\d+)*)/.exec(t);if(e)return e[1].split(".").map(n=>parseInt(n,10))}function ym(t,e){for(let n=0,r=Math.max(t.length,e.length);n<r;n++){let o=t[n]||0,i=e[n]||0;if(o!==i)return o<i}return!1}var QV=Dl?(t,e,n)=>xm.spawn(Mle,[t,...e||[]],{...n,windowsHide:!0}):xm.fork;async function Em(t,e){if(!e){try{return require(t)}catch{}return}try{return require(`${e}/node_modules.asar/${t}`)}catch{}try{return require(`${e}/node_modules/${t}`)}catch{}try{return __non_webpack_require__(`${e}/node_modules.asar/${t}`)}catch{}try{return __non_webpack_require__(`${e}/node_modules/${t}`)}catch{}}function ez(t){let{output:e}=t,n=[];return{output:eo({...e,get dimensions(){return e.dimensions},event:o=>n?n.push(o):e.event(o)}),flush:()=>{n&&(n.forEach(o=>e.event(o)),n=void 0)}}}function tz(t,e,n){return eo({...t,get dimensions(){return t.dimensions},event:o=>{o.channel===e&&t.event(o),n.event(o)}})}function zn(t,e){return e&&typeof e=="object"&&"win32"in e?t==="win32"?e.win32:e.posix:e}async function pb(t,e){return zn(t.platform,{posix:async()=>{try{return await t.exec(`test -f '${e}'`),!0}catch{return!1}},win32:async()=>(await t.exec(`Test-Path '${e}' -PathType Leaf`)).stdout.trim()==="True"})()}var WR;async function Ib(){return WR===void 0&&(WR=(async()=>{try{return JV.userInfo().username}catch(t){if(process.platform!=="linux")throw t;return(await ae({exec:ec(void 0),cmd:"id",args:["-u","-n"],output:$e})).stdout.toString().trim()}})()),WR}function nz(t){let e=t.replace(/['\\]/g,"\\$&"),n=vm(t).replaceAll("'","\\'");return` (command -v getent >/dev/null 2>&1 && getent passwd '${e}' || grep -E '^${n}|^[^:]*:[^:]*:${n}:' /etc/passwd || true)`}async function rz(t,e,n,r,o,i){let s="Extracting tarball",a=i.start(s),c=`${r}_${Date.now()}`;try{await Eb(t,e,c,i);let l=n instanceof Buffer?n:await(async()=>{let u=[];for await(let d of n)u.push(d);return Buffer.concat(u)})();await ae({exec:t,cmd:"tar",args:["--no-same-owner",`-x${o?"z":""}`,"--strip-components","1","-C",c],stdin:l,output:i,print:"continuous"}),await wb(t,e,c,r,i)}catch(l){try{await yb(t,e,c,{recursive:!0,force:!0},i)}catch{}throw l}finally{i.stop(s,a)}}async function hx(t){return t.path.join(await t.tmpdir(),t.platform==="linux"?`vsch-${await t.getUsername()}`:"vsch")}var ri="\u2404";async function vn(t,e,n,r="linux",o="Container"){let i=typeof t=="function",s=r==="win32",a=i?await t({env:n?{VSCODE_REMOTE_CONTAINERS_SESSION:n}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:e}):t;if(!i){let f=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${ri}; /bin/sh'
`;a.stdin.write(f),await new Promise(m=>{let h="",v=new YR.StringDecoder;a.stdout.on("data",function g(w){h+=v.write(w),h.includes(f)&&(a.stdout.off("data",g),m())})})}let c=Hle(a),l;async function u(f,p){let m=l=(async()=>{try{await l}catch{}return d(zn(r,f),p)})();try{return await Promise.race([m,c.unexpectedExit])}finally{c.disposeStdioListeners(),l===m&&(l=void 0)}}async function d(f,p){let m=`Run in ${o.toLowerCase()}: ${f.replace(/\n.*/g,"")}`,h;if((p==null?void 0:p.logOutput)!=="silent"&&(h=e.start(m,p==null?void 0:p.logLevel)),a.stdin.destroyed){e.write("Stdin closed!");let{code:k,signal:R}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${k}, signal: ${R})`,code:k,signal:R})}r==="win32"?a.stdin.write(`[Console]::Write('${ri}'); ( ${f} ); [Console]::Write("${ri}$LastExitCode ${ri}"); [Console]::Error.Write('${ri}')
`):a.stdin.write(`echo -n ${ri}; ( ${f} ); echo -n ${ri}$?${ri}; echo -n ${ri} >&2
`);let[v,g]=oz(a.stdout,[1,2],(p==null?void 0:p.logOutput)==="continuous"?(k,R,b)=>{R===1&&b===0&&e.write(k,p==null?void 0:p.logLevel)}:()=>{}),w=oz(a.stderr,[1],(p==null?void 0:p.logOutput)==="continuous"?(k,R,b)=>{R===0&&b===0&&e.write(k,p==null?void 0:p.logLevel)}:()=>{})[0];p!=null&&p.stdin&&(await v,a.stdin.write(p==null?void 0:p.stdin));let[x,y]=await g,[E]=await w,T=parseInt(y,10)||0;return((p==null?void 0:p.logOutput)===void 0||(p==null?void 0:p.logOutput)===!0)&&(e.write(x,p==null?void 0:p.logLevel),e.write(E,p==null?void 0:p.logLevel),T&&e.write(`Exit code ${T}`,p==null?void 0:p.logLevel)),(p==null?void 0:p.logOutput)==="continuous"&&T&&e.write(`Exit code ${T}`,p==null?void 0:p.logLevel),(p==null?void 0:p.logOutput)!=="silent"&&e.stop(m,h,p==null?void 0:p.logLevel),T?Promise.reject({message:`Command in ${o.toLowerCase()} failed: ${f}`,code:T,stdout:x,stderr:E}):{stdout:x,stderr:E}}return{exec:u,process:a,platform:r,path:zn(r,jle)}}function oz(t,e,n){let r=e.map(()=>{let u;return{promise:new Promise((f,p)=>u={resolve:f,reject:p}),...u}}),o=new YR.StringDecoder("utf8"),i=[],s=0,a=[];function c(u){let d=o.write(u);l(d)}function l(u){let d=u.indexOf(ri);if(d!==-1){let f=u.substr(0,d);i.push(f),n(f,s,a.length),a.push(i.join("")),i.length=0,a.length===e[s]&&(r[s].resolve(a),s++,a=[],s===e.length&&t.off("data",c)),d+1<u.length&&l(u.substr(d+1))}else i.push(u),n(u,s,a.length)}return t.on("data",c),r.map(u=>u.promise)}function Hle(t){let e,n=new Promise((c,l)=>e=l),r=[],o=[],i=c=>r.push(c),s=c=>o.push(c);return t.stdout.on("data",i),t.stderr.on("data",s),t.exit.then(({code:c,signal:l})=>{e(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(r).toString()}
${Buffer.concat(o).toString()}`)},c=>{e(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:n,disposeStdioListeners:()=>{t.stdout.off("data",i),t.stderr.off("data",s),r.length=0,o.length=0}}}var wz=G(require("net")),yz=G(xz());async function Ez({forwardedPorts:t,output:e,getLogLevel:n},r,o,i){e.write(`Port forwarding for container port ${o} starts listening on local port.`,2);let s=i?{VSCODE_REMOTE_CONTAINERS_SESSION:i}:void 0;return new Promise((a,c)=>{let l=new Set,u=wz.createServer({pauseOnConnect:!0},d=>{let f=d.remotePort,p=u.address().port;e.write(`Port forwarding connection from ${f} > ${p} > ${o} in the container.`),n()===1&&(async()=>{let m=await(0,yz.default)("port",f);e.write(`Port forwarding process for ${f} > ${p} > ${o} in the container:
${JSON.stringify(m,void 0,"  ")}`)})().catch(console.error),Kle(e,r,[r.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ host: '127.0.0.1', port: ${o} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(m=>{let h;m.exit.then(({code:v,signal:g})=>{h||(l.delete(d),d.end()),e.write(`Port forwarding ${f} > ${p} > ${o} terminated${h?` by extension (${h})`:""} with code ${v} and signal ${g}.`)},v=>{l.delete(d),d.end(),e.write(`Port forwarding ${f} > ${p} > ${o} terminated with error: ${v&&v.message||String(v)}`)}),m.stderr.on("data",v=>{e.write(`Port forwarding ${f} > ${p} > ${o} stderr: ${v.toString("utf8")}`,2)}),d.on("close",v=>{e.write(`Port forwarding ${f} > ${p} > ${o}: Local close${v?" with error":""}`,2),l.delete(d),h="closed",m.stdin.end(),setTimeout(()=>{h="killed",m.terminate().catch(console.error)},5e3)}),m.stdout.pipe(d),d.pipe(m.stdin),l.add(d)}).catch(console.error)});u.on("listening",()=>{let d={targetPort:o,server:u,connections:l};u.on("close",()=>{t.delete(d)}),t.add(d),e.write(`Port forwarding local port ${u.address().port} to container port ${o}`),a(u)}),u.on("error",d=>{if(d&&(d.code==="EADDRINUSE"||d.code==="EACCES")){u.listen(0,"127.0.0.1");return}c(d)}),u.on("close",()=>{c(new Error("Closed"))}),u.listen(o,"127.0.0.1")})}async function Kle(t,e,n,r){return e.remoteExec({env:r,cmd:n[0],args:n.slice(1),output:t})}var Cm=G(require("path"));var XR=G(Tr());function Nb(t,e){let n,r=t.platform==="win32",o={...t,get env(){return n||(n=bz(r,t.env))}},i=Zle.bind(void 0,r,o);return t.containerWorkspaceFolder&&(o.containerWorkspaceFolder=_z(i,t.containerWorkspaceFolder)),Rb(i,e)}function Cz(t,e,n,r){let o=t==="win32";return Rb(Qle.bind(void 0,o,e,bz(o,n)),r)}function Rb(t,e){if(typeof e=="string")return _z(t,e);if(Array.isArray(e))return e.map(n=>Rb(t,n));if(e&&typeof e=="object"){let n=Object.create(null);return Object.keys(e).forEach(r=>{n[r]=Rb(t,e[r])}),n}return e}var Jle=/\$\{(.*?)\}/g;function bz(t,e){if(t){let n=Object.create(null);return Object.keys(e).forEach(r=>{n[r.toLowerCase()]=e[r]}),n}return e}function _z(t,e){return e.replace(Jle,Xle.bind(void 0,t))}function Xle(t,e,n){let r,o=n.split(":");return o.length>1&&(n=o[0],r=o[1]),t(e,n,r)}function Zle(t,e,n,r,o){switch(r){case"env":case"localEnv":return Sz(t,e.env,o,n,e.configFile);case"localWorkspaceFolder":return e.localWorkspaceFolder!==void 0?e.localWorkspaceFolder:n;case"localWorkspaceFolderBasename":return e.localWorkspaceFolder!==void 0?(t?Cm.win32:Cm.posix).basename(e.localWorkspaceFolder):n;case"containerWorkspaceFolder":return e.containerWorkspaceFolder!==void 0?e.containerWorkspaceFolder:n;case"containerWorkspaceFolderBasename":return e.containerWorkspaceFolder!==void 0?Cm.posix.basename(e.containerWorkspaceFolder):n;default:return n}}function Qle(t,e,n,r,o,i){switch(o){case"containerEnv":return Sz(t,n,i,r,e);default:return r}}function Sz(t,e,n,r,o){if(n){t&&(n=n.toLowerCase());let i=e[n];return typeof i=="string"?i:""}throw new Ee({description:o?XR.t("'{0}' in {1} can not be resolved because no environment variable name is given.",r,Cm.posix.basename(o.path)):XR.t("'{0}' can not be resolved because no environment variable name is given.",r)})}async function Mr(t){return new Promise(e=>setTimeout(e,t))}var Lb=G(require("path"));var eue=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function Dz(t,e,n,r,o){let{repository:i,installCommand:s,targetPath:a}=t.dotfilesConfiguration;if(i=o.getDotfileConfiguration("dotfiles.repository")||i,s=o.getDotfileConfiguration("dotfiles.installCommand")||s,a=o.getDotfileConfiguration("dotfiles.targetPath")||a,!i)return;await r;let c=await n;i.indexOf(":")===-1&&!/^\.{0,2}\//.test(i)&&(i=`https://github.com/${i}.git`);let l=e.shellServer,u=Iz(e),d=Object.keys(c).filter(f=>!(f.startsWith("BASH_FUNC_")&&f.endsWith("%%"))).reduce((f,p)=>`${f}${p}=${tue(c[p])} `,"");try{t.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await l.exec(`# Clone & install dotfiles
${Ab(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${i} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${d}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:3}):await l.exec(`# Clone & install dotfiles
${Ab(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${i} ${a} || exit $?
cd ${a}
for f in ${eue.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${d}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:3}),t.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{t.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function tue(t){return`'${(t||"").replace(/'+/g,`'"$&"'`)}'`}function Iz(t){return Lb.posix.join(Hs(t),".dotfilesMarker")}async function Pz(t){let e=Iz(t),n=Lb.posix.resolve(t.homeFolder,".devcontainer",".dotfilesMarker");try{await t.shellServer.exec(`test -f '${e}' && test ! -e '${n}' && mkdir -p '${Lb.posix.dirname(n)}' && cp '${e}' '${n}'`)}catch{}}var Gd=0,Tz=/Extension host agent listening on (\d+)/;var nue="updateContentCommand";async function $b(t){let{params:e,createdAt:n,startedAt:r,sharedDataFolder:o,sharedDataFolderIsLocalCacheFolder:i,remoteWorkspaceFolder:s,containerUser:a,containerGroup:c,containerEnv:l,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:f,rootShellServer:p,remoteWaylandSocket:m}=t,h;if(p&&a==="root"?h=p:h=await vn(u,e.output,e.sessionId),!l){let C=(await h.exec("echo $PATH")).stdout.trim();l=C?{PATH:C}:{}}a||(a=await Il(h)),!f&&a==="root"&&(f=u);let v=await MR(h),g=await Yd(h,a);g||e.output.write(JI(`User ${a} not found with 'getent passwd'.`));let w=await oue(l,g),x=await rue(l,g),y=lx(ye.posix,x,e.product),{commit:E,quality:T}=e.product,k=!1,R=E&&await sue(y,E,T||"insider",e.web,k),b=mb(v,T==="stable"),I=E&&o&&await Uz(ye.posix,o,b,E,T||"insider",e.web,k),_=R&&Rl("linux",R),D;p?D=Promise.resolve(p):a==="root"&&(D=Promise.resolve(h));let S={createdAt:n,startedAt:r,osRelease:v,build:b,user:a,gid:c||(g==null?void 0:g.gid),env:l,shell:w,homeFolder:x,userDataFolder:y,sharedDataFolderIsLocalCacheFolder:i,sharedDataFolder:o,legacy:k,installFolder:R,sharedInstallFolder:I,remoteWorkspaceFolder:s,nodeExecutable:_,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:f,shellServer:h,remoteWaylandSocket:m};return(D||f)&&(S.launchRootShellServer=()=>D||(D=vn(f,e.output))),S}async function Il(t){return(await t.exec("id -un")).stdout.trim()}async function rue(t,e){return t.HOME||e&&e.home||"/root"}async function oue(t,e){return t.SHELL||e&&e.shell||"/bin/sh"}async function Yd(t,e){let{stdout:n}=await t.exec(nz(e),{logOutput:!1});if(n.trim())return iue(n)}function iue(t){let e=t.replace(/\n$/,"").split(":");return{name:e[0],uid:e[2],gid:e[3],home:e[5],shell:e[6]}}async function sue(t,e,n,r,o){return ye.posix.join(t,"bin",`${e}${n==="stable"?"":`-${n}`}${r?"-web":""}${o?"-legacy":""}`)}async function Uz(t,e,n,r,o,i,s){return t.join(e,"bin",n.id,`${r}${o==="stable"?"":`-${o}`}${i?"-web":""}${s?"-legacy":""}`)}function Mz(t){return ye.posix.join(t.userDataFolder,"extensions")}function Hs(t){return ye.posix.join(typeof t=="string"?t:t.userDataFolder,"data/Machine")}function jb(t){return ye.posix.join(t.userDataFolder,"data/Machine/settings.json")}function aue(t){return ye.posix.join(t,".vscode-remote")}function lx(t,e,n){return t.join(e,n.serverDataFolderName)}function cue(t,e,n){return t.join(e,n.dataFolderName)}function Hb(t){return ye.posix.join("/var",/^\.*(.*)$/.exec(t)[1])}function Rl(t,e){return zn(t,{posix:()=>ye.posix.join(e,"node"),win32:()=>ye.win32.join(e,"node.exe")})()}var vx=class{constructor(e){this.settings=e}getConfiguration(e){return this.settings[Za(e)]||this.settings[_l(e)]}getNewConfiguration(e){return this.settings[Za(e)]}getDotfileConfiguration(e){return this.settings[_l(e)]||this.settings[e]}};async function Al(t,e,n,r,o=Gd,i,s){await lue(t,e);let a=await uue(t,e,r),{serverDownloaded:c,didCheckRequirements:l}=await mue(t,e),u,d,f=Promise.resolve(),p;if(e.nodeExecutable){let y=await fb(t,e,a);u=y.remoteContainersCLI,d=y.remoteEnv,f=y.ready;let E=i;i=E&&(async(...k)=>(await y.ready,E(...k))),p=y.mrpcExec;let T=t.cliHost.reconnect;T&&(t.cliHost.reconnect=async()=>{await T(),y.reconnect().catch(k=>t.output.write(Dt(k&&(k.stack||k.message)||String(k))))})}let h=t.computeExtensionHostEnv||t.postCreate.enabled?zd(t,e,r,p).then(async y=>({...y,...d,...await AV(e,y),REMOTE_CONTAINERS:"true",...Cz(t.cliHost.platform,n.configFilePath,e.env,r.remoteEnv||{})})):Promise.resolve({}),v=a.getConfiguration("gitCredentialHelperConfigLocation")??t.credentialHelperConfigLocation;e.nodeExecutable&&(await ex(t,e,[".ssh","known_hosts"],"ssh"),v!=="none"&&await Fb(e,u,t.output,"system"));let g,w,x;if(e.installFolder){let E=await kue(t,e,o,p,async()=>vue(t,e,r,!1),void 0,!0,!1,l),T=E.serverPort;x=E.connectionToken,g=T,t.forwardServerPort&&e.nodeExecutable&&(w=await Ez(t,e,T,t.sessionId),g=w.address().port,t.backgroundTasks.push(async()=>Aue(t,e,r)))}if(t.postCreate.enabled){let y,E=new Promise(k=>y=()=>{k()}),T=(async()=>{let k={...d,REMOTE_CONTAINERS:"true"},R=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],b=R.reduce((I,_)=>(I[_]=(r[`${_}s`]||[]).length>0,I),{});if(t.prebuild){let I=R.indexOf("updateContentCommand");if((!R.slice(0,I+1).some(S=>b[S])||!i?"prebuild":await i(!1,!1,!0,a,k))!=="prebuild")throw new Error('"prebuild" expected')}else{let I=!0,_=!0,D=r.waitFor||nue,S=R.indexOf(D),C=R.indexOf("postCreateCommand"),L=S<=C&&!R.slice(0,S+1).some(K=>b[K]),A=a.getDotfileConfiguration("dotfiles.repository")||t.dotfilesConfiguration.repository,N=!R.slice(0,C+1).some(K=>b[K])&&!A,B=L?"skipNonBlocking":N||!i?"stopForPersonalization":await i(I,_,!1,a,k);if(B==="skipNonBlocking"){if(y(),t.postCreate.skipNonBlocking)return;I=!1,B=!R.slice(S+1,C+1).some(q=>b[q])&&!A||!i?"stopForPersonalization":await i(I,_,!1,a,k)}if(B==="stopForPersonalization"){i||await Dz(t,e,h,f,a),e.nodeExecutable&&((a.getConfiguration("copyGitConfig")??t.isCopyGitConfigEnabled)&&await JC(t,e,h.then(X=>({...e.env,...X}))),await Fb(e,u,t.output,v)),await(s==null?void 0:s()),_=!1;let K=S>C&&!R.slice(C+1,S+1).some(X=>b[X]),q=!R.slice(C+1).some(X=>b[X]);B=K?"skipNonBlocking":q||!i?"done":await i(I,_,!1,a,k)}if(B==="skipNonBlocking"){if(y(),t.postCreate.skipNonBlocking)return;I=!1,B=!R.slice(S+1).some(q=>b[q])||!i?"done":await i(I,_,!1,a,k)}if(B!=="done")throw new Error('"done" expected')}})();T.then(()=>{t.postCreate.done()},k=>{t.postCreate.done(k)}),t.backgroundTasks.push(T),await Promise.race([E,T])}return{hostOrContainerPort:g,hostPortServer:w,connectionToken:x,remoteEnv:t.computeExtensionHostEnv?await h:{},serverDownloaded:c}}async function lue(t,e){let n=aue(e.homeFolder);!await Ub(e.shellServer,e.userDataFolder)&&await Ub(e.shellServer,n)&&await nc(t,e,["/bin/sh","-c",`cp -r '${n}' '${e.userDataFolder}'`])}async function uue(t,e,n){var s;let r=Hs(e),o=ye.posix.join(r,".writeMachineSettingsMarker"),i=jb(e);if(await qz(e.shellServer,o)){let a=(s=n.customizations)==null?void 0:s.vscode,c=Object.assign({},...(Array.isArray(a)?a:a?[a]:[]).map(l=>l.settings));if(due(c,n.portsAttributes),fue(c,n.otherPortsAttributes),Object.keys(c).length)return await e.shellServer.exec(`mkdir -p '${ye.posix.dirname(i)}' && cat >'${i}' <<'settingsJSON'
${JSON.stringify(c,null,"	")}
settingsJSON
`),new vx(c)}try{let{stdout:a}=await e.shellServer.exec(`cat ${i}`);return new vx(Ge(a)||{})}catch{return new vx({})}}function due(t,e){if(!t||!e||!Object.keys(e).length)return;let n="remote.portsAttributes";if(!t[n]){t[n]=e;return}for(let r in e)t[n][r]||(t[n][r]=e[r])}function fue(t,e){if(!t||!e)return;let n="remote.otherPortsAttributes";t[n]||(t[n]=e)}async function Bb(t,e,n,r){let o=typeof t.gid=="string"?`${t.user}:${t.gid}`:t.user,i=await e();if((await i.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let c=ye.posix.dirname(n);c!=="/"&&await i.exec(`chown ${o} ${c}`),n!=="/"&&await i.exec(`chown -R ${o} ${n}`)}else if(r&&(await i.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let u=ye.posix.dirname(r);u!=="/"&&await i.exec(`chown -R ${o} ${u}`)}}async function Fb(t,e,n,r){if(e||Dl)if(r==="none")n.write("Git credential helper not enabled.");else{let o=r==="system"?t.launchRootShellServer&&await t.launchRootShellServer():t.shellServer;o?await o.exec(`command -v git >/dev/null 2>&1 && git config --${r} --replace-all credential.helper '!f() { ${t.nodeExecutable} ${e} git-credential-helper $*; }; f' || true`):n.write("Cannot configure system wide Git credential helper without root access.")}}async function ex(t,e,n,r,o){let{cliHost:i}=t,s=i.path.join(await i.homedir(),...n);if(!await i.isFile(s)&&(i.type==="local"||(i=await oo(process.cwd(),t.loadNativeModule,t.output),s=i.path.join(await i.homedir(),...n),!await i.isFile(s))))return;let a=ye.posix.join(e.homeFolder,...n);await qd(i,e.shellServer,s,a,r,o)}async function qd(t,e,n,r,o,i=""){let s=await pue(t,n);if(s)try{let a=await r,c=ye.posix.dirname(a);await e.exec(`# Test for ${a} and ${o}
[ -e '${a}' ] ${i}&& echo '${a}' exists && exit 1
command -v ${o} >/dev/null 2>&1 || (echo ${o} not found && exit 1) || exit 1
mkdir -p '${c}'
[ -w '${c}' ] || (echo '${c}' not writable && exit 1) || exit 1`),await e.exec(`# Copy ${n} to ${a}
${tN(s.byteLength)} >>'${a}'`,{stdin:s})}catch(a){if(a&&a.code!==1)throw a}}async function pue(t,e){try{return await t.readFile(e)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="EISDIR"))return;throw n}}async function mue(t,e){let n=await kz(t,e,e.legacy);if(n!=="retryWithLegacyServer")return n;let r=await kz(t,e,!0);return e.legacy=!0,e.installFolder=r.installFolder,e.sharedInstallFolder=r.sharedInstallFolder,e.nodeExecutable=r.installFolder&&Rl("linux",r.installFolder),r}async function kz(t,e,n){let r=await hue(t,e,n),o=!1;if(r.installFolder){let i=ye.posix.join(r.installFolder,"bin","helpers","check-requirements.sh");if(o=await Tue(e.shellServer,i),o)try{await e.shellServer.exec(`'${i}'`)}catch(s){if((s==null?void 0:s.code)===100){if(!n)return"retryWithLegacyServer"}else throw(s==null?void 0:s.code)===99?new Ee({description:Nl.t("The container does not meet all the requirements of the VS Code Server."),detail:s==null?void 0:s.stdout.toString().trim(),step:"checkRequirements",data:{reload:!1,learnMoreUrl:"https://aka.ms/vscode-remote/faq/old-linux"},originalError:s}):s}}return{...r,didCheckRequirements:o}}async function hue(t,e,n){let{commit:r}=t.product,{shellServer:o,launchRootShellServer:i,build:s}=e;if(!(r&&e.installFolder))return{serverDownloaded:void 0,installFolder:void 0,sharedInstallFolder:void 0};let a=n?`${e.installFolder}-legacy`:e.installFolder,c=n&&e.sharedInstallFolder?`${e.sharedInstallFolder}-legacy`:e.sharedInstallFolder;gue(e.osRelease,s),s.preview&&t.output.write(`\r
\x1B[1mSupport for ${s.label} is in preview.\x1B[22m\r
\r
`);let l=await Ub(o,a),u;if(l||s===Bz[s.arch]&&(i?u=(await i()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):u=o.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`)),c&&await Ub(o,c))return l||await o.exec(`mkdir -p '${ye.posix.dirname(a)}' && ln -snf '${c}' '${a}'`),i&&(async()=>{await(await i()).exec(`touch '${c}'`)})().catch(console.error),await u,{serverDownloaded:!1,installFolder:a,sharedInstallFolder:c};if(l)return{serverDownloaded:!1,installFolder:a,sharedInstallFolder:c};t.progress(4),t.output.write(`Installing VS Code Server for commit ${r}\r
`);let d=!!(c&&i),f=d?c:a,p=d?await i():o,m={localCacheFolder:t.localCacheFolder,build:s,commit:r,quality:t.product.quality||"insider",web:t.web,output:t.output,alternateDownload:t.alternateDownload,legacy:n},h=fm(m),v=await gr(h);v||await ux(m);try{e.sharedDataFolderIsLocalCacheFolder?await Rz(m):await sx(t,p,h,f)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await ux(m),e.sharedDataFolderIsLocalCacheFolder?await Rz(m):await sx(t,p,h,f);else throw g}return d&&(await o.exec(`mkdir -p '${ye.posix.dirname(a)}' && ln -snf '${c}' '${a}'`),(async()=>{await p.exec(`touch '${c}' && cd '${ye.posix.dirname(c)}' && ls -td *[^_]????????????? | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await u,{serverDownloaded:!v,installFolder:a,sharedInstallFolder:c}}function gue(t,e){let n=t.version;if(e.minVersion&&n){let r=wm(n.trim());if(r&&ym(r,e.minVersion)){let o=Nl.t("{0} {1} or later required.",e.label,e.minVersion.join("."));throw new Ee({description:o,data:{reload:!1}})}}}async function ux(t){let{build:e,commit:n,quality:r,web:o,legacy:i,output:s}=t,a="Downloading VS Code Server",c=s.start(a);s.write(`${n} ${e.id} ${r}${o?" web":""}${i?" legacy":""}`);let l=fm(t);await Zi(ye.dirname(l));let u=`https://update.code.visualstudio.com/commit:${n}/server-${i?e.id.replace("linux-","linux-legacy-"):e.id}${o?"-web":""}/${r}`,d,f;try{f=`${l}_${Date.now()}`,await new Promise((p,m)=>{let h=Mb.createWriteStream(f);s.write("Starting download.",1),Lz.https.get(u,{trackRedirects:!0},g=>{var y;if(g.statusCode<200||g.statusCode>299){s.write(`Download failed: ${g.statusCode} ${g.statusMessage}.`,1),m(new Ee({description:Nl.t("Downloading the VS Code Server failed. Please try again later."),originalError:`Failed to download VS Code Server (${u}): HTTP ${g.statusCode} - ${g.statusMessage}`}));return}let x=(y=[...g.redirects,g].find(E=>E.headers["x-sha256"]))==null?void 0:y.headers["x-sha256"];d=Array.isArray(x)?x[0]:x,s.write("Downloading data.",1),g.on("error",m),g.pipe(h),g.on("end",p)}).on("error",m)})}catch(p){if(s.write("Downloading failed.",1),s.write((p==null?void 0:p.stack)||(p==null?void 0:p.message)||String(p),1),t.alternateDownload)s.write(p&&(p.originalError||p.message)),s.write("Retrying to download VS Code Server."),f=`${l}_${Date.now()}`,await t.alternateDownload(u,f);else throw p||new Ee({description:Nl.t("Downloading the VS Code Server failed. Please try again later.")})}finally{s.stop(a,c)}if(d){let p=bm.createHash("sha256"),m=await ot(f);p.update(m);let h=p.digest("hex");if(h!==d)throw s.write(`Failed to download VS Code Server (${u}): SHA mismatch, actual ${h} != expected ${d}`),new Ee({description:Nl.t("Downloading the VS Code Server failed. Please try again later.")})}await nl(f,l)}async function sx(t,e,n,r,o,i=!0){let s="Installing VS Code Server",a=t.output.start(s),c=`${r}_${Date.now()}`;try{if(await e.exec(`mkdir -p ${c}`),o)typeof n=="string"&&n.endsWith(".zip")?await e.exec(`unzip ${n} -d ${c}`):await e.exec(`cat ${n} | tar --no-same-owner -x${i?"z":""} -C ${c}`);else{let l=typeof n=="string"?await ot(n):n;await e.exec(`${tN(l.byteLength,!0)} | tar --no-same-owner -x${i?"z":""} -C ${c}`,{stdin:l,logOutput:"continuous"})}await e.exec(`mv -n ${ye.posix.join(c,"*",".")} ${r} && rmdir ${c}`)}catch(l){try{await e.exec(`rm -rf ${c}`)}catch{}throw l}finally{t.output.stop(s,a)}}async function Rz(t){let{localCacheFolder:e,build:n,commit:r,quality:o,web:i,legacy:s,output:a}=t,c="Unpacking VS Code Server",l=a.start(c);a.write(`${r} ${n.id} ${o} ${i?"web":""} ${s?"legacy":""}`);let u=await Uz(ye,e,n,r,o,i,s),d=`${u}_${Date.now()}`;try{await Zi(d);let f=fm(t);await(await ec(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",f,"--strip-components","1","-C",d],cwd:process.cwd(),output:a})).exit,await ol(u,{recursive:!0,force:!0}),await nl(d,u)}catch(f){try{await ol(d,{recursive:!0,force:!0})}catch{}throw f}finally{a.stop(c,l)}}function fm(t){let{localCacheFolder:e,build:n,commit:r,quality:o,web:i,legacy:s}=t,a=ye.join(e,"serverCache",r),c=`vscode-server-${n.id}${o==="stable"?"":`-${o}`}${i?"-web":""}${s?"-legacy":""}${n.archiveExt||".tar.gz"}`;return ye.join(a,c)}async function $z(t,e){let n=await Wz(e),r={VSCODE_AGENT_FOLDER:e.userDataFolder},{stdout:o}=await nc(t,e,[ye.posix.join(e.installFolder,...XC(n)),...Yz(e.userDataFolder),...Vz(t.getTelemetryLevel()),"--list-extensions"],e.installFolder,{remoteEnv:r});return o.toString().split(`
`).filter(i=>!!i)}async function vue(t,e,n,r){let o="Preparing Extensions",i=t.output.start(o),{sharedDataFolder:s}=e,a=s?_ue(s):void 0,c=jz(e),l=Hs(e),u=ye.posix.join(l,".installExtensionsMarker"),d=!await qz(e.shellServer,u),f=wue(t,d,n);if(e.sharedDataFolderIsLocalCacheFolder)await e.shellServer.exec(`mkdir -p '${a}' && ln -s -T '${a}' '${c}' || true`),e.launchRootShellServer&&await(await e.launchRootShellServer()).exec(`chown -R ${e.user} ${a}`);else{let m=bue(t.localCacheFolder),h=await yue(t,e,m,a,c,[...f.builtinExtensions,...f.extensions]);Eue(t,e,m,a,c,h).catch(console.error)}f.extensions=f.extensions.filter(m=>!f.builtinExtensions.includes(m)),t.product.version&&Az.lte("1.77.0",t.product.version.split("-")[0])&&(t.output.write(`Optimizing extensions for quality: ${t.product.quality}`),f.builtinExtensions=await xue(t,e,c,f.builtinExtensions));let p=[].concat(...f.builtinExtensions.map(m=>["--install-builtin-extension",m]),...f.extensions.map(m=>["--install-extension",m]));return r&&p.length&&p.push("--do-not-sync"),t.output.stop(o,i),{...f,args:p}}async function xue(t,e,n,r){if(r.length===0)return r;let{shellServer:o}=e,i=(await o.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(a=>!!a&&a.endsWith("vsix"));t.output.write(`Available vsix: ${i.join(", ")||"None"}`);let s=r.map(a=>{let c=i.find(l=>l.startsWith(a.toLocaleLowerCase()));return c?`${n}/${c}`:a});return t.output.write(`Optimized extensions to install: ${s.join(", ")||"None"}`),s}function wue(t,e,n){var a,c;let r=e?[]:t.installBuiltinExtensions||[],o=t.getAdditionalExtensionsToInstall(e),i=[...e?[]:(((a=n.customizations)==null?void 0:a.vscode)||[]).map(l=>l.extensions||[]),o],s=[];for(let l of i.flat()){let u=(c=/^(?<removal>-)?(?<idAndVersion>(?<id>[^@ ]*)[^ ]*)$/.exec(l))==null?void 0:c.groups;if(u){let d=s.findIndex(f=>f.id===u.id);d!==-1&&s.splice(d,1),u.removal||s.push(u)}}return{builtinExtensions:r,extensions:s.map(l=>l.idAndVersion)}}async function yue(t,e,n,r,o,i){t.output.write(`Extensions cache, install extensions: ${i.join(", ")||"None"}`);let{shellServer:s}=e,a=(await s.exec(`test -d ${o} && ls ${o} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(r){let c=(await s.exec(`test -d ${r} && ls ${r} || true`)).stdout.trim().split(`
`).filter(u=>!!u),l=c.filter(u=>i.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(t.output.write(`Extensions cache, link in container: ${l.join(", ")||"None"}`),l.length){await s.exec(`mkdir -p '${o}' && ln -s '${r}'/* '${o}' || true`);let{launchRootShellServer:u}=e;u&&(async()=>{await(await u()).exec(`cd ${r} && touch ${l.map(f=>`'${f}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await Zi(n);let c=await rl(n),l=c.filter(u=>i.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(t.output.write(`Extensions cache, copy to remote: ${l.join(", ")||"None"}`),l.length){let u=ye.basename(n),d=Ll.c({cwd:ye.dirname(n)},l.map(m=>ye.join(u,m))),f=ye.posix.join(o,`tmp-${Date.now()}`),p=await new Promise(m=>{let h=[];d.on("data",v=>h.push(v)),d.on("end",()=>m(Buffer.concat(h)))});await s.exec(`# Copy extensions to remote
mkdir -p ${f}
${tN(p.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${f}
mv ${f}/* ${o} && rmdir ${f}`,{stdin:p})}return{remoteExtensions:a.concat(l),cachedExtensions:c}}}async function Eue(t,e,n,r,o,i){if(r&&!e.launchRootShellServer)return;let s=1e4,a=6e4;for(await Mr(s);;)i=await Cue(t,e,n,r,o,i),await Mr(a)}async function Cue(t,e,n,r,o,{remoteExtensions:i,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:l}=e,u=(await a.exec(`ls ${o} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(f=>!!f);if(!r){let f=i.filter(p=>u.indexOf(p)===-1);t.output.write(`Extensions cache, remote removals: ${f.join(", ")||"None"}`);for(let p of f)try{await aM(ye.join(n,p))}catch(m){if(!(m&&m.code==="ENOENT"))throw m}}let d=u.filter(f=>i.indexOf(f)===-1&&s.indexOf(f)===-1);if(t.output.write(`Extensions cache, copy to ${r?"shared cache":"local"}: ${d.join(", ")||"None"}`,1),d.length)if(r){let f=await c();await f.exec(`mkdir -p '${r}' && cd '${o}' && cp ${d.map(p=>`'${p}'`).join(" ")} '${r}'`),await f.exec(`cd '${r}' && ls -t | tail -n +50 | xargs rm -f`)}else{let f=ye.posix.basename(o),p=await l({cmd:"tar",cwd:ye.posix.dirname(o),args:["c",...d.map(g=>ye.posix.join(f,g))],output:t.output}),m=ye.join(ye.dirname(n),`${ye.basename(n)}-${Date.now()}`);await Zi(m);let h=Ll.x({cwd:m,strip:1}),v=new Promise((g,w)=>{h.on("error",w),h.on("finish",g)});p.stdout.pipe(h),await v;for(let g of await rl(m))await nl(ye.join(m,g),ye.join(n,g));await cM(m)}return{remoteExtensions:u,cachedExtensions:s}}var eN="extensionsCache";function bue(t){return ye.join(t,eN)}function _ue(t){return ye.posix.join(t,eN)}function jz(t){return ye.posix.join(t.userDataFolder,eN)}var Hz={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},Bz={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},ub={x64:{label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},arm64:{label:"Mac ARM",id:"darwin-arm64",arch:"arm64",stable:!0,preview:!0,archiveExt:".zip"}},Sue={x64:{label:"Windows",id:"win32-x64",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},arm64:{label:"Windows ARM",id:"win32-arm64",arch:"arm64",stable:!0,preview:!0,archiveExt:".zip"}},Due={linux:Hz,alpine:Bz,darwin:ub,win32:Sue},Iue={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function mb(t,e){var o;let n=Iue[t.hardware],r=n&&(((o=Due[t.id])==null?void 0:o[n])||Hz[n]);if(!r||e&&!r.stable)throw new Ee({description:t.id==="alpine"?Nl.t("Alpine Linux is not supported on the hardware architecture '{0}' of the container.",t.hardware):Nl.t("The hardware architecture '{0}' of the container is not supported.",t.hardware),data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return r}async function MR(t){let e="unknown",n="unknown",r="unknown";try{e=(await t.exec("uname -m")).stdout.trim();let{stdout:o}=await t.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");n=(o.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",r=(o.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(o){console.error(o)}return{hardware:e,id:n,version:r}}async function Pue(t,e,n,r){let o=await zn(n,{async win32(){var a;return{amd64:"x86_64",arm64:"arm64"}[((a=e.PROCESSOR_ARCHITECTURE)==null?void 0:a.toLowerCase())||""]||"unknown"},async posix(){return(await ae({exec:t,cmd:"uname",args:["-m"],output:r})).stdout.toString().trim()}})(),i=n,s="unknown";if(n==="linux")try{let a=(await ae({exec:t,cmd:"/bin/sh",args:["(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null"],output:r})).stdout.toString();i=(a.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",s=(a.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(a){console.error(a)}return{hardware:o,id:i,version:s}}async function qz(t,e){try{return await t.exec(Ab(e)),!0}catch{return!1}}function Ab(t){return`test ! -f '${t}' && set -o noclobber && mkdir -p '${ye.posix.dirname(t)}' && { > '${t}' ; } 2> /dev/null`}async function Ub(t,e){try{return await t.exec(`test -d '${e}'`),!0}catch{return!1}}async function Tue(t,e){try{return await t.exec(`test -x '${e}'`),!0}catch{return!1}}async function kue(t,e,n,r,o,i,s,a,c){let{userDataFolder:l,installFolder:u,sharedInstallFolder:d,shellServer:f}=e,{processes:p,mntNS:m}=await mR(f),h=await Wz(e),v=`(${ye.posix.join(...XC(h))})`.replace(".","\\."),g=new RegExp(`${ye.posix.join(ye.posix.dirname(u).replace(".","\\."),"[^/]*",v)}`),w=p.filter(X=>X.mntNS===m&&g.test(X.cmd));t.output.write(`Running extension host agents:
${JSON.stringify(w,void 0,"  ")}`,1);let{current:x,others:y}=w.reduce((X,ue)=>(X[(ue.cwd===u||ue.cwd===d)&&g.test(ue.cmd)?"current":"others"].push(ue),X),{current:[],others:[]});if(s&&y.length){t.output.write(`Terminating old extension host agent.\r
`);try{await f.exec(`kill -9 ${y.map(X=>X.pgrp?`-${X.pgrp}`:X.pid).join(" ")}`)}catch{}}let{commit:E,quality:T}=t.product,k=ye.posix.join(Hs(e),`.connection-token-${E}${T==="stable"?"":`-${T}`}${t.web?"-web":""}${e.legacy?"-legacy":""}`),R=ye.posix.join(Hs(e),`.devport-${E}${T==="stable"?"":`-${T}`}${t.web?"-web":""}${e.legacy?"-legacy":""}`);if(x.length){t.output.write(`Extension host agent is already running.\r
`);try{let{stdout:X}=await f.exec(`cat '${R}' 2>/dev/null`),ue=X.toString().trim(),De=parseInt(ue,10),Le=new RegExp(" '?--connection-token-file'? ").test(x[0].cmd)?(await f.exec(`cat '${k}'`)).stdout.toString().trim():void 0;return{serverPort:De,connectionToken:Le}}catch(X){console.error(X),t.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await f.exec(`kill -9 ${x.map(ue=>ue.pgrp?`-${ue.pgrp}`:ue.pid).join(" ")}`)}catch{}}}let b="isLocalContainer"in t&&t.isLocalContainer,I=`${k}-${bm.randomUUID()}`,{stdout:_}=await f.exec(`cat '${k}' 2>/dev/null || (umask 377 && echo '${bm.randomUUID()}' >'${I}' && mv -n '${I}' '${k}' && rm -f '${I}' && cat '${k}')`),D=_.toString().trim();t.progress(5);let S="Starting VS Code Server",C=t.output.start(S),L=[ye.posix.join(u,...XC(h)),"--log",yo(t.getLogLevel()),"--force-disable-user-env",...Yz(e.userDataFolder),...Rue(b),...Vz(t.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(n),"--connection-token-file",k,"--extensions-download-dir",jz(e),...(await o()).args,"--start-server",...b?["--disable-websocket-compression"]:[""],...a?["--enable-remote-auto-shutdown"]:[],...c?["--skip-requirements-check"]:[]],A={SHELL:e.shell,VSCODE_AGENT_FOLDER:l,...await i};delete A.NODE_OPTIONS;let B=(await nc(t,{remoteExec:e.remoteExec},L,u,{remoteEnv:A,resolveOn:Tz,print:"continuous"})).cmdOutput;t.output.stop(S,C);let K=(Tz.exec(B)||[])[1];if(!K)throw new Error("Port not found");return await f.exec(`echo ${K} >'${R}'`),{serverPort:parseInt(K,10),connectionToken:D}}async function Wz({shellServer:t,installFolder:e}){return JSON.parse((await t.exec(`cat '${ye.posix.join(e,"product.json")}'`,{logOutput:!1})).stdout.toString().trim())}function Yz(t){return["--server-data-dir",t]}function Rue(t){return t?["--use-host-proxy"]:[]}function Vz(t){return t?["--telemetry-level",t]:[]}var Nue=/^([a-z0-9\-]+):(\d{1,5})$/;function Lue(t){let e=t.match(Nue);if(!(!e||e.length!==3))return{host:e[1],port:Number(e[2])}}async function Aue(t,e,n){let r=(n.forwardPorts||[]).map(i=>typeof i=="number"?`localhost:${i}`:i).map(Lue).filter(Boolean),o=await t.getTunnels();await Promise.all(r.filter(i=>!o.find(s=>s.remoteAddress.host===i.host&&s.remoteAddress.port===i.port)).map(async({host:i,port:s})=>t.openTunnel(e,s,i)))}async function nc(t,{remoteExec:e},n,r,o={}){let i=o.print||(o.silent?"off":"end"),s=await e({env:o.remoteEnv,cwd:r,cmd:n[0],args:n.slice(1),output:o.silent?$e:t.output}),a=[],c=[],l=new QR.StringDecoder,u=new QR.StringDecoder,d="",f="",p,m,h=new Promise((y,E)=>{p=y,m=E});s.stdout.on("data",y=>{a.push(y);let E=l.write(y);i==="continuous"&&t.output.write(E.replace(/\r?\n/g,`\r
`)),d+=E,o.resolveOn&&o.resolveOn.exec(d)&&p()}),s.stderr.on("data",y=>{c.push(y),f+=u.write(y)}),o.stdin instanceof Buffer?(s.stdin.write(o.stdin,y=>{y&&m(y)}),s.stdin.end()):o.stdin instanceof Mb.ReadStream&&o.stdin.pipe(s.stdin);let v=await Promise.race([s.exit,h]),g=Buffer.concat(a),w=Buffer.concat(c);i==="end"&&(t.output.write(d.replace(/\r?\n/g,`\r
`)),t.output.write(Dt(f)));let x=`${d}
${f}`;return v&&(v.code||v.signal)?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:x,stdout:g,stderr:w,code:v.code,signal:v.signal}):{cmdOutput:x,stdout:g,stderr:w}}function tN(t,e=!1){let r=t%8192;return`(dd iflag=fullblock bs=8192 count=${(t-r)/8192}${e?"":" 2>/dev/null"}; dd iflag=fullblock bs=${r} count=1${e?"":" 2>/dev/null"})`}async function zd(t,e,n,r){let o=Uue(n,t);if(!o||o==="none")return{};let i=await Oue(o,t,e.shellServer);return i||(t.output.write("userEnvProbe: not found in cache"),i=await Nz(o,t,e,r,"cat /proc/self/environ","\0"),i||(t.output.write("userEnvProbe: falling back to printenv"),i=await Nz(o,t,e,r,"printenv",`
`)),i&&await Fue(i,o,t,e.shellServer),i||{})}async function Oue(t,e,n){if(!n||!e.containerSessionDataFolder)return;let r=zz(t,e.containerSessionDataFolder);try{if(await pb(n,r)){let{stdout:o}=await n.exec(`cat '${r}'`);return JSON.parse(o)}}catch(o){e.output.write(`Failed to read/parse user env cache: ${o}`,5)}}async function Fue(t,e,n,r){if(!r||!n.containerSessionDataFolder)return;let o=zz(e,n.containerSessionDataFolder);try{await r.exec(`mkdir -p '${ye.posix.dirname(o)}' && cat > '${o}' << 'envJSON'
${JSON.stringify(t,null,"	")}
envJSON
`)}catch(i){n.output.write(`Failed to cache user env: ${i}`,5)}}function zz(t,e){return ye.posix.join(e,`env-${t}.json`)}async function Nz(t,e,n,r,o,i){var s;if(t==="none")return{};try{let a=bm.randomUUID(),c=new RegExp(a+"([^]*)"+a),l=n.shell;e.output.write(`userEnvProbe shell: ${l}`);let u=ye.posix.basename(l),d=`echo -n ${a}; ${o}; echo -n ${a}`,f;/^pwsh(-preview)?$/.test(u)?f=t==="loginInteractiveShell"||t==="loginShell"?["-Login","-Command"]:["-Command"]:f=[t==="loginInteractiveShell"?"-lic":t==="loginShell"?"-lc":t==="interactiveShell"?"-ic":"-c"];let p=eo(e.output,1),m=nc({output:p},{remoteExec:await r||n.remoteExec},[l,...f,d],n.installFolder);Promise.race([m,Mr(2e3)]).then(async k=>{if(!k){let R,b=n.shellServer||await vn(n.remoteExec,e.output);try{({processes:R}=await mR(b))}finally{n.shellServer||await b.process.terminate()}let I=R.find(_=>_.cmd.startsWith(l)&&_.cmd.indexOf(a)!==-1);if(I){let D=hY(R)[I.pid];e.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${hR(D)}`)}else e.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(k=>e.output.write(Dt(k&&(k.stack||k.message)||"Error reading process tree.")));let h=await Promise.race([m,Mr(1e4)]);if(!h)return e.output.write(Dt("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let v=h.stdout.toString(),g=c.exec(v),w=g?g[1]:"";if(!w||w.trim()==="-n")return;let x=w.split(i).reduce((k,R)=>{let b=R.indexOf("=");return b!==-1&&(k[R.substring(0,b)]=R.substring(b+1)),k},{});e.output.write(`userEnvProbe parsed: ${JSON.stringify(x,void 0,"  ")}`,1),delete x.PWD;let y=x.PATH,E=(s=n.env)==null?void 0:s.PATH,T=!(e.allowSystemConfigChange&&n.launchRootShellServer)&&y&&E;if(T){let k=n.user;x.PATH=Mue(y,E,k==="root"||k==="0")}return e.output.write(`userEnvProbe PATHs:
Probe:     ${typeof y=="string"?`'${y}'`:"None"}
Container: ${typeof E=="string"?`'${E}'`:"None"}${T?`
Merged:    ${typeof x.PATH=="string"?`'${x.PATH}'`:"None"}`:""}`),x}catch(a){return e.output.write(Dt("Error reading shell environment.")),e.output.write(Dt((a==null?void 0:a.stack)||(a==null?void 0:a.message)||String(a))),{}}}function Uue(t,e){let n=t==null?void 0:t.userEnvProbe;return e.output.write(`userEnvProbe: ${n||e.defaultUserEnvProbe}${n?"":" (default)"}`),n||(n=e.defaultUserEnvProbe),n}function Mue(t,e,n){let r=t.split(":"),o=0;for(let i of e.split(":")){let s=r.indexOf(i);s===-1?(n||!/\/sbin(\/|$)/.test(i))&&r.splice(o++,0,i):o=s+1}return r.join(":")}async function Gz(t){for(let e of t)await(typeof e=="function"?e():e)}async function Kz(t){let{localCacheFolder:e,output:n,alternateDownload:r,exec:o,env:i,isFile:s,userDataFolder:a,homeFolder:c,product:l,platform:u}=t,d=l.commit||await nx(l.quality),f=l.commit?l.quality||"insider":"stable",p=u==="win32"?ye.win32:ye.posix,m=p.join(a,"bin",d);if(await Ob(u,m,s))return Rl(u,m);let h=`${f.substring(0,1).toUpperCase()}${f.substring(1)}${f==="insider"?"s":""}-${d}`,v=p.join(lx(p,c,l),"cli","servers",h,"server");if(await Ob(u,v,s))return Rl(u,v);let g=p.join(cue(p,c,l),"cli","servers",h,"server");if(await Ob(u,g,s))return Rl(u,g);let w=p.join(lx(p,c,l),"bin",d);if(await Ob(u,w,s))return Rl(u,w);let x=await Pue(o,i,u,n),y=mb(x,!1),E={localCacheFolder:e,build:y,commit:d,quality:f,web:!1,output:n,alternateDownload:r,legacy:!1},T=fm(E);await gr(T)||await ux(E);let k=T.endsWith(".zip")?await jue(T):await $ue(T);return await rz(o,u,k,m,!1,n),Rl(u,m)}async function Ob(t,e,n){let r=Rl(t,e),i=(t==="win32"?ye.win32:ye.posix).join(e,"node_modules","node-pty","package.json");return await n(r)&&await n(i)}async function $ue(t){let e=[];return await Ll.t({file:t,filter:n=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(n),onentry:n=>{new Ll.WriteEntry.Tar(n).on("data",o=>e.push(o))}}),Buffer.concat(e)}async function jue(t){let n=new Oz.default(t).getEntries().filter(o=>/^[^/]*\/(LICENSE$|node(\.exe)?$|node_modules\/node-pty\/.*[^/]$)/.test(o.entryName)),r=Fz.pack();for(let o of n){let i=await new Promise((s,a)=>{o.getDataAsync((c,l)=>{l?a(l):s(c)})});r.entry({name:o.entryName,mode:o.attr>>>16&4095},i)}return r.finalize(),r}var qG=G(require("crypto")),Tx=G(require("path"));function dG(t){return typeof t>"u"||t===null}function Hue(t){return typeof t=="object"&&t!==null}function Bue(t){return Array.isArray(t)?t:dG(t)?[]:[t]}function que(t,e){var n,r,o,i;if(e)for(i=Object.keys(e),n=0,r=i.length;n<r;n+=1)o=i[n],t[o]=e[o];return t}function Wue(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function Yue(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var Vue=dG,zue=Hue,Gue=Bue,Kue=Wue,Jue=Yue,Xue=que,Gn={isNothing:Vue,isObject:zue,toArray:Gue,repeat:Kue,isNegativeZero:Jue,extend:Xue};function fG(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function wx(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=fG(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}wx.prototype=Object.create(Error.prototype);wx.prototype.constructor=wx;wx.prototype.toString=function(e){return this.name+": "+fG(this,e)};var Io=wx;function nN(t,e,n,r,o){var i="",s="",a=Math.floor(o/2)-1;return r-e>a&&(i=" ... ",e=r-a+i.length),n-r>a&&(s=" ...",n=r+a-s.length),{str:i+t.slice(e,n).replace(/\t/g,"\u2192")+s,pos:r-e+i.length}}function rN(t,e){return Gn.repeat(" ",e-t.length)+t}function Zue(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],o=[],i,s=-1;i=n.exec(t.buffer);)o.push(i.index),r.push(i.index+i[0].length),t.position<=i.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var a="",c,l,u=Math.min(t.line+e.linesAfter,o.length).toString().length,d=e.maxLength-(e.indent+u+3);for(c=1;c<=e.linesBefore&&!(s-c<0);c++)l=nN(t.buffer,r[s-c],o[s-c],t.position-(r[s]-r[s-c]),d),a=Gn.repeat(" ",e.indent)+rN((t.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=nN(t.buffer,r[s],o[s],t.position,d),a+=Gn.repeat(" ",e.indent)+rN((t.line+1).toString(),u)+" | "+l.str+`
`,a+=Gn.repeat("-",e.indent+u+3+l.pos)+`^
`,c=1;c<=e.linesAfter&&!(s+c>=o.length);c++)l=nN(t.buffer,r[s+c],o[s+c],t.position-(r[s]-r[s+c]),d),a+=Gn.repeat(" ",e.indent)+rN((t.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var Que=Zue,ede=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],tde=["scalar","sequence","mapping"];function nde(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function rde(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(ede.indexOf(n)===-1)throw new Io('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=nde(e.styleAliases||null),tde.indexOf(this.kind)===-1)throw new Io('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var $r=rde;function Jz(t,e){var n=[];return t[e].forEach(function(r){var o=n.length;n.forEach(function(i,s){i.tag===r.tag&&i.kind===r.kind&&i.multi===r.multi&&(o=s)}),n[o]=r}),n}function ode(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(o){o.multi?(t.multi[o.kind].push(o),t.multi.fallback.push(o)):t[o.kind][o.tag]=t.fallback[o.tag]=o}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function iN(t){return this.extend(t)}iN.prototype.extend=function(e){var n=[],r=[];if(e instanceof $r)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Io("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(i){if(!(i instanceof $r))throw new Io("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new Io("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new Io("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(i){if(!(i instanceof $r))throw new Io("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(iN.prototype);return o.implicit=(this.implicit||[]).concat(n),o.explicit=(this.explicit||[]).concat(r),o.compiledImplicit=Jz(o,"implicit"),o.compiledExplicit=Jz(o,"explicit"),o.compiledTypeMap=ode(o.compiledImplicit,o.compiledExplicit),o};var ide=iN,sde=new $r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),ade=new $r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),cde=new $r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),lde=new ide({explicit:[sde,ade,cde]});function ude(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function dde(){return null}function fde(t){return t===null}var pde=new $r("tag:yaml.org,2002:null",{kind:"scalar",resolve:ude,construct:dde,predicate:fde,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function mde(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function hde(t){return t==="true"||t==="True"||t==="TRUE"}function gde(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var vde=new $r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:mde,construct:hde,predicate:gde,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function xde(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function wde(t){return 48<=t&&t<=55}function yde(t){return 48<=t&&t<=57}function Ede(t){if(t===null)return!1;var e=t.length,n=0,r=!1,o;if(!e)return!1;if(o=t[n],(o==="-"||o==="+")&&(o=t[++n]),o==="0"){if(n+1===e)return!0;if(o=t[++n],o==="b"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(o!=="0"&&o!=="1")return!1;r=!0}return r&&o!=="_"}if(o==="x"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(!xde(t.charCodeAt(n)))return!1;r=!0}return r&&o!=="_"}if(o==="o"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(!wde(t.charCodeAt(n)))return!1;r=!0}return r&&o!=="_"}}if(o==="_")return!1;for(;n<e;n++)if(o=t[n],o!=="_"){if(!yde(t.charCodeAt(n)))return!1;r=!0}return!(!r||o==="_")}function Cde(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function bde(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Gn.isNegativeZero(t)}var _de=new $r("tag:yaml.org,2002:int",{kind:"scalar",resolve:Ede,construct:Cde,predicate:bde,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Sde=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Dde(t){return!(t===null||!Sde.test(t)||t[t.length-1]==="_")}function Ide(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var Pde=/^[-+]?[0-9]+e/;function Tde(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gn.isNegativeZero(t))return"-0.0";return n=t.toString(10),Pde.test(n)?n.replace("e",".e"):n}function kde(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Gn.isNegativeZero(t))}var Rde=new $r("tag:yaml.org,2002:float",{kind:"scalar",resolve:Dde,construct:Ide,predicate:kde,represent:Tde,defaultStyle:"lowercase"}),Nde=lde.extend({implicit:[pde,vde,_de,Rde]}),Lde=Nde,pG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),mG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ade(t){return t===null?!1:pG.exec(t)!==null||mG.exec(t)!==null}function Ode(t){var e,n,r,o,i,s,a,c=0,l=null,u,d,f;if(e=pG.exec(t),e===null&&(e=mG.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,o=+e[3],!e[4])return new Date(Date.UTC(n,r,o));if(i=+e[4],s=+e[5],a=+e[6],e[7]){for(c=e[7].slice(0,3);c.length<3;)c+="0";c=+c}return e[9]&&(u=+e[10],d=+(e[11]||0),l=(u*60+d)*6e4,e[9]==="-"&&(l=-l)),f=new Date(Date.UTC(n,r,o,i,s,a,c)),l&&f.setTime(f.getTime()-l),f}function Fde(t){return t.toISOString()}var Ude=new $r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ade,construct:Ode,instanceOf:Date,represent:Fde});function Mde(t){return t==="<<"||t===null}var $de=new $r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Mde}),uN=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function jde(t){if(t===null)return!1;var e,n,r=0,o=t.length,i=uN;for(n=0;n<o;n++)if(e=i.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function Hde(t){var e,n,r=t.replace(/[\r\n=]/g,""),o=r.length,i=uN,s=0,a=[];for(e=0;e<o;e++)e%4===0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|i.indexOf(r.charAt(e));return n=o%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function Bde(t){var e="",n=0,r,o,i=t.length,s=uN;for(r=0;r<i;r++)r%3===0&&r&&(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]),n=(n<<8)+t[r];return o=i%3,o===0?(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]):o===2?(e+=s[n>>10&63],e+=s[n>>4&63],e+=s[n<<2&63],e+=s[64]):o===1&&(e+=s[n>>2&63],e+=s[n<<4&63],e+=s[64],e+=s[64]),e}function qde(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Wde=new $r("tag:yaml.org,2002:binary",{kind:"scalar",resolve:jde,construct:Hde,predicate:qde,represent:Bde}),Yde=Object.prototype.hasOwnProperty,Vde=Object.prototype.toString;function zde(t){if(t===null)return!0;var e=[],n,r,o,i,s,a=t;for(n=0,r=a.length;n<r;n+=1){if(o=a[n],s=!1,Vde.call(o)!=="[object Object]")return!1;for(i in o)if(Yde.call(o,i))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(i)===-1)e.push(i);else return!1}return!0}function Gde(t){return t!==null?t:[]}var Kde=new $r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:zde,construct:Gde}),Jde=Object.prototype.toString;function Xde(t){if(t===null)return!0;var e,n,r,o,i,s=t;for(i=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(r=s[e],Jde.call(r)!=="[object Object]"||(o=Object.keys(r),o.length!==1))return!1;i[e]=[o[0],r[o[0]]]}return!0}function Zde(t){if(t===null)return[];var e,n,r,o,i,s=t;for(i=new Array(s.length),e=0,n=s.length;e<n;e+=1)r=s[e],o=Object.keys(r),i[e]=[o[0],r[o[0]]];return i}var Qde=new $r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Xde,construct:Zde}),efe=Object.prototype.hasOwnProperty;function tfe(t){if(t===null)return!0;var e,n=t;for(e in n)if(efe.call(n,e)&&n[e]!==null)return!1;return!0}function nfe(t){return t!==null?t:{}}var rfe=new $r("tag:yaml.org,2002:set",{kind:"mapping",resolve:tfe,construct:nfe}),hG=Lde.extend({implicit:[Ude,$de],explicit:[Wde,Kde,Qde,rfe]}),Fl=Object.prototype.hasOwnProperty,qb=1,gG=2,vG=3,Wb=4,oN=1,ofe=2,Xz=3,ife=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,sfe=/[\x85\u2028\u2029]/,afe=/[,\[\]\{\}]/,xG=/^(?:!|!!|![a-z\-]+!)$/i,wG=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Zz(t){return Object.prototype.toString.call(t)}function Bs(t){return t===10||t===13}function Jd(t){return t===9||t===32}function Po(t){return t===9||t===32||t===10||t===13}function Sm(t){return t===44||t===91||t===93||t===123||t===125}function cfe(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function lfe(t){return t===120?2:t===117?4:t===85?8:0}function ufe(t){return 48<=t&&t<=57?t-48:-1}function Qz(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function dfe(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var yG=new Array(256),EG=new Array(256);for(Kd=0;Kd<256;Kd++)yG[Kd]=Qz(Kd)?1:0,EG[Kd]=Qz(Kd);var Kd;function ffe(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||hG,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function CG(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=Que(n),new Io(e,n)}function Pe(t,e){throw CG(t,e)}function Yb(t,e){t.onWarning&&t.onWarning.call(null,CG(t,e))}var eG={YAML:function(e,n,r){var o,i,s;e.version!==null&&Pe(e,"duplication of %YAML directive"),r.length!==1&&Pe(e,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),o===null&&Pe(e,"ill-formed argument of the YAML directive"),i=parseInt(o[1],10),s=parseInt(o[2],10),i!==1&&Pe(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&Yb(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var o,i;r.length!==2&&Pe(e,"TAG directive accepts exactly two arguments"),o=r[0],i=r[1],xG.test(o)||Pe(e,"ill-formed tag handle (first argument) of the TAG directive"),Fl.call(e.tagMap,o)&&Pe(e,'there is a previously declared suffix for "'+o+'" tag handle'),wG.test(i)||Pe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{Pe(e,"tag prefix is malformed: "+i)}e.tagMap[o]=i}};function Ol(t,e,n,r){var o,i,s,a;if(e<n){if(a=t.input.slice(e,n),r)for(o=0,i=a.length;o<i;o+=1)s=a.charCodeAt(o),s===9||32<=s&&s<=1114111||Pe(t,"expected valid JSON character");else ife.test(a)&&Pe(t,"the stream contains non-printable characters");t.result+=a}}function tG(t,e,n,r){var o,i,s,a;for(Gn.isObject(n)||Pe(t,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),s=0,a=o.length;s<a;s+=1)i=o[s],Fl.call(e,i)||(e[i]=n[i],r[i]=!0)}function Dm(t,e,n,r,o,i,s,a,c){var l,u;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),l=0,u=o.length;l<u;l+=1)Array.isArray(o[l])&&Pe(t,"nested arrays are not supported inside keys"),typeof o=="object"&&Zz(o[l])==="[object Object]"&&(o[l]="[object Object]");if(typeof o=="object"&&Zz(o)==="[object Object]"&&(o="[object Object]"),o=String(o),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)tG(t,e,i[l],n);else tG(t,e,i,n);else!t.json&&!Fl.call(n,o)&&Fl.call(e,o)&&(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=c||t.position,Pe(t,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(e,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):e[o]=i,delete n[o];return e}function dN(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Pe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Tn(t,e,n){for(var r=0,o=t.input.charCodeAt(t.position);o!==0;){for(;Jd(o);)o===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),o=t.input.charCodeAt(++t.position);if(e&&o===35)do o=t.input.charCodeAt(++t.position);while(o!==10&&o!==13&&o!==0);if(Bs(o))for(dN(t),o=t.input.charCodeAt(t.position),r++,t.lineIndent=0;o===32;)t.lineIndent++,o=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&Yb(t,"deficient indentation"),r}function Gb(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Po(n)))}function fN(t,e){e===1?t.result+=" ":e>1&&(t.result+=Gn.repeat(`
`,e-1))}function pfe(t,e,n){var r,o,i,s,a,c,l,u,d=t.kind,f=t.result,p;if(p=t.input.charCodeAt(t.position),Po(p)||Sm(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(o=t.input.charCodeAt(t.position+1),Po(o)||n&&Sm(o)))return!1;for(t.kind="scalar",t.result="",i=s=t.position,a=!1;p!==0;){if(p===58){if(o=t.input.charCodeAt(t.position+1),Po(o)||n&&Sm(o))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),Po(r))break}else{if(t.position===t.lineStart&&Gb(t)||n&&Sm(p))break;if(Bs(p))if(c=t.line,l=t.lineStart,u=t.lineIndent,Tn(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=c,t.lineStart=l,t.lineIndent=u;break}}a&&(Ol(t,i,s,!1),fN(t,t.line-c),i=s=t.position,a=!1),Jd(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return Ol(t,i,s,!1),t.result?!0:(t.kind=d,t.result=f,!1)}function mfe(t,e){var n,r,o;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=o=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Ol(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,o=t.position;else return!0;else Bs(n)?(Ol(t,r,o,!0),fN(t,Tn(t,!1,e)),r=o=t.position):t.position===t.lineStart&&Gb(t)?Pe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);Pe(t,"unexpected end of the stream within a single quoted scalar")}function hfe(t,e){var n,r,o,i,s,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Ol(t,n,t.position,!0),t.position++,!0;if(a===92){if(Ol(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),Bs(a))Tn(t,!1,e);else if(a<256&&yG[a])t.result+=EG[a],t.position++;else if((s=lfe(a))>0){for(o=s,i=0;o>0;o--)a=t.input.charCodeAt(++t.position),(s=cfe(a))>=0?i=(i<<4)+s:Pe(t,"expected hexadecimal character");t.result+=dfe(i),t.position++}else Pe(t,"unknown escape sequence");n=r=t.position}else Bs(a)?(Ol(t,n,r,!0),fN(t,Tn(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Gb(t)?Pe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Pe(t,"unexpected end of the stream within a double quoted scalar")}function gfe(t,e){var n=!0,r,o,i,s=t.tag,a,c=t.anchor,l,u,d,f,p,m=Object.create(null),h,v,g,w;if(w=t.input.charCodeAt(t.position),w===91)u=93,p=!1,a=[];else if(w===123)u=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),w=t.input.charCodeAt(++t.position);w!==0;){if(Tn(t,!0,e),w=t.input.charCodeAt(t.position),w===u)return t.position++,t.tag=s,t.anchor=c,t.kind=p?"mapping":"sequence",t.result=a,!0;n?w===44&&Pe(t,"expected the node content, but found ','"):Pe(t,"missed comma between flow collection entries"),v=h=g=null,d=f=!1,w===63&&(l=t.input.charCodeAt(t.position+1),Po(l)&&(d=f=!0,t.position++,Tn(t,!0,e))),r=t.line,o=t.lineStart,i=t.position,Im(t,e,qb,!1,!0),v=t.tag,h=t.result,Tn(t,!0,e),w=t.input.charCodeAt(t.position),(f||t.line===r)&&w===58&&(d=!0,w=t.input.charCodeAt(++t.position),Tn(t,!0,e),Im(t,e,qb,!1,!0),g=t.result),p?Dm(t,a,m,v,h,g,r,o,i):d?a.push(Dm(t,null,m,v,h,g,r,o,i)):a.push(h),Tn(t,!0,e),w=t.input.charCodeAt(t.position),w===44?(n=!0,w=t.input.charCodeAt(++t.position)):n=!1}Pe(t,"unexpected end of the stream within a flow collection")}function vfe(t,e){var n,r,o=oN,i=!1,s=!1,a=e,c=0,l=!1,u,d;if(d=t.input.charCodeAt(t.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)oN===o?o=d===43?Xz:ofe:Pe(t,"repeat of a chomping mode identifier");else if((u=ufe(d))>=0)u===0?Pe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Pe(t,"repeat of an indentation width identifier"):(a=e+u-1,s=!0);else break;if(Jd(d)){do d=t.input.charCodeAt(++t.position);while(Jd(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!Bs(d)&&d!==0)}for(;d!==0;){for(dN(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!s||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>a&&(a=t.lineIndent),Bs(d)){c++;continue}if(t.lineIndent<a){o===Xz?t.result+=Gn.repeat(`
`,i?1+c:c):o===oN&&i&&(t.result+=`
`);break}for(r?Jd(d)?(l=!0,t.result+=Gn.repeat(`
`,i?1+c:c)):l?(l=!1,t.result+=Gn.repeat(`
`,c+1)):c===0?i&&(t.result+=" "):t.result+=Gn.repeat(`
`,c):t.result+=Gn.repeat(`
`,i?1+c:c),i=!0,s=!0,c=0,n=t.position;!Bs(d)&&d!==0;)d=t.input.charCodeAt(++t.position);Ol(t,n,t.position,!1)}return!0}function nG(t,e){var n,r=t.tag,o=t.anchor,i=[],s,a=!1,c;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=i),c=t.input.charCodeAt(t.position);c!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Pe(t,"tab characters must not be used in indentation")),!(c!==45||(s=t.input.charCodeAt(t.position+1),!Po(s))));){if(a=!0,t.position++,Tn(t,!0,-1)&&t.lineIndent<=e){i.push(null),c=t.input.charCodeAt(t.position);continue}if(n=t.line,Im(t,e,vG,!1,!0),i.push(t.result),Tn(t,!0,-1),c=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&c!==0)Pe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=o,t.kind="sequence",t.result=i,!0):!1}function xfe(t,e,n){var r,o,i,s,a,c,l=t.tag,u=t.anchor,d={},f=Object.create(null),p=null,m=null,h=null,v=!1,g=!1,w;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),w=t.input.charCodeAt(t.position);w!==0;){if(!v&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Pe(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),i=t.line,(w===63||w===58)&&Po(r))w===63?(v&&(Dm(t,d,f,p,m,null,s,a,c),p=m=h=null),g=!0,v=!0,o=!0):v?(v=!1,o=!0):Pe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=r;else{if(s=t.line,a=t.lineStart,c=t.position,!Im(t,n,gG,!1,!0))break;if(t.line===i){for(w=t.input.charCodeAt(t.position);Jd(w);)w=t.input.charCodeAt(++t.position);if(w===58)w=t.input.charCodeAt(++t.position),Po(w)||Pe(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Dm(t,d,f,p,m,null,s,a,c),p=m=h=null),g=!0,v=!1,o=!1,p=t.tag,m=t.result;else if(g)Pe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=l,t.anchor=u,!0}else if(g)Pe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=l,t.anchor=u,!0}if((t.line===i||t.lineIndent>e)&&(v&&(s=t.line,a=t.lineStart,c=t.position),Im(t,e,Wb,!0,o)&&(v?m=t.result:h=t.result),v||(Dm(t,d,f,p,m,h,s,a,c),p=m=h=null),Tn(t,!0,-1),w=t.input.charCodeAt(t.position)),(t.line===i||t.lineIndent>e)&&w!==0)Pe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return v&&Dm(t,d,f,p,m,null,s,a,c),g&&(t.tag=l,t.anchor=u,t.kind="mapping",t.result=d),g}function wfe(t){var e,n=!1,r=!1,o,i,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&Pe(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(n=!0,s=t.input.charCodeAt(++t.position)):s===33?(r=!0,o="!!",s=t.input.charCodeAt(++t.position)):o="!",e=t.position,n){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(i=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):Pe(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Po(s);)s===33&&(r?Pe(t,"tag suffix cannot contain exclamation marks"):(o=t.input.slice(e-1,t.position+1),xG.test(o)||Pe(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);i=t.input.slice(e,t.position),afe.test(i)&&Pe(t,"tag suffix cannot contain flow indicator characters")}i&&!wG.test(i)&&Pe(t,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{Pe(t,"tag name is malformed: "+i)}return n?t.tag=i:Fl.call(t.tagMap,o)?t.tag=t.tagMap[o]+i:o==="!"?t.tag="!"+i:o==="!!"?t.tag="tag:yaml.org,2002:"+i:Pe(t,'undeclared tag handle "'+o+'"'),!0}function yfe(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Pe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Po(n)&&!Sm(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Pe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function Efe(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Po(r)&&!Sm(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Pe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Fl.call(t.anchorMap,n)||Pe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Tn(t,!0,-1),!0}function Im(t,e,n,r,o){var i,s,a,c=1,l=!1,u=!1,d,f,p,m,h,v;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,i=s=a=Wb===n||vG===n,r&&Tn(t,!0,-1)&&(l=!0,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)),c===1)for(;wfe(t)||yfe(t);)Tn(t,!0,-1)?(l=!0,a=i,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)):a=!1;if(a&&(a=l||o),(c===1||Wb===n)&&(qb===n||gG===n?h=e:h=e+1,v=t.position-t.lineStart,c===1?a&&(nG(t,v)||xfe(t,v,h))||gfe(t,h)?u=!0:(s&&vfe(t,h)||mfe(t,h)||hfe(t,h)?u=!0:Efe(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&Pe(t,"alias node should not have any properties")):pfe(t,h,qb===n)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):c===0&&(u=a&&nG(t,v))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Pe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(m=t.implicitTypes[d],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Fl.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,p=t.typeMap.multi[t.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(t.tag.slice(0,p[d].tag.length)===p[d].tag){m=p[d];break}m||Pe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&Pe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Pe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function Cfe(t){var e=t.position,n,r,o,i=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Tn(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(i=!0,s=t.input.charCodeAt(++t.position),n=t.position;s!==0&&!Po(s);)s=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),o=[],r.length<1&&Pe(t,"directive name must not be less than one character in length");s!==0;){for(;Jd(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!Bs(s));break}if(Bs(s))break;for(n=t.position;s!==0&&!Po(s);)s=t.input.charCodeAt(++t.position);o.push(t.input.slice(n,t.position))}s!==0&&dN(t),Fl.call(eG,r)?eG[r](t,r,o):Yb(t,'unknown document directive "'+r+'"')}if(Tn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Tn(t,!0,-1)):i&&Pe(t,"directives end mark is expected"),Im(t,t.lineIndent-1,Wb,!1,!0),Tn(t,!0,-1),t.checkLineBreaks&&sfe.test(t.input.slice(e,t.position))&&Yb(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Gb(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Tn(t,!0,-1));return}if(t.position<t.length-1)Pe(t,"end of the stream or a document separator is expected");else return}function bG(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new ffe(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Pe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Cfe(n);return n.documents}function bfe(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=bG(t,n);if(typeof e!="function")return r;for(var o=0,i=r.length;o<i;o+=1)e(r[o])}function _fe(t,e){var n=bG(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Io("expected a single document in the stream, but found more")}}var Sfe=bfe,Dfe=_fe,_G={loadAll:Sfe,load:Dfe},SG=Object.prototype.toString,DG=Object.prototype.hasOwnProperty,pN=65279,Ife=9,yx=10,Pfe=13,Tfe=32,kfe=33,Rfe=34,sN=35,Nfe=37,Lfe=38,Afe=39,Ofe=42,IG=44,Ffe=45,Vb=58,Ufe=61,Mfe=62,$fe=63,jfe=64,PG=91,TG=93,Hfe=96,kG=123,Bfe=124,RG=125,jr={};jr[0]="\\0";jr[7]="\\a";jr[8]="\\b";jr[9]="\\t";jr[10]="\\n";jr[11]="\\v";jr[12]="\\f";jr[13]="\\r";jr[27]="\\e";jr[34]='\\"';jr[92]="\\\\";jr[133]="\\N";jr[160]="\\_";jr[8232]="\\L";jr[8233]="\\P";var qfe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Wfe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Yfe(t,e){var n,r,o,i,s,a,c;if(e===null)return{};for(n={},r=Object.keys(e),o=0,i=r.length;o<i;o+=1)s=r[o],a=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=t.compiledTypeMap.fallback[s],c&&DG.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[s]=a;return n}function Vfe(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Io("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Gn.repeat("0",r-e.length)+e}var zfe=1,Ex=2;function Gfe(t){this.schema=t.schema||hG,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Gn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Yfe(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Ex:zfe,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function rG(t,e){for(var n=Gn.repeat(" ",e),r=0,o=-1,i="",s,a=t.length;r<a;)o=t.indexOf(`
`,r),o===-1?(s=t.slice(r),r=a):(s=t.slice(r,o+1),r=o+1),s.length&&s!==`
`&&(i+=n),i+=s;return i}function aN(t,e){return`
`+Gn.repeat(" ",t.indent*e)}function Kfe(t,e){var n,r,o;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(o=t.implicitTypes[n],o.resolve(e))return!0;return!1}function zb(t){return t===Tfe||t===Ife}function Cx(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==pN||65536<=t&&t<=1114111}function oG(t){return Cx(t)&&t!==pN&&t!==Pfe&&t!==yx}function iG(t,e,n){var r=oG(t),o=r&&!zb(t);return(n?r:r&&t!==IG&&t!==PG&&t!==TG&&t!==kG&&t!==RG)&&t!==sN&&!(e===Vb&&!o)||oG(e)&&!zb(e)&&t===sN||e===Vb&&o}function Jfe(t){return Cx(t)&&t!==pN&&!zb(t)&&t!==Ffe&&t!==$fe&&t!==Vb&&t!==IG&&t!==PG&&t!==TG&&t!==kG&&t!==RG&&t!==sN&&t!==Lfe&&t!==Ofe&&t!==kfe&&t!==Bfe&&t!==Ufe&&t!==Mfe&&t!==Afe&&t!==Rfe&&t!==Nfe&&t!==jfe&&t!==Hfe}function Xfe(t){return!zb(t)&&t!==Vb}function xx(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function NG(t){var e=/^\n* /;return e.test(t)}var LG=1,cN=2,AG=3,OG=4,_m=5;function Zfe(t,e,n,r,o,i,s,a){var c,l=0,u=null,d=!1,f=!1,p=r!==-1,m=-1,h=Jfe(xx(t,0))&&Xfe(xx(t,t.length-1));if(e||s)for(c=0;c<t.length;l>=65536?c+=2:c++){if(l=xx(t,c),!Cx(l))return _m;h=h&&iG(l,u,a),u=l}else{for(c=0;c<t.length;l>=65536?c+=2:c++){if(l=xx(t,c),l===yx)d=!0,p&&(f=f||c-m-1>r&&t[m+1]!==" ",m=c);else if(!Cx(l))return _m;h=h&&iG(l,u,a),u=l}f=f||p&&c-m-1>r&&t[m+1]!==" "}return!d&&!f?h&&!s&&!o(t)?LG:i===Ex?_m:cN:n>9&&NG(t)?_m:s?i===Ex?_m:cN:f?OG:AG}function Qfe(t,e,n,r,o){t.dump=function(){if(e.length===0)return t.quotingType===Ex?'""':"''";if(!t.noCompatMode&&(qfe.indexOf(e)!==-1||Wfe.test(e)))return t.quotingType===Ex?'"'+e+'"':"'"+e+"'";var i=t.indent*Math.max(1,n),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-i),a=r||t.flowLevel>-1&&n>=t.flowLevel;function c(l){return Kfe(t,l)}switch(Zfe(e,a,t.indent,s,c,t.quotingType,t.forceQuotes&&!r,o)){case LG:return e;case cN:return"'"+e.replace(/'/g,"''")+"'";case AG:return"|"+sG(e,t.indent)+aG(rG(e,i));case OG:return">"+sG(e,t.indent)+aG(rG(epe(e,s),i));case _m:return'"'+tpe(e)+'"';default:throw new Io("impossible error: invalid scalar style")}}()}function sG(t,e){var n=NG(t)?String(e):"",r=t[t.length-1]===`
`,o=r&&(t[t.length-2]===`
`||t===`
`),i=o?"+":r?"":"-";return n+i+`
`}function aG(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function epe(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var l=t.indexOf(`
`);return l=l!==-1?l:t.length,n.lastIndex=l,cG(t.slice(0,l),e)}(),o=t[0]===`
`||t[0]===" ",i,s;s=n.exec(t);){var a=s[1],c=s[2];i=c[0]===" ",r+=a+(!o&&!i&&c!==""?`
`:"")+cG(c,e),o=i}return r}function cG(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,o=0,i,s=0,a=0,c="";r=n.exec(t);)a=r.index,a-o>e&&(i=s>o?s:a,c+=`
`+t.slice(o,i),o=i+1),s=a;return c+=`
`,t.length-o>e&&s>o?c+=t.slice(o,s)+`
`+t.slice(s+1):c+=t.slice(o),c.slice(1)}function tpe(t){for(var e="",n=0,r,o=0;o<t.length;n>=65536?o+=2:o++)n=xx(t,o),r=jr[n],!r&&Cx(n)?(e+=t[o],n>=65536&&(e+=t[o+1])):e+=r||Vfe(n);return e}function npe(t,e,n){var r="",o=t.tag,i,s,a;for(i=0,s=n.length;i<s;i+=1)a=n[i],t.replacer&&(a=t.replacer.call(n,String(i),a)),(rc(t,e,a,!1,!1)||typeof a>"u"&&rc(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=o,t.dump="["+r+"]"}function lG(t,e,n,r){var o="",i=t.tag,s,a,c;for(s=0,a=n.length;s<a;s+=1)c=n[s],t.replacer&&(c=t.replacer.call(n,String(s),c)),(rc(t,e+1,c,!0,!0,!1,!0)||typeof c>"u"&&rc(t,e+1,null,!0,!0,!1,!0))&&((!r||o!=="")&&(o+=aN(t,e)),t.dump&&yx===t.dump.charCodeAt(0)?o+="-":o+="- ",o+=t.dump);t.tag=i,t.dump=o||"[]"}function rpe(t,e,n){var r="",o=t.tag,i=Object.keys(n),s,a,c,l,u;for(s=0,a=i.length;s<a;s+=1)u="",r!==""&&(u+=", "),t.condenseFlow&&(u+='"'),c=i[s],l=n[c],t.replacer&&(l=t.replacer.call(n,c,l)),rc(t,e,c,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),rc(t,e,l,!1,!1)&&(u+=t.dump,r+=u));t.tag=o,t.dump="{"+r+"}"}function ope(t,e,n,r){var o="",i=t.tag,s=Object.keys(n),a,c,l,u,d,f;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Io("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)f="",(!r||o!=="")&&(f+=aN(t,e)),l=s[a],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),rc(t,e+1,l,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&yx===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,d&&(f+=aN(t,e)),rc(t,e+1,u,!0,d)&&(t.dump&&yx===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,o+=f));t.tag=i,t.dump=o||"{}"}function uG(t,e,n){var r,o,i,s,a,c;for(o=n?t.explicitTypes:t.implicitTypes,i=0,s=o.length;i<s;i+=1)if(a=o[i],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(c=t.styleMap[a.tag]||a.defaultStyle,SG.call(a.represent)==="[object Function]")r=a.represent(e,c);else if(DG.call(a.represent,c))r=a.represent[c](e,c);else throw new Io("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');t.dump=r}return!0}return!1}function rc(t,e,n,r,o,i,s){t.tag=null,t.dump=n,uG(t,n,!1)||uG(t,n,!0);var a=SG.call(t.dump),c=r,l;r&&(r=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",d,f;if(u&&(d=t.duplicates.indexOf(n),f=d!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(o=!1),f&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(u&&f&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(ope(t,e,t.dump,o),f&&(t.dump="&ref_"+d+t.dump)):(rpe(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?lG(t,e-1,t.dump,o):lG(t,e,t.dump,o),f&&(t.dump="&ref_"+d+t.dump)):(npe(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&Qfe(t,t.dump,e,i,c);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Io("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(l=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",t.dump=l+" "+t.dump)}return!0}function ipe(t,e){var n=[],r=[],o,i;for(lN(t,n,r),o=0,i=r.length;o<i;o+=1)e.duplicates.push(n[r[o]]);e.usedDuplicates=new Array(i)}function lN(t,e,n){var r,o,i;if(t!==null&&typeof t=="object")if(o=e.indexOf(t),o!==-1)n.indexOf(o)===-1&&n.push(o);else if(e.push(t),Array.isArray(t))for(o=0,i=t.length;o<i;o+=1)lN(t[o],e,n);else for(r=Object.keys(t),o=0,i=r.length;o<i;o+=1)lN(t[r[o]],e,n)}function spe(t,e){e=e||{};var n=new Gfe(e);n.noRefs||ipe(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),rc(n,0,r,!0,!0)?n.dump+`
`:""}var ape=spe,cpe={dump:ape};function mN(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var bx=_G.load,bPe=_G.loadAll,_Pe=cpe.dump;var SPe=mN("safeLoad","load"),DPe=mN("safeLoadAll","loadAll"),IPe=mN("safeDump","dump");var as=G(require("path")),jG=G(require("os")),HG=G(require("crypto")),BG=G(wC());var _x=G(require("path")),MG=G(require("os"));var UG=G(require("crypto"));var ss={async readDocument(t){switch(t.scheme){case"file":try{return(await ot(t.fsPath)).toString()}catch(e){if(e&&e.code==="ENOENT")return;throw e}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}},async applyEdits(t,e,n){switch(t.scheme){case"file":let r=wo(n,e);await nE(t.fsPath,r);break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},it=class t{constructor(e,n=t.scheme){this.fileHost=e;this.scheme=n}static scheme="vscode-fileHost";async readDocument(e){switch(e.scheme){case this.scheme:try{return(await this.fileHost.readFile(Ie(e,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,n,r){switch(e.scheme){case this.scheme:let o=wo(r,n);await this.fileHost.writeFile(Ie(e,this.fileHost.platform),Buffer.from(o));break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},io=class t{constructor(e){this.shellServer=e}static scheme="vscode-remote";static nonce;async readDocument(e){switch(e.scheme){case t.scheme:try{let{stdout:n}=await this.shellServer.exec(`cat ${e.path}`);return n}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,n,r){switch(e.scheme){case t.scheme:try{t.nonce||(t.nonce=UG.randomUUID());let o=wo(r,n),i=`EOF-${t.nonce}`;await this.shellServer.exec(`cat <<'${i}' >${e.path}
${o}
${i}
`)}catch(o){console.log(o)}break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},gN=class{constructor(e){this.documents=e}async readDocument(e){let n=this.documents[e.scheme];if(!n)throw new Error(`Unsupported scheme: ${e.toString()}`);return n.readDocument(e)}async applyEdits(e,n,r){let o=this.documents[e.scheme];if(!o)throw new Error(`Unsupported scheme: ${e.toString()}`);return o.applyEdits(e,n,r)}};function sr(t,e){let n={file:ss,[it.scheme]:new it(t)};return e&&(n[io.scheme]="readFile"in e?new it(e,io.scheme):new io(e)),new gN(n)}var hN=new Map;async function vN(t,e){let n=t.toString(),r=hN.get(n);if(r||hN.set(n,r=[]),r.push(e),r.length===1){for(;r.length;)await r[0](),r.shift();hN.delete(n)}}function Ie(t,e){let n;return t.authority&&t.path.length>1&&(t.scheme==="file"||t.scheme===it.scheme)?n=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?n=t.path[1].toLowerCase()+t.path.substr(2):n=t.path,e==="win32"&&(n=n.replace(/\//g,"\\"),n[0]==="\\"&&n[1]!=="\\"&&(n=`C:${n}`)),n}function kn(t,e,n){let r=t==="win32"?"/"+n.replace(/\\/g,"/"):n;return e.with({path:r})}function Ul(t,e){return[t.join(e,".devcontainer","devcontainer.json"),t.join(e,".devcontainer.json")]}function Sx(t,e){let n=t.normalize(e);return Ul(t,"").includes(n)}async function Xd(t,e){let n=Ul(t.path,e);for(let r of n)if(await t.isFile(r))return _e.file(r).with({scheme:it.scheme})}async function $G(t){let e=Ul(_x,t);for(let n of e)if(await gr(n))return n}var oc=`{${MG.EOL}}`;async function Ti(t,e,n,r){e.scheme==="file"&&await Zi(_x.dirname(e.fsPath)),await t.applyEdits(e,n,r)}function Zd(t){let e=_x.posix.dirname(t.path);return t.with({path:e})}var Dx=require("string_decoder");function Ix(t){if(!(t.extensions||t.settings||t.devPort!==void 0))return t;let e={...t},n=e.customizations||(e.customizations={}),r=n.vscode||(n.vscode={});return e.extensions&&(r.extensions=(r.extensions||[]).concat(e.extensions),delete e.extensions),e.settings&&(r.settings={...e.settings,...r.settings||{}},delete e.settings),e.devPort!==void 0&&r.devPort===void 0&&(r.devPort=e.devPort,delete e.devPort),e}function xN(t,e,n){return Kb(t,e.configFilePath,n)}function Kb(t,e,n){let r=Zd(e);return e.with({path:as.posix.resolve(r.path,t.platform==="win32"&&e.scheme!==io.scheme?(as.win32.isAbsolute(n)?"/":"")+n.replace(/\\/g,"/"):n)})}function To(t){return"dockerFile"in t||"build"in t&&"dockerfile"in t.build}function Jb(t){return t&&(To(t)||"image"in t||"dockerComposeFile"in t)}function Qd(t,e){return xN(t,e,upe(e))}function upe(t){return"dockerFile"in t?t.dockerFile:t.build.dockerfile}async function Ml(t,e,n,r){if(Array.isArray(e.dockerComposeFile)){if(e.dockerComposeFile.length)return e.dockerComposeFile.map(o=>Ie(xN(t,e,o),t.platform))}else if(typeof e.dockerComposeFile=="string")return[Ie(xN(t,e,e.dockerComposeFile),t.platform)];if(r){let o=n==null?void 0:n.COMPOSE_FILE;if(o)return o.split(t.path.delimiter).map(a=>t.path.resolve(r,a));try{let a=t.path.join(r,".env"),c=await t.readFile(a),l=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),u=l&&l[1].trim();if(u)return u.split(t.path.delimiter).map(d=>t.path.resolve(r,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let i=[t.path.resolve(r,"docker-compose.yml")],s=t.path.resolve(r,"docker-compose.override.yml");return await t.isFile(s)&&i.push(s),i}return[]}async function ki(t,e){let{cliHost:n,postCreate:r,output:o}=t;o.write(`Running Dev Containers CLI:   ${e.join(" ")}
`);let i=await dpe(t),s=wN(n),a;return await fpe({exec:n.exec,cwd:t.cwd||i.cwd,cmd:s.cmd,args:[...s.args,i.script,...e],env:await yN(t,s.cmd),stdin:r==null?void 0:r.onDidInput,output:o,stdoutData:c=>a=c,stderrData:c=>o.event(c)}),o.write(a?JSON.stringify(a,void 0,4):"(No dev container CLI standard out)",1),o.write("Dev Containers CLI completed",1),a}async function dpe(t){let{cliHost:e,extensionPath:n,output:r}=t,o=as.join(n,"dist","spec-node","devContainersSpecCLI.js"),i=e.type==="local"?n:e.path.join(await e.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${t.package.version}`),s=e.type==="local"?o:e.path.join(i,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","remote"].indexOf(e.type)!==-1&&!await e.isFile(s)){let a=`${i}-${HG.randomUUID()}`,c=e.path.join(a,"dist","spec-node","devContainersSpecCLI.js");await e.mkdirp(e.path.dirname(c)),await e.writeFile(e.path.join(a,"package.json"),await ot(as.join(n,"package.json"))),await e.writeFile(c,await ot(o)),await Px(as.join(n,"scripts"),e,e.path.join(a,"scripts"),r),await e.rename(a,i)}return{cwd:i,script:s}}function wN(t){if(t.type==="local")return Dl?{cmd:process.argv[0],args:[]}:{cmd:process.argv[0],args:[]};if(t.nodeExecutable)return{cmd:t.nodeExecutable,args:[]};throw new Error("Node executable required")}async function fpe(t){let{exec:e,cmd:n,args:r,cwd:o,env:i,stdin:s,output:a,stdoutData:c,stderrData:l}=t,u=await e({cmd:n,args:r,cwd:o,env:i,output:a});return new Promise((d,f)=>{let p=new Dx.StringDecoder,m="";u.stdout.on("data",w=>{m+=p.write(w);let x=m.split(`
`);m=x.pop();for(let y of x)if(y.trim())try{c(JSON.parse(y))}catch{a.write(y)}}),u.stdout.on("error",w=>{if((w==null?void 0:w.code)!=="ENOTCONN")throw w});let h=new Dx.StringDecoder,v="";u.stderr.on("data",w=>{v+=h.write(w);let x=v.split(`
`);v=x.pop();for(let y of x)if(y.trim())try{l(JSON.parse(y))}catch{a.write(y)}}),u.stderr.on("error",w=>{if((w==null?void 0:w.code)!=="ENOTCONN")throw w});let g=[];u.exit.then(({code:w})=>{try{g.forEach(x=>x.dispose()),w?(a.write(`Exit code ${w}`),f({message:`Command failed: ${n} ${(r||[]).join(" ")}`,code:w})):d()}catch(x){f(x)}},f),typeof s=="function"&&g.push(s(w=>u.stdin.write(w)))})}async function yN(t,e){let{cliHost:n,env:r,appRoot:o}=t,i=await n.locateCertificatesFile();return{...r,...n.type==="local"?o?{NODE_PATH:`${n.path.join(o,"node_modules.asar")}${as.delimiter}${n.path.join(o,"node_modules")}`}:void 0:n.type==="container"?void 0:{NODE_PATH:n.path.join(n.path.dirname(e),"node_modules")},...i?{NODE_EXTRA_CA_CERTS:i}:{},...Dl?{TS_NODE_PROJECT:void 0}:{}}}async function Px(t,e,n,r){await e.mkdirp(n);let o=BG.c({cwd:t,filter:l=>(console.log(l),!0)},["."]),i=new Promise((l,u)=>{o.on("error",u),o.on("finish",l)}),s=await e.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:n,output:r}),a=new Dx.StringDecoder;s.stdout.on("data",l=>{r.write(a.write(l))});let c=new Dx.StringDecoder;s.stderr.on("data",l=>{r.write(Dt(c.write(l)))}),o.pipe(s.stdin),await Promise.all([s.exit,i])}async function ko(){return as.join(jG.tmpdir(),process.platform==="linux"?`vsch-${await Ib()}`:"vsch")}function ppe(){return{contentHashes:{}}}async function Zb(t,e,n,r){let o=t.getConfigurationState();if(o){let i=o.contentHashes,s=Object.keys(i),c=(await EN(e,n,r)).contentHashes,l=Object.keys(c),u=new Set(l);s.forEach(p=>u.delete(p));let d=new Set(s);l.forEach(p=>d.delete(p));let f=[];for(let p of s)p in c&&c[p]!==i[p]&&f.push(p);if(u.size||d.size||f.length){let p=await EN(e,n,r);(async()=>{await t.containerOutdated([...u,...d,...f].sort())==="ignore"&&await t.updateConfigurationState(p)})().catch(console.error)}}else await WG(t,e,n,r)}async function Qb(t,e,n,r,o){let i="Updating configuration state",s=o.start(i);await WG(t,e,n,r),o.stop(i,s)}async function WG(t,e,n,r){let o=await EN(e,n,r);await t.updateConfigurationState(o)}async function EN(t,e,n){let r=ppe();Xb(r,Tx.posix.basename(n.configFilePath.path),JSON.stringify({...n,forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0}));let o=Zd(n.configFilePath).path;if(To(n)){let i=Qd(t,n),s=await e.readDocument(i);s!==void 0&&Xb(r,Tx.posix.relative(o,i.path),s)}if("dockerComposeFile"in n){let i=await Ml(t,n,t.env,t.cwd),s=await Promise.all(i.map(async a=>{let c=_e.file(a).with({scheme:it.scheme});return{uri:c,content:await e.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&Xb(r,Tx.posix.relative(o,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:l}=s[a];if(l){let u=bx(l),d=u&&u.services,f=d&&d[n.service],p=f&&f.build,m=p&&(typeof p=="string"?p:p.context);if(m){let h=Kb(t,c,m),v=YG(h,p.dockerfile||"Dockerfile"),g=await e.readDocument(v);g!==void 0&&Xb(r,Tx.posix.relative(o,v.path),g)}if(f&&(f.image||f.build))break}}}return r}function Xb(t,e,n){let r=qG.createHash("sha256").update(n).digest("hex");t.contentHashes[e]=r}var ls=G(require("path")),cc=G(require("crypto"));var Yl=G(Tr());var Hr=G(require("path")),NN=G(require("crypto"));var ql=G(Tr());var JG=G(require("net")),DN=G(require("path"));var CN=G(require("path")),_N=G(require("http")),VG=G(require("os")),zG=G(require("crypto"));async function GG(t,e){let n=await SN(t),r=new bN(n,e);return r.listen(),r}var bN=class{constructor(e,n){this.ipcHandlePath=e;this.server=_N.createServer((r,o)=>{Promise.resolve(n(r,o)).catch(i=>console.error(i&&i.message||i))}),this.server.on("error",r=>console.error(r))}server;listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function KG(t){return new Promise((e,n)=>{let r=[];t.setEncoding("utf8"),t.on("data",o=>r.push(o)),t.on("error",o=>n(o)),t.on("end",()=>{let o=JSON.parse(r.join(""));e(o)})})}async function SN(t){let e=zG.randomUUID(),n=`${t}-${e}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?CN.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):CN.join(VG.tmpdir(),`${n}.sock`)}var e_=class{messages=[];dequeueRequest;push(e){this.messages.push(e),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(e){if(this.messages.length){let n=this.messages;return this.messages=[],n}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((n,r)=>{this.dequeueRequest={resolve:n,reject:r},typeof e=="number"&&setTimeout(r,e)})}};async function $l(t,e,n){let r=await SN("ssh-askpass");return await new Promise((o,i)=>{JG.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async c=>{if(a+=c,a.endsWith(`
`))try{n.write(`SSH askpass request: ${a}`,1);let l=await e(JSON.parse(a));s.write(l,u=>{u&&console.error(u)}),s.end()}catch(l){console.error(l)}}),s.on("error",c=>console.error(c))}).on("error",s=>{i(s)}).listen(r,()=>{o()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:DN.join(t,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),SSH_ASKPASS_REQUIRE:"force",VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_MAIN:DN.join(t,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:r}}var mpe=0;function xn(t){return t.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++mpe)}:{}}async function Ro(t,e){return(await qs(t,[e]))[0]}async function qs(t,e){let n=await n_(t,"container",e);for(let r of n){r.Ports=[];let o=r.NetworkSettings.Ports;for(let i in o){let[s,a]=i.split("/");for(let c of o[i]||[]){let{HostIp:l,HostPort:u}=c;r.Ports.push({IP:l,PrivatePort:parseInt(s),PublicPort:parseInt(u),Type:a})}}}return n}async function XG(t,e){return(await n_(t,"image",[e]))[0]}async function t_(t,e){return(await n_(t,"volume",[e]))[0]}async function ef(t,e){return n_(t,"volume",e)}async function n_(t,e,n){if(!n.length)return[];let r=Ri(t),o=await ae({...r,args:(r.args||[]).concat(["inspect","--type",e,...n])});try{return JSON.parse(o.stdout.toString())}catch(i){throw console.error({stdout:o.stdout.toString(),stderr:o.stderr.toString()}),i}}async function ic(t,e=!1,n=[]){let r=[];e&&r.push("-a");for(let i of n)r.push("--filter",`label=${i}`);return(await qe(t,"ps","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function No(t,e=[]){let n=[];for(let o of e)n.push("--filter",`label=${o}`);return(await qe(t,"volume","ls","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function jl(t,e=[]){return(await qe(t,"volume","ls","-q","-f","dangling=true",...e.map(r=>["-f",`label=${r}`]).flat())).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function Pm(t,e,n){let r=[];for(let o of n||[])r.push("--label",o);await qe(t,"volume","create",...r,e)}async function IN(t,e){let{exec:n,cmd:r,args:o,env:i,output:s}=Ri(t),a=[];for(let f in e)for(let p of e[f])a.push("--filter",`${f}=${p}`);let c=await TN(t)?"json":"{{json .}}",l=(o||[]).concat(["events","--format",c,...a]),u=await n({cmd:r,args:l,env:i,output:s}),d=[];return u.stderr.on("data",f=>d.push(f)),u.exit.then(({code:f,signal:p})=>{d.length&&s.write(Dt(Buffer.concat(d).toString())),(f||p&&p!=="SIGKILL")&&s.write(Dt(`Docker events terminated (code: ${f}, signal: ${p}).`))},f=>{s.write(Dt(f&&(f.stack||f.message)))}),u}async function qe(t,...e){let n=Ri(t);return ae({...n,args:(n.args||[]).concat(e)})}async function PN(t){var e;try{let{stdout:n}=await qe(t,"context","ls","--format","{{json .}}"),r=`[${n.toString().trim().split(/\r?\n/).join(",")}]`;return(e=JSON.parse(r).find(s=>s.Current))==null?void 0:e.Name}catch{return}}async function TN(t){try{let{stdout:e}=await qe(t,"-v");return e.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function ZG(t,...e){let n=t3(t);return Xa({...n,args:(n.args||[]).concat(e)})}async function kx(t,...e){let n=Ri(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return ae({...n,args:(n.args||[]).concat(e)})}function cs(t,e,n){return async function(r){let{exec:o,cmd:i,args:s,env:a}=Ri(t),{argsPrefix:c,args:l}=e3(e,n,r,!1);return o({cmd:i,args:(s||[]).concat(l),env:a,output:QG(r.output,i,c)})}}async function Ws(t,e,n,r){if(!await r("node-pty"))throw new Error("Missing node-pty");return async function(i){let{ptyExec:s,cmd:a,args:c,env:l}=t3(t),{argsPrefix:u,args:d}=e3(e,n,i,s.isTTY!==!1);return s({cmd:a,args:(c||[]).concat(d),env:l,output:QG(i.output,a,u)})}}function QG(t,e,n){return hpe(t,`Run: ${e} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function hpe(t,e,n){let r=new RegExp(vm(e),"g");return eo({...t,get dimensions(){return t.dimensions},event:i=>t.event("text"in i?{...i,text:i.text.replace(r,n)}:i)})}function e3(t,e,n,r){let{env:o,cwd:i,cmd:s,args:a}=n,c=["exec","-i"];r&&c.push("-t"),e&&c.push("-u",e),o&&Object.keys(o).forEach(u=>c.push("-e",`${u}=${o[u]}`)),i&&c.push("-w",i),c.push(t);let l=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:l,args:c}}function Ri(t,e){return"dockerEnv"in t?{exec:t.common.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.dockerEnv,...xn(t.dockerEnv)},output:t.common.output}:"cliHost"in t?{exec:t.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.env,...xn(t.env)},output:t.output}:{...t,env:{...t.env,...xn(t.env)}}}function t3(t,e){return"dockerEnv"in t?{ptyExec:t.common.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.dockerEnv,...xn(t.dockerEnv)},output:t.common.output}:"cliHost"in t?{ptyExec:t.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.env,...xn(t.env)},output:t.output}:{...t,env:{...t.env,...xn(t.env)}}}var n3=G(Tr()),r3="com.docker.compose.project",gpe="com.docker.compose.service";async function o3(t,e,n,r,o,i,s,a,c,l,u,d,f,p,m){return vpe(t,e,n,r,o,i,xpe(r),s,a,c,l,u,d,f,p,m)}async function vpe(t,e,n,r,o,i,s,a,c,l,u,d,f,p,m,h){var x,y;let{common:v}=t,{cliHost:g}=e,w;try{let E=await Ml(g,r,g.env,g.cwd),T=g.path.join(g.cwd,".env"),k=Array.isArray(r.dockerComposeFile)&&r.dockerComposeFile.length===0&&await g.isFile(T)?T:void 0,R=await kN(e,n,E),b=!l,I={...e.env,...xn(e.env)},_={cliHost:g,dockerPath:e.dockerCLI,dockerComposePath:e.dockerComposePath,env:I,extensionPath:v.extensionPath,appRoot:v.appRoot,package:v.package,output:v.postCreate.output},{mergedConfiguration:D}=await Bl(_,i,p,v.getLogLevel(),h,f,a.Id,m),S=D.remoteUser;w=await km(t,a.Id,s,S),d&&l&&w.user!=="root"&&(w.launchRootShellServer?await Bb(w,w.launchRootShellServer,s,r.configFilePath.path):v.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let C=sr(g,w.shellServer);b||await Qb(t.configurationTracking,g,C,r,v.output);let L=D.shutdownAction;L==="stopContainer"&&(L="stopCompose");let A={cwd:o,dockerCLI:t.dockerCLI,dockerComposeCLI:await t.dockerComposeCLI(),env:v.env,containerId:a.Id,user:w.user,sessionId:v.sessionId,shutdownAction:L,projectName:R,composeFiles:E,envFile:k,buildContainerRunArgs:u,service:r.service,runServices:r.runServices,logLevel:v.getLogLevel(),delay:1e4},{shutdownArgs:N,doneWithDocuments:B}=await i_(t,g,C,"dockerCompose",A,b?r:void 0);v.backgroundTasks.push(B);let K=((y=(((x=D.customizations)==null?void 0:x.vscode)||[]).slice().reverse().find(ft=>typeof ft.devPort=="number"))==null?void 0:y.devPort)||Gd,{hostOrContainerPort:q,hostPortServer:X,connectionToken:ue,remoteEnv:De,serverDownloaded:Le}=await Al(v,w,r,D,K,Rm(t,e,w,i,f,a.Id,c,p,m));return N.hostPortServer=X,{params:v,properties:w,config:r,resolvedAuthority:{host:Hl,port:q,connectionToken:ue,extensionHostEnv:De},tunnelInformation:v.isLocalContainer?Tm(a):{},dockerParams:t,dockerContainerId:a.Id,serverDownloaded:Le}}catch(E){let T=E instanceof Ee?E:new Ee({description:n3.t("An error occurred setting up the container."),originalError:E});throw a&&(T.manageContainer=!0,T.params=t.common,T.containerId=a.Id,T.dockerParams=t),w&&(T.containerProperties=w),T.config=r,T}}function xpe(t){return t.workspaceFolder||"/"}async function i3(t,e,n){let r=await ic(t,!0,[`${r3}=${e}`,`${gpe}=${n}`]);return r&&r[0]}async function kN(t,e,n){let{cliHost:r}="cliHost"in t?t:t.common,o=await wpe(t),i=r_(r.env.COMPOSE_PROJECT_NAME||"",o);if(i)return i;try{let c=r.path.join(r.cwd,".env"),l=await r.readFile(c),u=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(l.toString()),d=u&&u[1].trim(),f=r_(d||"",o);if(f)return f}catch(c){if(!(c&&(c.code==="ENOENT"||c.code==="EISDIR")))throw c}let s=e.configFolderPath,a=n[0]?r.path.dirname(n[0]):r.cwd;return r.path.basename(a)===".devcontainer"?r_(`${r.path.basename(s)}_devcontainer`,o):r_(r.path.basename(a),o)}function o_(t){let e=(t.Config.Labels||{})[r3];return e||void 0}function r_(t,e){return e?t.toLowerCase().replace(/[^-_a-z0-9]/g,""):t.toLowerCase().replace(/[^a-z0-9]/g,"")}async function wpe(t){try{let e=wm((await t.dockerComposeCLI()).version);return e?!ym(e,[1,21,0]):!0}catch{return!0}}function Ys(t,e,n){let r;return()=>r||(r=(async()=>{let o=!1,i;try{i=(await kx({...t,cmd:n},"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;i=(await kx({...t,cmd:e},"compose","version","--short")).stdout,o=!0}return{version:i.toString().trim(),cmd:o?e:n,args:o?["compose"]:[]}})())}async function s3(t,e,n,r){if(e&&!/\/\.?devcontainer\.json$/.test(e.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${Ie(e,t.common.cliHost.platform)}).`);let o=t.parsedAuthority;if(!o||on(o))return ype(t,o,e,n,r);if(so(o))return o.inspectVolume?RN(t,o):Epe(t,o,e);if(sc(o))return o.inspectVolume?RN(t,o):Cpe(t,o,e);if(Ox(o))return RN(t,o);throw new Error(`Unexpected authority: ${JSON.stringify(o)}`)}async function ype(t,e,n,r,o){let{common:i,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c}=t,{cliHost:l,env:u,output:d}=i,f=l.cwd,p=t.originalCwd||f,m=e&&It(l.path,Jv(e.hostPath)?l.path.join(f,Hr.basename(e.hostPath)):f);e!=null&&e.configFile&&!n&&(n=e.configFile,l.type==="wsl"&&n.scheme==="file"&&(n=_e.from({scheme:it.scheme,path:await u_(n,l)})));let h={cliHost:l,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c,env:u,output:d},v=o?void 0:[`${Lx}=${p}`],g=o||[`${Ax}=${p}`,`${l_}=${i.product.quality}`];return LN(t,h,v,g,p,f,n,r,void 0,m,e==null?void 0:e.settings,[],"on")}async function Epe(t,e,n){let{repositoryPath:r,volumeName:o,folder:i}=e,s=si(r);o=await p3(t,s,o);let{labels:a,remoteWorkspaceFolder:c}=m3(s,r,i,o),l=[...a],u=[...a,`${l_}=${t.common.product.quality}`],{containerId:d,shellServer:f,remoteContainersEnv:p,config:m,preInstalledExtensions:h}=await s.cloneAndInitializeRepository(t,e,s,o,n),v=i?s.workspaceFolder(i):s.fullRepositoryName,g=FN(s,o,i);return a3(t,e,n,m,h,d,f,p,o,v,c,l,u,g)}async function Cpe(t,e,n){let{common:r}=t,{extensionPath:o,appRoot:i,loadNativeModule:s,output:a}=r,{volumeName:c,folder:l}=e,u=[`${a_}=${c}`,`${d3}=${l}`],d=u;await MN(t);let f=UN(c,tf()),{stdout:p}=await qe(t,...f),m=p.toString().trim(),h=cs(t,m,"root"),v=await vn(h,a),g=[],w=Nx(l),x=w,y=await Ws(t,m,"root",s),E=oi("container",w,{},h,y,()=>{throw new Error("not implemented")},"node",a),{configuration:T}=await Rx({cliHost:E,dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:o,appRoot:i,package:r.package,output:a},w,n,t.common.getLogLevel(),u);return a3(t,e,n,T,g,m,v,{},c,w,x,u,d,f)}async function a3(t,e,n,r,o,i,s,a,c,l,u,d,f,p){var R,b,I;let m=It(Hr.posix,l),h=[`type=volume,source=${c},target=${Hr.posix.dirname(m.rootFolderPath)},external=true`],v=await h3(t,i,a,u),g={},{HOME:w,USERPROFILE:x}=t.common.env;w!=null&&w.startsWith("/")&&(g.HOME=w,await s.exec(`test -e "${w}" || (mkdir -p "$(dirname "${w}")" && ln -s ~ "${w}")`)),x!==void 0&&(g.USERPROFILE=x);let y=v.cliHost,E,T,k=To(r)||"image"in r;if(k||"dockerComposeFile"in r&&r.workspaceFolder||o.length){let _=o.length?{...r.customizations,vscode:{...(R=r.customizations)==null?void 0:R.vscode,extensions:[...((I=(b=r.customizations)==null?void 0:b.vscode)==null?void 0:I.extensions)||[],...o]}}:r.customizations;T=k?L=>({...L,workspaceFolder:void 0,workspaceMount:"",customizations:_}):L=>({...L,workspaceFolder:m.rootFolderPath,customizations:_});let D=y.path.join(await y.tmpdir(),`devcontainer-${NN.randomUUID()}.json`),S=`EOF-${D}`,C=`${D}_${Date.now()}`;await s.exec(`cat <<'${S}' >${C}
${JSON.stringify({...T(r),configFilePath:void 0})}
${S}
mv ${C} ${D}`),E=_e.from({scheme:it.scheme,path:D})}try{return await LN(t,v,d,f,t.common.cliHost.cwd,y.cwd,n,E,T,m,e.settings,h,"off",p,!0,void 0,g)}finally{Promise.all(t.common.backgroundTasks.filter(_=>typeof _!="function").map(_=>_.catch(()=>{}))).then(()=>qe(t,"rm","-f",i))}}async function RN(t,e){let{common:n,dockerCLI:r,dockerComposeCLI:o,dockerComposePath:i}=t,{cliHost:s,env:a,output:c}=n,{volumeName:l}=e,u,d,f=Ox(e);f?(u=c_,d="Inspect Volume"):(u=si(e.repositoryPath).volumeDestination,d="Recovery Container");let p=[`${Am}=${l}`],m=[`${Am}=${l}`,`${l_}=${n.product.quality}`],h=await f3(t),v=[`type=volume,source=${l},target=${u},external=true`],g={cliHost:s,dockerCLI:r,dockerComposeCLI:o,dockerComposePath:i,env:a,output:c},w=It(s.path,h);return LN(t,g,p,m,h,h,void 0,void 0,void 0,w,e.settings,v,"never",void 0,!f,d)}async function LN(t,e,n,r,o,i,s,a,c,l,u,d,f,p,m,h,v){var Ye;let{common:g,userRepositoryConfigurationPaths:w}=t,{output:x,extensionPath:y,appRoot:E,postCreate:T,localWaylandSocket:k}=g,{cliHost:R}=e,b=[...d];if(t.cacheMount==="bind"&&(await Zi(g.localCacheFolder),b.push(`type=bind,source=${g.localCacheFolder},target=/vscode`)),t.cacheMount==="volume"){let Te="vscode";(await No(e)).indexOf(Te)===-1&&await Pm(e,Te),b.push("type=volume,source=vscode,target=/vscode,external=true")}if(k){let Te=await LV(void 0);b.push(`type=bind,source=${k},target=${Te}`)}let I=s?{uri:s,type:bpe(R,l,s),fileHost:R}:l?await l3(R,l,w,t.common.loadNativeModule,!a,x):void 0,_=I==null?void 0:I.uri;if((_==null?void 0:_.scheme)==="file"&&R.type!=="local"){let Te=Hr.dirname(_.fsPath),z=Hr.basename(_.fsPath),se=z===".devcontainer.json"?Te:Hr.dirname(Te),pe=R.path.join(await R.tmpdir(),`devcontainer-config-${NN.randomUUID()}`);await Px(se,R,pe,x),_=_e.from({scheme:it.scheme,path:R.path.join(pe,...z===".devcontainer.json"?[z]:[Hr.basename(Te),z])})}typeof t.removeOnStartup=="string"&&await ii(t,t.removeOnStartup)&&await qe(t,"rm","-f",t.removeOnStartup);let D=await Nm(e,r);D&&t.removeOnStartup===!0&&n&&(await qe(t,"rm","-f",D.Id),D=void 0);let S=!!D||!n,C=S?r:await _pe(t,e,I,n),L=!1,A=t.removeOnStartup!==!0?D||n&&await Nm(e,n):void 0;((Ye=A==null?void 0:A.State)==null?void 0:Ye.Status)==="running"&&(L=!0,qe({...Ri(t),print:"continuous"},"exec","-i","-u","root",A.Id,"/bin/sh","-c",`echo "Container already running. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${t.common.sessionId} ; /bin/sh`).catch(()=>{L=!1,x.write("Keep-alive process ended.")}));let N={...v,...e.env,...xn(e.env)},B={cliHost:R,dockerPath:e.dockerCLI,dockerComposePath:e.dockerComposePath,env:N,extensionPath:y,appRoot:E,package:g.package,postCreate:T,output:g.postCreate.output},K=await Rx(B,i,_,g.getLogLevel(),C,void 0,a),q=K.configuration;await t.ensureNoDisallowedFeatures(e,q,C);let X=g.postCreate.output.dimensions||g.output.dimensions,ue=g.additionalFeaturesToInstall,De;try{De=await ki(B,["up",...e.cliHost.type==="local"&&g.persistedFolder?["--user-data-folder",g.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...g.containerSessionDataFolder?["--container-session-data-folder",g.containerSessionDataFolder]:[],...S?["--container-data-folder",Hs(t.common.product.serverDataFolderName)]:[],...S?["--container-system-data-folder",Hb(t.common.product.serverDataFolderName)]:[],"--workspace-folder",i,...t.workspaceMountConsistencyDefault?["--workspace-mount-consistency",t.workspaceMountConsistencyDefault]:[],...[].concat(...C.map(Te=>["--id-label",Te])),"--log-level",yo(g.getLogLevel()),"--log-format","json",..._?["--config",Ie(_,R.platform)]:[],...a?["--override-config",Ie(a,R.platform)]:[],"--default-user-env-probe",g.defaultUserEnvProbe,...t.buildNoCache?["--build-no-cache"]:[],...t.removeOnStartup===!0?["--remove-existing-container"]:[],...t.expectExistingContainer?["--expect-existing-container"]:[],...t.useExperimentalLockfile?["--experimental-lockfile"]:[],...[].concat(...b.map(Te=>["--mount",Te])),"--skip-post-create","--update-remote-user-uid-default",f,"--mount-workspace-git-root",...X?["--terminal-columns",String(X.columns),"--terminal-rows",String(X.rows)]:[],...Object.keys(ue).length>0?["--additional-features",JSON.stringify(ue)]:[]])}catch(Te){let z=Te instanceof Ee?Te:new Ee({description:ql.t("An error occurred setting up the container."),originalError:Te});throw z.step="devContainersCLIUP",z}if((De==null?void 0:De.outcome)!=="success")throw new Ee({description:ql.t("devcontainer command failed: {0}",JSON.stringify(De)),step:"devContainersCLIUP"});let Le=await ii(t,De.containerId);if(!Le)return v3(g.output,"Dev container not found.");L||(L=!0,qe({...Ri(t),print:"continuous"},"exec","-i","-u","root",Le.Id,"/bin/sh","-c",`echo "New container started. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${t.common.sessionId} ; /bin/sh`).catch(()=>{L=!1,x.write("Keep-alive process ended.")}));let ft=Om(g.cliHost.authority,u),nt=h||(q.name?ql.t("Dev Container: {0}{1}",q.name,ft):ql.t("Dev Container{0}",ft));g.setWorkspaceName(nt);let at;try{if(To(q)||"image"in q)at=await g3(t,e,q,K.workspace,o,i,Le,S,!A,m,C,_,a,g.additionalFeaturesToInstall);else if("dockerComposeFile"in q){if(!l)throw new Ee({description:ql.t("A Dev Container using Docker Compose requires a workspace folder.")});at=await o3(t,e,l,q,o,i,Le,S,!A,p,m,C,_,a,g.additionalFeaturesToInstall)}else throw new Ee({description:ql.t('Dev container config ({0}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.',q.configFilePath.toString())})}catch(Te){let z=Te instanceof Ee?Te:new Ee({description:ql.t("An error occurred setting up the container."),originalError:Te});throw z.step||(z.step="setupDevContainer"),z}if(Spe(t,B,q,a,c,Le,p,i,_,C,at.properties),at.configLocationType=I==null?void 0:I.type,(I==null?void 0:I.type)==="workspace")if(R.type==="container")at.configWorkspaceURI=I.uri.with({scheme:io.scheme,authority:g.authority});else{let Te=Ie(I.uri,R.platform),z=Le.Mounts.find(se=>rE(R.path,se.Source,Te));if(z){let se=R.path.relative(z.Source,Te),pe=R.platform==="win32"?se.replace(/\\/g,"/"):se;at.configWorkspaceURI=_e.from({scheme:io.scheme,authority:g.authority,path:Hr.posix.join(z.Destination,pe)})}}return at}function bpe(t,e,n){return e&&(n.scheme===it.scheme||n.scheme==="file"&&t.type==="local")&&rE(Hr,e.rootFolderPath,Ie(n,t.platform))?"workspace":n.scheme==="file"?"repositoryConfig":"unknown"}async function _pe(t,e,n,r){var s;let{cliHost:o}=e,i;if(n){let{uri:a}=n,c;a.scheme===it.scheme||a.scheme==="file"&&o.type==="local"?c=Ie(a,o.platform):c=a.toString();let l=[...r,`${Lm}=${c}`];if(await Nm(e,l))i=l;else{let u=await Nm(e,r);u&&!((s=u.Config.Labels)!=null&&s[Lm])?t.removeOnStartup===!0?(await qe(e,"rm","-f",u.Id),i=l):i=r:i=l}}else i=r;return i}function Spe(t,e,n,r,o,i,s,a,c,l,u){let{common:d}=t,{output:f,extensionPath:p,appRoot:m}=d,{cliHost:h}=e;if(t.watch){let v,g=n.configFilePath;if(g.scheme===it.scheme)if(h.type==="local")v=g.with({scheme:"file"});else if(h.type==="container")v=g.with({scheme:io.scheme,authority:d.authority});else{let w=Ie(g,h.platform),x=i.Mounts.find(y=>rE(h.path,y.Source,w));if(x){let y=h.path.relative(x.Source,w),E=h.platform==="win32"?y.replace(/\\/g,"/"):y;v=_e.from({scheme:io.scheme,authority:d.authority,path:Hr.posix.join(x.Destination,E)})}}else(g.scheme==="file"||g.scheme===io.scheme)&&(v=g);if(v){let T=function(){w||(y=x().finally(async()=>{await Mr(h.type==="container"?5e3:1e3),y=void 0,E&&(E=!1,T())}))},w=!1;async function x(){let R=e,b;try{if(h.type==="container"){let{stdout:D}=await qe(t,...s);b=D.toString().trim();let S=cs(t,b,"root");if(r&&o){let A=r.path,N=`EOF-${A}`,B=`${A}_${Date.now()}`,K=await vn(S,f),q=Ge((await K.exec(`cat '${g.path}'`)).stdout);await K.exec(`cat <<'${N}' >${B}
${JSON.stringify({...o(q),configFilePath:void 0})}
${N}
mv ${B} ${A}`)}let C=await Ws(t,b,"root",d.loadNativeModule);R={cliHost:oi("container",a,{},S,C,()=>{throw new Error("not implemented")},"node",f),dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:p,appRoot:m,package:d.package,output:f}}let I=await Rx(R,a,c,d.getLogLevel(),l,i.Id,r),_=sr(R.cliHost,u.shellServer);await Zb({...t.configurationTracking,containerOutdated:async D=>{w=!0;let S=await t.configurationTracking.containerOutdated(D);return S==="ignore"&&(w=!1),S}},R.cliHost,_,I.configuration)}finally{b&&await qe(t,"rm","-f",b)}}let y,E=!1,k=t.watch(v,()=>{y?E=!0:T()});t.common.shutdowns.push(async()=>(await k).dispose())}}}async function Nm(t,e){let n=await ic(t,!0,e);return(await qs(t,n)).filter(o=>o.State.Status!=="removing")[0]}async function Rx(t,e,n,r,o,i,s){let{cliHost:a,output:c}=t,l=await ki(t,["read-configuration",...t.dockerPath!=="docker"?["--docker-path",t.dockerPath]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],"--workspace-folder",e,...(o||[]).map(u=>["--id-label",u]).flat(),...i?["--container-id",i]:[],"--log-level",yo(r),"--log-format","json",...n?["--config",Ie(n,a.platform)]:[],...s?["--override-config",Ie(s,a.platform)]:[],"--mount-workspace-git-root",...c.dimensions?["--terminal-columns",String(c.dimensions.columns),"--terminal-rows",String(c.dimensions.rows)]:[]]);return l.configuration.configFilePath=_e.revive(l.configuration.configFilePath).with({scheme:a.type==="local"?"file":it.scheme}),l}async function c3(t,e,n,r,o,i){let s=await l3(t,e,n,r,o,i);return s==null?void 0:s.uri}async function l3(t,e,n,r,o,i){let s=await KC(t,e,$e),a=s&&await AN(s,n);if(a)return{uri:a,type:"repositoryConfig",fileHost:await oo(process.cwd(),r,i)};let c=await Xd(t,e.configFolderPath);if(c)return{uri:c,type:"workspace",fileHost:t};o&&i&&(s!=null&&s.length?i.write(`No dev container config found. Additional locations checked:
${s_(s,n).map(l=>`- ${Hr.join(l,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function AN(t,e){let n=s_(t,e);for(let r of n){let o=await $G(r);if(o)return _e.file(o)}}function s_(t,e){let n=[],r=new Set(t.map(Dpe).filter(o=>!!o));for(let o of r)for(let i of e){let s=Hr.join(i,o);n.push(s)}return n}function u3(t,e,n){let r=t.path.relative(e.rootFolderPath,Ie(n,t.platform));return r&&!r.startsWith("..")&&!t.path.isAbsolute(r)}function Dpe(t){let e;if(t.startsWith("https://"))e=t.substr(8);else{let n=/[^@:]+@([^:]+):(.+)/.exec(t);if(n)e=`${n[1]}/${n[2]}`;else return}if(!(e.toLowerCase().startsWith("github.com")&&(e=(/^[^/]+\/[^/]+\/[^/]+/.exec(e)||[])[0],!e)))return e.endsWith(".git")&&(e=e.substr(0,e.length-4)),e}var a_="vsc.devcontainer.volume.name",d3="vsc.devcontainer.volume.folder";function ON(t){return t?`${t.volumeName}:${t.folder}`:void 0}function Wl(t){let e=(t.Config.Labels||{})[a_],n=(t.Config.Labels||{})[d3];return e&&n?{volumeName:e,folder:n}:void 0}var Vs=G(require("url")),x3=G(require("https"));var w3=G(Tr());function zs(t){return t.toLowerCase().indexOf("github.com")>=0?Rpe(t):t.toLowerCase().indexOf("visualstudio.com")>=0?Tpe(t):t.toLowerCase().indexOf("dev.azure.com")>=0?Ppe(t):t.toLowerCase().indexOf("gitlab.com")>=0?kpe(t):Ipe(t)}function ac(t){let e="owner",n="repository";return{repository:"unknown",repositoryUrl:t,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`}}function Ipe(t){var s;let e="unknown-owner",n,r=t,o;o=(s=Vs.parse(t))==null?void 0:s.path;let i=o==null?void 0:o.split("/");return!i||i.length<1?ac(t):(n=i[i.length-1],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"unknown",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`})}function Ppe(t){var i,s;let e,n,r=t,o;if(f_(t)){let a=`http://${t}`;o=(i=Vs.parse(a))==null?void 0:i.path;let c=o==null?void 0:o.split("/");if(!c||c.length<5)return ac(t);e=c[3],n=c[4]}else{o=(s=Vs.parse(t))==null?void 0:s.path;let a=o==null?void 0:o.split("/");if(!a||a.length<5)return ac(t);e=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`}}function Tpe(t){var i,s;let e,n,r=t,o;if(f_(t)){let a=`http://${t}`;o=(i=Vs.parse(a))==null?void 0:i.path;let c=o==null?void 0:o.split("/");if(!c||c.length<5)return ac(t);e=c[3],n=c[4]}else{o=(s=Vs.parse(t))==null?void 0:s.path;let a=o==null?void 0:o.split("/");if(!a||a.length<5)return ac(t);e=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`}}function kpe(t){var s,a;let e,n,r,o=t,i;if(f_(t)){let c=`http://${t}`;i=(s=Vs.parse(c))==null?void 0:s.path,i&&(i=i.replace("/:","/"));let l=i==null?void 0:i.split("/");if(!l||l.length<3)return ac(t);e=l[1],n=l.slice(2,l.length-1).join("/")||void 0,r=l[l.length-1]}else{i=(a=Vs.parse(t))==null?void 0:a.path;let c=i==null?void 0:i.split("/");if(!c||c.length<3)return ac(t);e=c[1],n=c.slice(2,c.length-1).join("/")||void 0,r=c[c.length-1]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:o,ref:void 0,commit:!1,repositoryOwner:e,repositoryProject:n,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}${n?`/${n}`:""}/${r}`}}function Rpe(t){var c,l;let e,n,r=t,o,i,s;if(f_(t)){let u=`http://${t}`;s=(c=Vs.parse(u))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(l=Vs.parse(t))==null?void 0:l.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return ac(t);if(e=a[1],n=a[2],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let u=t.match(/\/tree\/|\/commit\//);u&&u.index&&(r=t.substring(0,u.index),o=t.substring(u.index+u[0].length))}if(a[3]==="pull"){i=a[4];let u=t.match(/\/pull\//);u&&u.index&&(r=t.substring(0,u.index))}}return{repository:"github",repositoryUrl:r,ref:o,commit:a[3]==="commit",repositoryOwner:e,repositoryName:n,pullRequestId:i,fullRepositoryName:`${e}/${n}`}}function f_(t){return t=t.toLowerCase(),t.indexOf("://")<0?t.indexOf("@")<t.indexOf(":"):!1}var Fx=class extends Error{description;code;constructor(e,n){super(),this.code=e,this.description=n}},Ux=class{inputUrl;gitUrlInfo;constructor(e){this.inputUrl=e,this.gitUrlInfo=zs(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(e,n,r,o){}installExtension(){return null}},$N=class extends Ux{constructor(e){super(e)}async parseUrl(e){var i,s,a;let n=(i=this.gitUrlInfo)==null?void 0:i.repositoryOwner,r=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,o=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(e,n,r,o)}async getPullRequestInfo(e,n,r,o){var u,d,f,p,m,h,v,g,w,x,y;let i=await this.fetchPullRequestInfo(e,n,r,o),s=(d=(u=i.head)==null?void 0:u.repo)==null?void 0:d.clone_url,a=(p=(f=i.base)==null?void 0:f.repo)==null?void 0:p.clone_url;if(!a)throw new Fx(2,w3.t("Cannot access the head repository of the Pull Request."));let c=(m=i.head)==null?void 0:m.ref,l=((g=(v=(h=i.head)==null?void 0:h.repo)==null?void 0:v.owner)==null?void 0:g.login)===n?null:(y=(x=(w=i.head)==null?void 0:w.repo)==null?void 0:x.owner)==null?void 0:y.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:l}}async fetchPullRequestInfo(e,n,r,o){let i=`/repos/${n}/${r}/pulls/${o}`,s={"user-agent":"vscode-remote-containers"};e&&(s.authorization=`token ${e}`);let a={hostname:"api.github.com",port:443,path:i,method:"GET",headers:s};return new Promise((c,l)=>{let u="",d=x3.request(a,f=>{if(f.statusCode<200||f.statusCode>=300)return l(new Error(`Status Code: ${f.statusCode}`));f.on("data",p=>{u+=p}),f.on("end",()=>{let p=JSON.parse(u.toString());c(p)})});d.on("error",l),d.end()})}cloneOptions(e){return{url:e.urlToClone,fullClone:!0}}async postClone(e,n,r,o){if(e.sourceOwner){let l=e.prRepositoryUrl.replace(/\.[^/.]+$/,"");await ae({exec:n.exec,cmd:"git",args:["remote","add",e.sourceOwner,l],cwd:r,output:o}),await ae({exec:n.exec,cmd:"git",args:["fetch",e.sourceOwner,e.ref],cwd:r,output:o});try{await ae({exec:n.exec,cmd:"git",args:["checkout","-t",`${e.sourceOwner}/${e.ref}`],cwd:r,output:o})}catch(u){if(!(u.stderr&&u.stderr.startsWith(`fatal: A branch named '${e.ref}' already exists`)))throw u}await ae({exec:n.exec,cmd:"git",args:["config","--local",`remote.${e.sourceOwner}.github-pr-remote`,"true"],cwd:r,output:o})}else await ae({exec:n.exec,cmd:"git",args:["checkout",e.ref],cwd:r,output:o});let i=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${i}#${s}#${a}`;await ae({exec:n.exec,cmd:"git",args:["config","--local",`branch.${e.ref}.github-pr-owner-number`,c],cwd:r,output:o})}installExtension(){return"GitHub.vscode-pull-request-github"}},jN=class extends Ux{constructor(e){super(e)}async parseUrl(e){var n,r;return{urlToClone:(n=this.gitUrlInfo)==null?void 0:n.repositoryUrl,ref:(r=this.gitUrlInfo)==null?void 0:r.ref}}cloneOptions(e){let n=this.gitUrlInfo.commit;return{url:e.urlToClone,branch:!n&&e.ref||void 0,fullClone:n}}async postClone(e,n,r,o){this.gitUrlInfo.commit&&await ae({exec:n.exec,cmd:"git",args:["checkout",e.ref],cwd:r,output:o})}},d_=class extends Ux{constructor(n,r){super(n);this.branch=r}async parseUrl(n){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(n){return{url:n.urlToClone,branch:n.ref||void 0}}};function p_(t,e){if(e)return new d_(t,e);let n=zs(t);if(n.repository==="github"){if(n.pullRequestId)return new $N(t);if(n.ref)return new jN(t)}return new d_(t)}var qN="vsch.local.repository",m_="dev.container.volume";function si(t){return{repositoryPath:t,fullRepositoryName:WN(t),repositoryName:YN(t),workspaceFolder:Nx,volumeDestination:tf(),oldVolumeName:Lpe(t),alreadyCloned:!1,uniqueVolumeName:Ape(t),legacyUniqueVolumeName:Ope(t),getOldWorkspacePath:b3,cloneAndInitializeRepository:Fpe,gitUrlHandler:p_(t),gitUrlInfo:zs(t)}}function WN(t){let e=zs(t);return e==null?void 0:e.fullRepositoryName}function YN(t){let e=zs(t);return e==null?void 0:e.repositoryName}function tf(){return"/workspaces"}function Lpe(t){let e=WN(t);return`vsc-${ls.posix.basename(e)}-${E3(t)}`}function Ape(t){let e=y3(t),n=cc.createHash("sha256").update(t).digest("hex");return`${e}-${n}`}function Ope(t){let e=y3(t),n=E3(t);return`${e}-${n}`}function y3(t){let e=zs(t),n="";return e&&e.repositoryName&&(n=e.repositoryName,e.ref?n=`${n}-${e.ref.replace(/\//g,"-")}`:e.pullRequestId&&(n=`${n}-pull-${e.pullRequestId}`)),n}function E3(t){return cc.createHash("md5").update(t).digest("hex")}function Nx(t){return ls.posix.join(`${tf()}`,`${t}`)}async function Fpe(t,{folder:e,cloneInfo:n},r,o,i){var d;await MN(t);let{containerId:s,shellServer:a,remoteContainersEnv:c}=await Upe(t,r,o,e,i,t.configProvider,n),{config:l}=await Mpe(t,r,e,i,a),u=(d=r.gitUrlHandler)==null?void 0:d.installExtension();return{repository:r,volumeName:o,containerId:s,shellServer:a,remoteContainersEnv:c,config:l,preInstalledExtensions:u?[u]:[]}}async function Upe(t,e,n,r,o,i,s){let{common:a}=t,{output:c,loadNativeModule:l}=a,u=e.fullRepositoryName,d,f,p,m;t.common.progress(1);let h=FN(e,n,r,t.buildContainerRunArgs);r?(c.write(`Cloning Github repository: ${u} into ${e.workspaceFolder(r)}
\r`),d=`fatal: destination path '${e.workspaceFolder(r)}' already exists`,m=e.workspaceFolder(r),p=`Repository '${u}' was already cloned into '${e.workspaceFolder(r)}'.
\r`):(c.write(`Cloning Github repository: ${u} into volume ${n}
\r`),d=`fatal: destination path '${u}' already exists`,m=`${u}`,p=`Repository '${u}' was already cloned into volume.`);let v=e.gitUrlHandler;if(!v)throw new Ee({description:Yl.t("Could not analyze the URL.")});s?f=v.cloneOptions(s):f={url:e.repositoryPath};let{stdout:g}=await qe(t,...h),w=g.toString().trim(),x=cs(t,w,"root"),y=await vn(x,c),E=await fb(a,{remoteExec:x,user:"root",nodeExecutable:"node",shellServer:y,launchRootShellServer:async()=>y}),T=E.remoteContainersCLI,k=E.remoteEnv,R=E.ready,b=E.mrpcExec,I=await Ws(t,w,"root",l),_=oi("container",m,{},await b||x,I,()=>{throw new Error("not implemented")},void 0,c);try{t.common.isCopyGitConfigEnabled&&await JC(t.common,{homeFolder:"/root",shellServer:y},{}),await Fb({shellServer:y,nodeExecutable:"node"},T,c,"global"),await ex(t.common,{homeFolder:"/root",shellServer:y},[".ssh","known_hosts"],"ssh"),await R;let S=ez(a),C=await fY(a,_,m,{...f,env:{...k,...f.env}},c,S.output);if(await C.gitClone,C.gitUnshallow&&(a.backgroundTasks.push(C.gitUnshallow.then(()=>{})),C.gitUnshallow.then(S.flush,S.flush)),C.gitClone&&s)try{await v.postClone(s,_,m,c)}catch{return HN(t,w,Yl.t("Failed to checkout the repository {0}.",s.urlToClone))}}catch(S){let C=S&&(S.cmdOutput||S.stack||S.message)||String(S);if(C=C.replace(Ns,""),C.replace(/[\r\n]+/gm,"").includes(d))c.write(p),e.alreadyCloned=!0;else return HN(t,w,Yl.t("Git clone failed. {0}",C))}let{configRaw:D}=await C3(t,e,r,o,y);if(!Jb(D)&&i){c.write(`Repository ${u} has no dev container files.
\r`);let S=!0;for(;S;){let C=await i.createConfiguration(m,_);if(C)S=!1;else{let L=Yl.t("Select Configuration");if(C=await i.showError(Yl.t("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started."),L),C!==L)return HN(t,w,Yl.t("Cancelled container configuration selection."),{closeRemote:!0})}}}return{containerId:w,shellServer:y,remoteContainersEnv:k}}function FN(t,e,n,r=[]){let o=n?t.volumeDestination:t.fullRepositoryName;return UN(e,o,r)}function UN(t,e,n=[]){return["run","-d","--mount",`type=volume,src=${t},dst=${e}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${_3}`,"sleep","infinity"]}function HN(t,e,n,r){throw e&&qe(t,"rm","-f",e),new Ee({description:n,data:r})}async function C3(t,e,n,r,o){let i,s;if(n?s=e.workspaceFolder(n):s=`${b3(e.repositoryPath)}`,r)return i=(await o.exec(`cat ${r.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:i&&Ge(i),configFile:r,workspaceFolder:s};if(r=await AN([e.repositoryPath],t.userRepositoryConfigurationPaths),r&&(i=(await ot(r.fsPath)).toString()),!r)for(let a of Ul(ls.posix,s))try{i=(await o.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,r=_e.from({scheme:"vscode-remote",path:a});break}catch{}return{configRaw:i&&Ge(i),configFile:r,workspaceFolder:s}}async function Mpe(t,e,n,r,o){let{configRaw:i,configFile:s,workspaceFolder:a}=await C3(t,e,n,r,o);if(!s||!i)throw new Ee({description:Yl.t("The repository does not have a 'devcontainer.json' configuration file.")});let{common:c,configUpdater:l}=t,{cliHost:u,output:d}=c,f=Ix({...i}),p=f;l&&(f.configFilePath=s,p=l(f),delete p.configFilePath);let m=Nb({platform:u.platform,configFile:s,env:u.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},p);return m.configFilePath=s,("workspaceMount"in m||"workspaceFolder"in m)&&d.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:m}}function b3(t){return`/workspaces/${ls.posix.basename(WN(t))}`}var _3="vsc-volume-bootstrap",BN="bootstrap.Dockerfile",$pe="volume.Dockerfile";async function MN(t,e,n,r){let{cliHost:o,output:i}="cliHost"in t?t:t.common;"cliHost"in t||(e=t.common.extensionPath,n=t.common.package.version,r=t.development);let s=o.path.join(await hx(o),"bootstrap-image",r?`${n}-dev-${Date.now()}`:n),a=o.path.join(s,BN),c=o.path.join(s,".vscode-remote-containers","dist",`dev-containers-cli-${n}`),l=o.path.join(c,"dist","spec-node","devContainersSpecCLI.js"),u=!await o.isFolder(s);if(!u&&!(await o.isFile(a)&&await o.isFile(l))){let h="Removing incomplete bootstrap-image folder.",v=i.start(h),g=`${s}-${cc.randomUUID()}`;await o.rename(s,g),await o.rm(g,{recursive:!0,force:!0}),u=!await o.isFolder(s),i.stop(h,v)}if(u){let h=`${s}-${cc.randomUUID()}`,v=o.path.join(h,".vscode-remote-containers","dist",`dev-containers-cli-${n}`);await o.mkdirp(o.path.join(v,"dist","spec-node")),await o.writeFile(o.path.join(h,BN),await ot(ls.join(e,"scripts",BN))),await o.writeFile(o.path.join(v,"package.json"),await ot(ls.join(e,"package.json"))),await o.writeFile(o.path.join(v,"dist","spec-node","devContainersSpecCLI.js"),await ot(ls.join(e,"dist","spec-node","devContainersSpecCLI.js"))),await o.mkdirp(o.path.join(v,"scripts")),await o.writeFile(o.path.join(v,"scripts","updateUID.Dockerfile"),await ot(ls.join(e,"scripts","updateUID.Dockerfile"))),await o.rename(h,s)}let d=["build","-f",a,"-t",_3,s],f=await o.locateCertificatesFile(),p=o.path.join(s,"host-ca-certificates.crt"),m=`${p}-${cc.randomUUID()}`;await o.writeFile(m,f?await o.readFile(f):Buffer.from("")),await o.rename(m,p),await ZG(t,...d)}async function f3(t){let{common:e}=t,{cliHost:n,output:r}=e,o=await jpe(t),i=n.path.join(o,$pe),s=!await n.isFolder(o);if(!s&&!await n.isFile(i)){let a="Removing incomplete inspect-volume folder.",c=r.start(a),l=`${o}-${cc.randomUUID()}`;await n.rename(o,l),await n.rm(l,{recursive:!0,force:!0}),s=!await n.isFolder(o),r.stop(a,c)}if(s){let a=`${o}-${cc.randomUUID()}`;await Px(ls.join(e.extensionPath,"scripts","inspect-volume"),n,a,r),await n.rename(a,o)}return o}async function jpe(t){let{common:e,development:n}=t,{cliHost:r}=e,o=e.package.version;return r.path.join(await hx(r),"inspect-volume",n?`${o}-dev-${Date.now()}`:o)}async function p3(t,e,n){let r=[`${qN}=${e.repositoryPath}`];!n||n===Ni?r.push("vsch.local.repository.unique=true"):r.push("vsch.local.repository.unique=false"),e.gitUrlInfo.ref&&r.push(`vsch.local.repository.branch=${e.gitUrlInfo.ref}`),e.gitUrlInfo.pullRequestId&&r.push(`vsch.local.repository.pullRequestId=${e.gitUrlInfo.pullRequestId}`);let o=await No(t),i=VN(e,n,o);return o.indexOf(i)===-1&&await Pm(t,i,r),i}function VN(t,e,n){return e?e===Ni&&(n.indexOf(t.uniqueVolumeName)!==-1||n.indexOf(t.legacyUniqueVolumeName)===-1?e=t.uniqueVolumeName:e=t.legacyUniqueVolumeName):n.indexOf(t.uniqueVolumeName)!==-1||n.indexOf(t.oldVolumeName)===-1?e=t.uniqueVolumeName:e=t.oldVolumeName,e}var Fm="vsch.local.repository",zN="vsch.local.repository.volume",GN="vsch.local.repository.folder";function m3(t,e,n,r){return n?{labels:[`${Fm}=${e}`,`${zN}=${r}`,`${GN}=${n}`],remoteWorkspaceFolder:t.workspaceFolder(n)}:{labels:[`${Fm}=${e}`],remoteWorkspaceFolder:t.getOldWorkspacePath(e)}}async function h3(t,e,n,r){let{loadNativeModule:o,output:i}=t.common,s=cs(t,e,"root"),a=await Ws(t,e,"root",o),c=oi("container",r,n,s,a,()=>{throw new Error("not implemented")},"node",i);return{cliHost:c,dockerCLI:"docker",dockerComposeCLI:Ys({exec:c.exec,env:n,output:i},"docker","docker-compose"),dockerComposePath:"docker-compose",env:n,output:i}}var S3=G(Tr()),Lx="devcontainer.local_folder",Lm="devcontainer.config_file",Am="vsch.local.volume",c_="/volume",l_="vsch.quality",Ax="vsch.local.folder";async function g3(t,e,n,r,o,i,s,a,c,l,u,d,f,p){let{common:m}=t,h;try{let v=!c,g={...e.env,...xn(e.env)},w={cliHost:e.cliHost,dockerPath:e.dockerCLI,dockerComposePath:e.dockerComposePath,env:g,extensionPath:m.extensionPath,appRoot:m.appRoot,package:m.package,output:m.postCreate.output},{mergedConfiguration:x}=await Bl(w,i,d,m.getLogLevel(),p,u,s.Id,f),y=x.remoteUser;h=await km(t,s.Id,r.workspaceFolder,y),l&&c&&r.workspaceFolder&&h.user!=="root"&&(h.launchRootShellServer?await Bb(h,h.launchRootShellServer,r.workspaceFolder,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let E=await T3(m,c,r,h);return await Bpe(s,a,t,e,h,n,x,v,o,i,u,d,f,E)}catch(v){throw Hpe(v,s,t,h,n)}}function Hpe(t,e,n,r,o){let i=t instanceof Ee?t:new Ee({description:S3.t("An error occurred setting up the container."),originalError:t});return e&&(i.manageContainer=!0,i.params=n.common,i.containerId=e.Id,i.dockerParams=n),r&&(i.containerProperties=r),o&&(i.config=o),i}async function Bpe(t,e,n,r,o,i,s,a,c,l,u,d,f,p){var I,_;let{common:m}=n,h=sr(r.cliHost,o.shellServer);a||await Qb(n.configurationTracking,r.cliHost,h,i,m.output);let v=s.shutdownAction;v==="stopCompose"&&(v="stopContainer");let g={cwd:c,dockerCLI:n.dockerCLI,env:m.env,containerId:t.Id,user:o.user,sessionId:m.sessionId,shutdownAction:v,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:w,doneWithDocuments:x}=await i_(n,r.cliHost,h,"singleContainer",g,a?i:void 0);m.backgroundTasks.push(x);let y=((_=(((I=s.customizations)==null?void 0:I.vscode)||[]).slice().reverse().find(D=>typeof D.devPort=="number"))==null?void 0:_.devPort)||Gd,{hostOrContainerPort:E,hostPortServer:T,connectionToken:k,remoteEnv:R,serverDownloaded:b}=await Al(m,o,i,s,y,Rm(n,r,o,l,u,t.Id,e,d,f),p);return w.hostPortServer=T,{params:m,properties:o,config:i,resolvedAuthority:{host:Hl,port:E,connectionToken:k,extensionHostEnv:R},tunnelInformation:m.isLocalContainer?Tm(t):{},dockerParams:n,dockerContainerId:t.Id,serverDownloaded:b}}function Vl(t){let e=t.Config.Labels||{},n=e[Lx]||e[Ax];return n||void 0}function D3(t){return(t.Config.Labels||{})[Lm]||void 0}function lc(t){let e=(t.Config.Labels||{})[Fm];return e||void 0}function h_(t){let e=(t.Config.Labels||{})[zN];return e||void 0}function I3(t){let e=(t.Config.Labels||{})[Am];return e||void 0}function P3(t){let e=(t.Config.Labels||{})[GN];return e||void 0}function v3(t,e){throw t.write(Dt(e)),new Error(e)}function uc(t){return!!(t!=null&&t.startsWith("tunnel+"))}function k3(t){let e=/^tunnel\+(.*)$/.exec(t);return e?{tunnelName:e[1]}:void 0}var R3=G(require("path"));async function N3(t,e,n,r,o,i){let s,a=new Promise(m=>s=m),c=new e_,l=[],u=await GG("vscode-remote-containers",async(m,h)=>{let v=await KG(m),g=[];if(v.type==="poll")try{g=await c.dequeue(6e4)}catch{}else if(v.type==="reply"){let w=l[v.sequence];w&&(w(v.reply),delete l[v.sequence])}else v.type==="done"&&s?s():v.type==="log"&&r.event(v.event);h.write(JSON.stringify(g)),h.end()});u.server.unref();let d=R3.join(n,"dist","shutdown","shutdownMonitorProcess"),f=[u.ipcHandlePath,t,kr[e],o||"",i.getTime().toString()];r.write(`Forking shutdown monitor: ${d} ${f.join(" ")}\r
`);let p=QV(d,f,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",m=>{console.error(m)}),p.unref(),{queue:c,sequence:0,replies:l,done:a}}async function g_(t,e,n){let r=t.sequence++,o=new Promise(s=>t.replies[r]=s);return t.queue.push({type:"configure",sequence:r,options:e}),await o}async function L3({queue:t,done:e}){t.push({type:"cleanup"}),await e}var U3=require("util");var qpe={src:"source",destination:"target",dst:"target"};function A3(t){return t.split(",").map(e=>e.split("=")).reduce((e,[n,r])=>({...e,[qpe[n]||n]:r}),{})}function O3(t){var e;return(e=t.options)!=null&&e.version?"version":void 0}var Ni="__UNIQUE__",Hl="127.0.0.1";async function u_(t,e){if(t.scheme==="file"&&e.type==="wsl"){let{stdout:n}=await ae({exec:e.exec,cmd:"wslpath",args:["-u",t.fsPath],output:$e});return n.toString().trim()}return Ie(t,e.platform)}async function Mm(t,e){let n=!t.env.SSH_AUTH_SOCK&&await FR(t)?ix:t.type==="wsl"?t.env.SSH_AUTH_SOCK:void 0,r={DOCKER_CONTEXT:"default"};return e&&("context"in e?r.DOCKER_CONTEXT=e.context:(e.host&&(e.host.startsWith("ssh://")&&t.type==="remote"?r.VSCODE_DOCKER_HOST=e.host:r.DOCKER_HOST=e.host),e.certPath&&(r.DOCKER_CERT_PATH=e.certPath),e.tlsVerify&&(r.DOCKER_TLS_VERIFY=e.tlsVerify))),n&&(r.SSH_AUTH_SOCK=n),r}function ar(t){let e;if(t.DOCKER_CONTEXT&&t.DOCKER_CONTEXT!=="default")e={context:t.DOCKER_CONTEXT};else{e={};let n=t.VSCODE_DOCKER_HOST||t.DOCKER_HOST;n&&(e.host=n),t.DOCKER_CERT_PATH&&(e.certPath=t.DOCKER_CERT_PATH),t.DOCKER_TLS_VERIFY&&(e.tlsVerify=t.DOCKER_TLS_VERIFY),Object.keys(e).length||(e=void 0)}return e}function v_(t,{parentAuthority:e,settings:n}){e&&t.write(`Host authority: ${e}\r
`),n&&("context"in n&&n.context&&t.write(`Context: ${n.context}\r
`),"host"in n&&n.host&&t.write(`Host: ${n.host}\r
`),"certPath"in n&&n.certPath&&t.write(`CertPath: ${n.certPath}\r
`),"tlsVerify"in n&&n.tlsVerify&&t.write(`TLSVerify: ${n.tlsVerify}\r
`))}function x_(t,e){return(!t||t.startsWith("wsl+"))&&!e.VSCODE_DOCKER_HOST&&!e.DOCKER_HOST&&(!e.DOCKER_CONTEXT||e.DOCKER_CONTEXT==="default"||e.DOCKER_CONTEXT==="desktop-linux")}function Om(t,e){var r,o;let n;return uc(t)?n=(r=k3(t))==null?void 0:r.tunnelName:Tl(t)?n=(o=mx(t))==null?void 0:o.hostName:e&&("context"in e||e.host)&&(n="context"in e?e.context:e.host),n?` @ ${n}`:""}function dc(t){let{Name:e}=t;return e[0]==="/"?e.substring(1):e}async function ii(t,e){try{return await Ro(t,e)}catch{return}}async function w_(t){let{common:e}=t,{output:n}=e,r="Check Docker is running",o=n.start(r);try{let{stdout:i}=await KN(t,t.common.loadNativeModule,"version"),s=i.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s)}catch(i){console.error(i);let s=Um.t("Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed."),a=i&&(i.stderr?i.stderr.toString().toLowerCase():i.message)||"";throw a.indexOf("permission denied")!==-1?a.indexOf("ssh")!==-1?s=Um.t("Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction."):s=Um.t("Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group."):a.indexOf("ENOENT")!==-1&&(s=Um.t("The 'docker' command was not found. Make sure Docker is installed.")),new Ee({description:s,originalError:`Docker returned an error code ${i.code}, message: ${i.message}`})}finally{n.stop(r,o)}}async function KN(t,e,...n){let r={...Ri(t),print:"continuous"};try{return await qe(r,...n)}catch(o){if(!F3(o))throw o;let i="cliHost"in t?t.cliHost:t.common.cliHost,s="output"in t?t.output:t.common.output;if(i.type==="wsl"&&(i=await oo(process.cwd(),e,s)),i.platform==="linux")throw o;if(i.platform==="darwin"&&await i.isFolder("/Applications/Docker.app"))await ae({exec:i.exec,cmd:"open",args:["-g","-a","Docker"],env:{ELECTRON_RUN_AS_NODE:""},output:s,print:"continuous"});else{let a=Wpe(i);if(i.platform==="win32"&&await i.isFile(a))await ae({exec:i.exec,cmd:a,env:{ELECTRON_RUN_AS_NODE:""},output:"output"in t?t.output:t.common.output,print:"continuous"});else throw o}for(let a=6;a>0;a--){await Mr(5e3);try{return await qe(r,...n)}catch(c){if(a===1||!F3(c))throw c}}throw o}}function Wpe(t){return t.path.join(t.env.ProgramW6432||"C:\\Program Files","Docker\\Docker\\Docker Desktop.exe")}function F3(t){let e=Buffer.concat([t==null?void 0:t.stdout,t==null?void 0:t.stderr].filter(Boolean)).toString().toLowerCase();return e.includes("cannot connect to the docker daemon")||e.includes("docker daemon is not running")||e.includes("internal server error for api route and version")||e.includes("activate the wsl integration")}function on(t){return t.hostPath!==void 0}function so(t){return t.repositoryPath!==void 0}function sc(t){return!so(t)&&!!t.folder}function Ox(t){return!so(t)&&!sc(t)&&t.volumeName!==void 0}function Br(t){let e=$3("dev-container",t);if(e)return"unparsedConfig"in e?{parentAuthority:e.parentAuthority,hostPath:e.unparsedConfig}:"repositoryPath"in e?e.dockerHost?{parentAuthority:e.parentAuthority,repositoryPath:e.repositoryPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`},cloneInfo:e.cloneInfo}:e:("hostPath"in e&&e.configFile&&(e.configFile=_e.revive(e.configFile)),"hostPath"in e&&e.dockerHost?{parentAuthority:e.parentAuthority,hostPath:e.hostPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`}}:e)}function $x(t,e,n,r,o,i){t=JN(t);let s=r||i?JSON.stringify({hostPath:e,localDocker:o,settings:r,configFile:i}):e;return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${t?`@${t}`:""}${n}`}function us(t,e,n,r,o,i,s){if(t=JN(t),e){let c=si(e);if(!n){let u=JSON.stringify({repositoryPath:e,settings:i,cloneInfo:s,inspectVolume:o});return`vscode-remote://dev-container+${Buffer.from(u,"utf8").toString("hex")}${t?`@${t}`:""}${c.getOldWorkspacePath(e)}`}let l=JSON.stringify({repositoryPath:e,volumeName:n,folder:r,settings:i,cloneInfo:s,inspectVolume:o});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${t?`@${t}`:""}${c.workspaceFolder(r)}`}if(r){let c={volumeName:n,folder:r,settings:i};return`vscode-remote://dev-container+${Buffer.from(JSON.stringify(c),"utf8").toString("hex")}${t?`@${t}`:""}${Nx(r)}`}let a=JSON.stringify({volumeName:n,settings:i});return`vscode-remote://dev-container+${Buffer.from(a,"utf8").toString("hex")}${t?`@${t}`:""}${c_}`}function fc(t){let e=$3("attached-container",t);if(e)return"unparsedConfig"in e?{parentAuthority:e.parentAuthority,containerId:e.unparsedConfig}:(e.dockerHost&&(e.settings={host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`},delete e.dockerHost),e)}function M3(t,e,n,r){t=JN(t);let o=JSON.stringify({containerName:e,settings:n,cwd:r});return`attached-container+${Buffer.from(o,"utf8").toString("hex")}${t?`@${t}`:""}`}function $3(t,e){try{let n=y_(e);if(!n)return;let{name:r,config:o,parentAuthority:i}=n,s=r===t&&o?Buffer.from(o,"hex").toString("utf8"):void 0;if(!s)return;if(!s.startsWith("{"))return{parentAuthority:i,unparsedConfig:s};let a=JSON.parse(s);return a.parentAuthority=i,a}catch(n){console.warn(n);return}}function y_(t){let e=t==null?void 0:t.match(/^(?<name>[^@+]+)\+(?<config>[^@]+)(?:@(?<parentAuthority>.*))?$/);if(!e)return;let{name:n,config:r,parentAuthority:o}=e.groups;return{name:n,config:r,parentAuthority:o}}function zl(t,e){return kn(e.startsWith("/")?"linux":"win32",_e.parse(`vscode-remote://${t}`),e)}function JN(t){if(t){if(Tl(t)){let e=t.indexOf("@");if(e!==-1&&t.indexOf("+",e)===-1){let r=mx(t);return BR(r)}return t}if(uc(t))return t}}async function j3(t,e,n){return await Qv(t,e,n)||e}function H3(t,e,n){let r=t.path.relative(t.path.dirname(e),n);return`/workspaces/${t.platform==="win32"?r.replace(/\\/g,"/"):r}`}function YG(t,e){return t.with({path:Mx.posix.resolve(t.path,e)})}async function i_(t,e,n,r,o,i){let{common:s,onRemoveOnShutdownChanged:a}=t,c=s.output.start("Setup shutdown monitor"),l=await N3(r,s.getLogLevel(),s.extensionPath,s.output,s.logFilePath?Mx.dirname(s.logFilePath):void 0,s.sessionStart);g_(l,o,s.output).catch(p=>console.error(p)),a&&a(async p=>{o.rebuild=!!p,o.delay=0,await g_(l,o,s.output)}),s.onDidChangeLogLevel(async p=>{o.logLevel=p,await g_(l,o,s.output)});let u={},d=async()=>{let p=L3(l);u.hostPortServer&&await(0,U3.promisify)(u.hostPortServer.close.bind(u.hostPortServer))(),await p};s.shutdowns.push(d);let f=i?Zb(t.configurationTracking,e,n,i).catch(console.error):Promise.resolve();return s.output.stop("Setup shutdown monitor",c),{monitor:l,shutdownArgs:u,doneWithDocuments:f}}function Tm(t){return{environmentTunnels:t.Ports.filter(e=>!!e.PublicPort).map(e=>({remoteAddress:{port:e.PrivatePort,host:e.IP},localAddress:e.IP+":"+e.PublicPort}))}}async function km(t,e,n,r,o){var y;let{common:i}=t,s="Inspecting container",a=i.output.start(s),c=await Ro(t,e);i.output.stop(s,a);let l=r||c.Config.User||"root",[,u,,d]=/([^:]*)(:(.*))?/.exec(l),f=Ype(c.Config.Env),p=cs(t,e,l),m=await Ws(t,e,l,i.loadNativeModule),h=cs(t,e,"root"),v=c.Mounts.find(E=>E.Type==="volume"&&E.Name==="vscode"),g=c.Mounts.find(E=>E.Type==="bind"&&E.Source===i.localCacheFolder),w=v&&Mx.posix.join(v.Destination,/^\.*(.*)$/.exec(i.product.serverDataFolderName)[1])||(g==null?void 0:g.Destination),x=(y=c.Mounts.find(E=>E.Type==="bind"&&E.Destination.startsWith("/tmp/vscode-wayland-")))==null?void 0:y.Destination;return $b({params:i,createdAt:c.Created,startedAt:c.State.StartedAt,sharedDataFolder:w,sharedDataFolderIsLocalCacheFolder:!v&&!!g,remoteWorkspaceFolder:n,containerUser:u==="0"?"root":u,containerGroup:d,containerEnv:f,remoteExec:p,remotePtyExec:m,remoteExecAsRoot:h,rootShellServer:o,remoteWaylandSocket:x})}function Ype(t){return(t||[]).reduce((e,n)=>{let r=n.indexOf("=");return r!==-1&&(e[n.substr(0,r)]=n.substr(r+1)),e},{})}async function B3(t){let{common:e,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:o,dockerEnv:i}=t,{cliHost:s,output:a}=e;return{cliHost:s,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:o,env:i,output:a}}async function q3(t,e){return t.type==="local"&&e?t.path.join(e,"data"):t.path.join(await t.homedir(),".vscode-remote-containers","data")}function Rm(t,e,n,r,o,i,s,a,c){let l=!s;return async(u,d,f,p,m)=>{let{common:h}=t,{cliHost:v}=e,{dotfilesConfiguration:g}=h,w=p.getDotfileConfiguration("dotfiles.repository")||g.repository,x=p.getDotfileConfiguration("dotfiles.installCommand")||g.installCommand,y=p.getDotfileConfiguration("dotfiles.targetPath")||g.targetPath;l&&w&&(l=!1,await Pz(n));let E={...e.env,...xn(e.env)},T={cliHost:e.cliHost,dockerPath:e.dockerCLI,dockerComposePath:e.dockerComposePath,env:E,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,postCreate:h.postCreate,output:h.postCreate.output},k=h.postCreate.output.dimensions||h.output.dimensions,R=await ki(T,["run-user-commands",...e.cliHost.type==="local"&&h.persistedFolder?["--user-data-folder",h.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...h.containerSessionDataFolder?["--container-session-data-folder",h.containerSessionDataFolder]:[],...s?["--container-data-folder",Hs(t.common.product.serverDataFolderName)]:[],...s?["--container-system-data-folder",Hb(t.common.product.serverDataFolderName)]:[],...r?["--workspace-folder",r]:[],...(o||[]).map(b=>["--id-label",b]).flat(),"--container-id",i,"--log-level",yo(h.getLogLevel()),"--log-format","json",...a?["--config",Ie(a,v.platform)]:[],...c?["--override-config",Ie(c,v.platform)]:[],"--default-user-env-probe",h.defaultUserEnvProbe,"--skip-non-blocking-commands",String(u),...h.skipPostAttach?["--skip-post-attach"]:[],"--prebuild",String(f),"--stop-for-personalization",String(d),...[].concat(...Object.keys(m).map(b=>["--remote-env",`${b}=${m[b]}`])),"--mount-workspace-git-root",...k?["--terminal-columns",String(k.columns),"--terminal-rows",String(k.rows)]:[],...w?["--dotfiles-repository",w]:[],...x?["--dotfiles-install-command",x]:[],...y?["--dotfiles-target-path",y]:[]]);if((R==null?void 0:R.outcome)!=="success")throw new Ee({description:Um.t("devcontainer command failed: {0}",JSON.stringify(R))});return R.result}}async function Bl(t,e,n,r,o,i,s,a){let{cliHost:c,output:l}=t,u=await ki(t,["read-configuration",...t.dockerPath!=="docker"?["--docker-path",t.dockerPath]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...e?["--workspace-folder",e]:[],...(i||[]).map(d=>["--id-label",d]).flat(),...s?["--container-id",s]:[],"--log-level",yo(r),"--log-format","json",...n?["--config",Ie(n,c.platform)]:[],...a?["--override-config",Ie(a,c.platform)]:[],"--include-merged-configuration","--mount-workspace-git-root",...l.dimensions?["--terminal-columns",String(l.dimensions.columns),"--terminal-rows",String(l.dimensions.rows)]:[],...Object.keys(o).length>0?["--additional-features",JSON.stringify(o)]:[]]);return u.configuration.configFilePath=u.configuration.configFilePath&&_e.revive(u.configuration.configFilePath).with({scheme:c.type==="local"?"file":it.scheme}),u}async function T3(t,e,n,r){if(e&&n.workspaceMount)try{let o=A3(n.workspaceMount);if(o.type==="bind")return await r.shellServer.exec(`command -v git >/dev/null 2>&1 && cd '${o.target}' && test -d .git && test "$(stat -c %u .)" != "$(id -u)"`),t.cliHost.platform==="win32"?await ae({exec:t.cliHost.exec,cmd:"powershell",args:["-NoProfile","-NonInteractive","-Command",'if (-not (Get-Acl . | foreach { $_.Owner }).Equals("$env:UserDomain\\$env:UserName")) { exit 1 }'],cwd:o.source,output:t.output}):await ae({exec:t.cliHost.exec,cmd:"/bin/sh",args:["-c",`cd '${o.source}' && test "$(stat -${t.cliHost.platform==="darwin"?"f":"c"} %u .)" = "$(id -u)"`],output:t.output}),async()=>{await r.shellServer.exec(`git config --global --add safe.directory '${o.target}'`)}}catch{}}var Ht=G(require("vscode")),vi=require("vscode");var Z=G(require("vscode")),op=G(require("path"));var $m=G(require("vscode")),E_=G(require("path")),V3=require("stream");var Vpe=sb();async function Lo(t,e,n,r,o,i,s,a,c,l,u){return t?zpe(t,n,s,a,c,l):zV(e,n,r,o,i,s,a,c,l,u)}async function zpe({server:t,authority:e},n,r,o,i,s){var T,k,R,b,I,_,D,S;let a=await t.env();i.write(`Host OS: ${a.osPlatform}${a.osRelease?` ${a.osRelease}`:""}`),i.write(`Host CWD: ${n}`);let c=Gpe(()=>t,void 0),l=a.osPlatform,{homeFolder:u,localEnv:d}=await zn(l,{posix:async()=>{let C=await vn(c,i,void 0,l,"Host"),L=l==="darwin"?(await ae({exec:c,cmd:"/bin/sh",args:["-c","echo ~"],output:i})).stdout.toString().trim():(await C.exec("echo ~")).stdout.trim(),A=await Yd(C,await Il(C)),N=(A==null?void 0:A.shell)||"/bin/sh",B=await zd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:i},{shell:N,remoteExec:c});return C.process.terminate(),{homeFolder:L,localEnv:B}},win32:async()=>(i.write(`USERPROFILE: ${a.env.USERPROFILE}`),i.write(`PATH: ${a.env.PATH}`),{homeFolder:a.env.USERPROFILE,localEnv:a.env})})(),f=async C=>c({...C,env:{...d,...C.env}}),p=async C=>{if(!t.fs){let L=await t.fsStat(C);return L.exists&&L.type==="file"}try{return(await t.fs.stat(C)).type===$m.FileType.File}catch(L){if((L==null?void 0:L.code)==="FileNotFound"||(L==null?void 0:L.code)==="FileNotADirectory"||L!=null&&L.message.toLowerCase().includes("file not found"))return!1;throw L}},m=a.osPlatform==="win32",h=m?E_.win32:E_.posix,v=h.join(u,".vscode-remote-containers"),g=await Kz({localCacheFolder:r,output:i,alternateDownload:s,exec:f,env:d,isFile:p,userDataFolder:v,homeFolder:u,product:o,platform:l}),w=OV(g,f,i),x=n||u,y,E;return{type:"remote",authority:e,platform:l,exec:f,ptyExec:XV(f),cwd:x,env:d,path:h,async homedir(){return u},tmpdir:zn(l,{posix:async()=>d.TMPDIR||"/tmp",win32:async()=>d.TEMP}),isFile:p,isFolder:async C=>{if(!t.fs){let L=await t.fsStat(C);return L.exists&&L.type==="dir"}try{return(await t.fs.stat(C)).type===$m.FileType.Directory}catch(L){if((L==null?void 0:L.code)==="FileNotFound"||(L==null?void 0:L.code)==="FileNotADirectory"||L!=null&&L.message.toLowerCase().includes("file not found"))return!1;throw L}},isSocket:async C=>{if(m)return!1;try{return await ae({exec:f,cmd:"test",args:["-S",C],output:$e}),!0}catch(L){if((L==null?void 0:L.code)!==1)throw L;return!1}},readFile:(T=t.fs)!=null&&T.read?async C=>{let L=await t.fs.read(C),A=[];return L.onDidReceiveMessage(N=>A.push(N)),await L.onEnd,Buffer.concat(A)}:C=>HV(f,l,g,C,$e),writeFile:(k=t.fs)!=null&&k.write?async(C,L)=>{let{stream:A,done:N}=await t.fs.write(C);A.write(L),A.end(),await N}:(C,L)=>BV(f,l,g,C,L,$e),rename:(R=t.fs)!=null&&R.rename?async(C,L)=>t.fs.rename(C,L):(C,L)=>wb(f,l,C,L,$e),rm:(b=t.fs)!=null&&b.rm?async C=>t.fs.rm(C):(C,L)=>yb(f,l,C,L||{},$e),mkdirp:(I=t.fs)!=null&&I.mkdirp?async C=>t.fs.mkdirp(C):C=>Eb(f,l,C,$e),readDir:(_=t.fs)!=null&&_.readdir?async C=>(await t.fs.readdir(C)).map(A=>A.name):C=>qV(f,l,C,$e),readDirWithTypes:(D=t.fs)!=null&&D.readdir?async C=>(await t.fs.readdir(C)).map(A=>{let N=0;return A.type&$m.FileType.File&&(N|=1),A.type&$m.FileType.Directory&&(N|=2),A.type&$m.FileType.SymbolicLink&&(N|=64),[A.name,N]}):zn(l,{posix:async C=>{let L={f:1,"*":1,"/":2,"@":64};return(await ae({exec:f,cmd:"ls",args:["-aF",C],output:$e})).stdout.toString().trim().split(`
`).map(A=>"/*@=%|>".indexOf(A[A.length-1])!==-1?[A.substr(0,A.length-1),A[A.length-1]]:[A,"f"]).filter(([A])=>A!=="."&&A!=="..").map(([A,N])=>[A,L[N]||0])},win32:void 0}),getUsername:async()=>(y===void 0&&(y=await zn(l,{posix:async()=>(await ae({exec:f,cmd:"id",args:["-u","-n"],output:$e})).stdout.toString().trim(),win32:async()=>d.USERNAME})()),y),toCommonURI:()=>Promise.resolve(void 0),connect:pm((S=t.fs)!=null&&S.connect?C=>{if("port"in C&&!t.tcpConnect)return w(C);let L=(async()=>{let{stream:A}=await("port"in C?t.tcpConnect(C.host,C.port):t.fs.connect(C.socketPath));return Vpe.duplex(XN(A,A))})();return{sink:A=>{L.then(N=>N.sink(A),N=>A(N,()=>{})).catch(N=>i.write(`Connection forwarding to sink error: ${(N==null?void 0:N.stack)||(N==null?void 0:N.message)||String(N)}`))},source:(A,N)=>{L.then(B=>B.source(A,N),B=>N(B)).catch(B=>i.write(`Connection forwarding to source error: ${(B==null?void 0:B.stack)||(B==null?void 0:B.message)||String(B)}`))}}}:w,"Exec Server",i),locateCertificatesFile:function(){return E||(E=Db(this,void 0,i))},nodeExecutable:g,reconnect:async C=>{C&&(t=C)}}}function Gpe(t,e){return async function(n){let{cmd:r,args:o,output:i}=n,s=t(),a=`Run: ${r} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,c=i.start(a),l=n.cwd||e,u=await s.env(),d=n.env?{...u.env,...n.env}:u.env,f=await s.spawn(r,o||[],{cwd:l,env:d});return{stdin:Kpe(f.stdin),stdout:W3(f.stdout),stderr:W3(f.stderr),exit:Promise.all([f.onExit,f.stdout.onEnd,f.stderr.onEnd]).then(([{status:p}])=>(i.stop(a,c),{code:p,signal:null})).catch(p=>{throw i.stop(a,c),p!=null&&p.message.includes("NotFound")&&(p.code="ENOENT"),p}),async terminate(){}}}}function W3(t){return XN(void 0,t)}function Kpe(t){return XN(t,void 0)}function XN(t,e){let n=new V3.Stream,r=!1;if(t&&(n.writable=!0,n.write=function(o,i,s){s=Array.from(arguments).find(c=>typeof c=="function");let a;try{t.write(o)}catch(c){a=c,setImmediate(()=>n.emit("error",c))}return s&&s(a),!0},n.end=function(o,i,s){s=Array.from(arguments).find(a=>typeof a=="function"),typeof o=="function"&&(o=void 0);try{o&&t.write(o),r=!0,t.end()}catch(a){setImmediate(()=>n.emit("error",a))}return s&&s(),this}),e){let c=function(){for(;i.length&&!n.paused;)n.emit("data",i.shift());!n.paused&&o&&n.emit("end")},o=!1;n.readable=!0,n.paused=!0;let i=[];(e.onDidReceiveMessage||e.onData)(l=>{let u=Buffer.from(l);n.paused?i.push(u):n.emit("data",u)}),e.onEnd.then(()=>{o=!0,n.paused||n.emit("end")});let s=n.on.bind(n);n.on=(l,u)=>{let d=s(l,u);return l==="data"&&n.paused&&setImmediate(n.resume.bind(n)),d};let a=n.pipe.bind(n);n.pipe=function(l,u){let d=a(l,u);return n.paused&&n.resume(),d},n.pause=function(){return n.paused=!0,n},n.resume=function(){return n.paused=!1,c(),n}}return n.destroy=function(o){return t&&!r&&(r=!0,n.end()),o&&n.emit("error",o),n.emit("close"),this},n}var UJ=G(N7()),sd=G(CJ());var bJ=G(require("vscode"));function bn(t){let e=bJ.workspace.getConfiguration(),n=Za(t),r=e.get(n),o=_l(t),i=e.get(o);if(i!=null&&i!==r){let s=e.inspect(n);if(!s||s.globalValue===void 0&&s.workspaceValue===void 0&&s.workspaceFolderValue===void 0)return i}return r}function O1(t,e){return t.affectsConfiguration(Za(e))||t.affectsConfiguration(_l(e))}var wg=G(require("path"));var _J=G(require("os")),dn=G(require("vscode")),tp=require("vscode");async function Z0(){await dn.window.showInformationMessage(tp.l10n.t("You need to first save your workspace in a folder containing all its workspace folders."),{modal:!0})}var Jc="{.devcontainer.json,.devcontainer/devcontainer.json,.devcontainer/*/devcontainer.json}";async function SJ(){return dn.workspace.findFiles(Jc)}async function np(t,e){let n;if(t.length>1){let r=dn.window.createQuickPick();r.placeholder=tp.l10n.t("Select a devcontainer.json file."),r.busy=!0,r.enabled=!1,r.show(),r.items=(await Promise.all(t.map(async i=>{let s=i.uri,a=i.fileHost.path,c=i.fileHost.platform,l=Ie(s,c),u=Ge((await i.fileHost.readFile(l)).toString())||{},d,f,p=a.dirname(l),m=a.dirname(p);a.basename(p)===".devcontainer"?(d=tp.l10n.t("Main"),f=m):a.basename(m)===".devcontainer"?(d=a.basename(p),f=a.dirname(m)):(d=tp.l10n.t("Project Root"),f=p);let h=u.name||d,v=i.type==="repositoryConfig"||i.type==="userData"?by(c,l,_J.homedir()):a.relative(f,l);return{label:h,description:v+(s.toString()===(e==null?void 0:e.toString())?` ${tp.l10n.t(" (Current)")}`:""),uri:s,buttons:[{iconPath:new dn.ThemeIcon("go-to-file"),tooltip:tp.l10n.t("Open File")}]}}))).sort((i,s)=>{let a=wg.posix.dirname(i.uri.path),c=wg.posix.dirname(s.uri.path);return a!==c?a.localeCompare(c):i.label.localeCompare(s.label)}),r.busy=!1,r.enabled=!0;let o=await new Promise(i=>{r.onDidAccept(()=>i(r.selectedItems[0])),r.onDidHide(()=>i(void 0)),r.onDidTriggerItemButton(({item:s})=>{dn.commands.executeCommand("vscode.open",s.uri),i(void 0)})});r.dispose(),n=o?_e.from(o.uri):"cancelled"}else t.length===1&&(n=t[0].uri);return n}function by(t,e,n){if(t==="win32")return e;let r=`${zwe(n,"/")}/`;return(t==="linux"?e.startsWith(r):e.toLowerCase().startsWith(r.toLowerCase()))&&(e=`~/${e.substr(r.length)}`),e}function zwe(t,e){if(e.length===0)return t;for(;t.endsWith(e);)t=t.substr(0,t.length-e.length);return t}function Ia(t,e){let n=dn.workspace.fs;return{platform:t,path:t==="win32"?wg.win32:wg.posix,async isFile(r){try{return((await n.stat(kn(t,e,r))).type&dn.FileType.File)!==0}catch(o){if((o==null?void 0:o.code)==="FileNotFound"||(o==null?void 0:o.code)==="FileNotADirectory")return!1;throw o}},async isFolder(r){try{return((await n.stat(kn(t,e,r))).type&dn.FileType.Directory)!==0}catch(o){if((o==null?void 0:o.code)==="FileNotFound"||(o==null?void 0:o.code)==="FileNotADirectory")return!1;throw o}},async readFile(r){try{let o=await n.readFile(kn(t,e,r));return Buffer.from(o)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let i=new Error(`Could not read file: ${r}`);throw i.originalError=o,i.code="ENOENT",i}throw o}},async rename(r,o){try{let i=kn(t,e,r),s=kn(t,e,o);await n.rename(i,s)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let s=new Error(`Could not rename  ${r} -> ${o}`);throw s.originalError=i,s.code="ENOENT",s}throw i}},async rm(r,o){try{let i=kn(t,e,r);await n.delete(i,{recursive:o.recursive})}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let s=new Error(`Could not remove ${r}`);throw s.originalError=i,s.code="ENOENT",s}throw i}},async writeFile(r,o){await n.writeFile(kn(t,e,r),o)},async readDir(r){return(await n.readDirectory(kn(t,e,r))).map(i=>i[0])},async readDirWithTypes(r){return n.readDirectory(kn(t,e,r))},async mkdirp(r){await n.createDirectory(kn(t,e,r))},async toCommonURI(r){return kn(t,e,r)}}}var Cy=class{async readDocument(e){try{let n=dn.workspace.textDocuments.find(o=>o.uri.toString()===e.toString());if(n)return n.getText();let r=await dn.workspace.fs.readFile(e);return Buffer.from(r).toString()}catch{return}}async applyEdits(e,n,r){let o=dn.workspace.textDocuments.find(s=>s.uri.toString()===e.toString());if(o){let s=new dn.WorkspaceEdit;for(let a of n){let c=o.positionAt(a.offset),l=o.positionAt(a.offset+a.length);s.replace(e,new dn.Range(c,l),a.content)}if(await dn.workspace.applyEdit(s))return}let i=wo(r,n);await dn.workspace.fs.writeFile(e,Buffer.from(i))}};function _y(t){var o,i;let e=((o=/\r?\n/.exec(t))==null?void 0:o[0])||`
`,n=((i=/^\t|^ +/m.exec(t))==null?void 0:i[0])||"	",r=n[0]===" ";return{eol:e,insertSpaces:r,tabSize:r?n.length:void 0}}function Q0(){let t=bn("logLevel")||"debug";return sE(t)}var Ke=require("vscode");var Sy=G(Tr());var eI=G(av()),DJ=G(require("url"));function tI(t,e){return new Promise((n,r)=>{let o=new DJ.URL(t.url),i={hostname:o.hostname,port:o.port,path:o.pathname+o.search,method:t.type,headers:t.headers},s=(o.protocol==="https:"?eI.https:eI.http).request(i,a=>{if(a.statusCode<200||a.statusCode>299)r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),e&&e.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,5);else{a.on("error",r);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>n(Buffer.concat(c)))}});s.on("error",r),t.data&&s.write(t.data),s.end()})}async function yg(t,e,n,r){var c;let o=await Jwe(e,t.output),i=Object.keys(n.features||{}).map(l=>{let u=Gwe(o,l);return u?{configFeatureId:l,disallowedFeatureEntry:u}:void 0}).filter(Boolean);if(!i.length)return;let s=!1;if(r){let l=await Nm(t,r);((c=l==null?void 0:l.State)==null?void 0:c.Status)==="running"&&(await qe(t,"stop","-t","0",l.Id),s=!0)}let a=i[0];throw new Ee({description:s?Sy.t("Cannot use the '{0}' feature since it was reported to be problematic. The existing dev container was stopped.",a.configFeatureId):Sy.t("Cannot use the '{0}' feature since it was reported to be problematic.",a.configFeatureId),detail:Sy.t("Please remove this feature from your devcontainer.json and rebuild the dev container before continuing."),data:{learnMoreUrl:a.disallowedFeatureEntry.documentationURL,reload:!1}})}function Gwe(t,e){return t.disallowedFeatures.find(n=>e.startsWith(n.featureIdPrefix)&&(e.length===n.featureIdPrefix.length||"/:@".indexOf(e[n.featureIdPrefix.length])!==-1))}var IJ="devcontainers.controlManifest",Kwe=5*60*1e3;async function Jwe(t,e){let n=t.get(IJ);return n&&Date.parse(n.timestamp)+Kwe>Date.now()?n.manifest:Xwe(t,n==null?void 0:n.manifest,e)}async function Xwe(t,e,n){let r;try{r=await Zwe()}catch(o){n.write(Sy.t("Failed to fetch control manifest: {0}",o.message)),r=e||{disallowedFeatures:[]}}return t.update(IJ,{timestamp:new Date().toISOString(),manifest:r}),r}async function Zwe(){let t=await tI({type:"GET",url:"https://containers.dev/static/devcontainer-control-manifest.json",headers:{"user-agent":"devcontainers-vscode",accept:"application/json"}}),e=Ge(t.toString())||{};return Array.isArray(e.disallowedFeatures)?e.disallowedFeatures=e.disallowedFeatures.filter(n=>typeof n.featureIdPrefix=="string"):e.disallowedFeatures=[],e}var PJ=G(require("crypto"));var nI=G(require("vscode"));async function rI(t,e,n){let r=await F1(t,e,n);return r?nI.workspace.findFiles(new nI.RelativePattern(await t.toCommonURI(r),Jc)):[]}var oI=".devcontainer-internal.json";async function F1(t,e,n){let r=U1(t,e,n),o=t.path.basename(r),i=t.path.dirname(r),s=await t.isFolder(i)?await t.readDir(i):[];for(let a of s)if(a===o||a.startsWith(`${o}-`)&&!isNaN(Number(a.substring(o.length+1)))){let c=t.path.join(i,a),l=t.path.join(c,oI);if(await t.isFile(l)){let u=Ge((await t.readFile(l)).toString());if((u==null?void 0:u.rootFolder)===e.rootFolderPath)return c}}}function TJ(t,e,n){return`${U1(t,e,n)}-${PJ.randomUUID()}`}async function kJ(t,e,n,r){let o=`// Maintained by the Dev Container extension
${JSON.stringify({rootFolder:e.rootFolderPath},void 0,"	")}`;await t.writeFile(t.path.join(r,oI),Buffer.from(o));let i=U1(t,e,n),s;for(let a=1;;a++)if(s=a>1?`${i}-${a}`:i,!await t.isFolder(s)){await t.rename(r,s);break}return s}function U1(t,e,n){return t.path.join(n,"configs",t.path.basename(e.rootFolderPath))}async function RJ(t,e){await t.rm(e,{recursive:!0})}var Tt="remote-containers.revealLogTerminal",W1="remote-containers.revealPostCreateTerminal",ip="remote-containers.openDevContainerFile",MJ="remote-containers.openRepositoryInVolume",sI="remote-containers.openRepositoryInUniqueVolume",$J="remote-containers.openRepositoryFromRemoteHubWithEditSession",jJ="remote-containers.openRepositoryFromGitWithEditSession",HJ="remote-containers.openPullRequestInVolume",NJ=new oE,ho={onRemoveOnShutdownChangedEmitter:NJ,onRemoveOnShutdownChanged:NJ.event,results:new Map},rp,Bn=t=>Em(t,Z.env.appRoot);function aI(t,e,n,r,o){return async(i,s)=>{Z.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0);let a=Z.env.remoteAuthority;if(s.resolveAttempt>1){let c=n.get(a);if(!c)throw new Error("Reconnect attempt without old result.");let l=Ke.l10n.t("Reconnection attempt {0}",s.resolveAttempt-1),u=t.log.start(l),{cliHost:d}=c.params;if(d.reconnect)try{await d.reconnect(s.execServer)}catch(f){throw t.log.write(Dt(String(f&&(f.stack||f.message)||f))),Z.RemoteAuthorityResolverError.TemporarilyNotAvailable(Ke.l10n.t("Cannot reconnect to remote host."))}if(c.dockerContainerId){let f=await ii(c.dockerParams,c.dockerContainerId);if(!f)throw Z.RemoteAuthorityResolverError.NotAvailable(Ke.l10n.t("Container no longer exists."));if(f.State.Status==="paused")throw Z.RemoteAuthorityResolverError.TemporarilyNotAvailable(Ke.l10n.t("Container is paused."));if(f.State.Status!=="running")throw Z.RemoteAuthorityResolverError.NotAvailable(Ke.l10n.t("Container is no longer running."))}return t.log.stop(l,u),{...c.resolvedAuthority,isTrusted:c.isTrusted}}else{let c=Ke.l10n.t("Resolving Remote"),l=t.log.start(c),u=await o(a,s,t,e);return Qwe(u.params,u.properties).catch(d=>{}),n.set(a,u),r(),t.log.stop(c,l),Z.window.withProgress({location:Z.ProgressLocation.Window,title:Eye,cancellable:!1},async d=>{await Gz(u.params.backgroundTasks)}).then(void 0,d=>{t.log.write(Dt(String(d&&(d.stack||d.message)||d)))}),{...u.resolvedAuthority,...u.tunnelInformation,isTrusted:u.isTrusted}}}}async function Qwe(t,e){if(!e.nodeExecutable)return;let n=await ot(op.join(t.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:r}=await nc(t,e,[e.nodeExecutable,"-e",n],void 0,{silent:!0}),o=r.toString().trim();t.sendTelemetryEvent("extraInfo",{remoteCloud:o})}var M1;async function cI(t){return M1||(M1=$l(op.join(__dirname,"..",".."),sp,t)),M1}var Dy={};async function sp(t,e=!0){var n;if(t.counter&&((n=Dy[t.prompt])==null?void 0:n.from)===t.counter&&delete Dy[t.prompt],!Dy[t.prompt]){if(!e)return"";Dy[t.prompt]={result:Promise.resolve(Z.window.showInputBox({prompt:t.prompt||Ke.l10n.t("Enter password"),password:!0,ignoreFocusOut:!0}).then(r=>r||"")),from:t.counter}}return Dy[t.prompt].result}async function st(t,e,n,r=!0,o=cI(e),i=!0){var w;let s=!n;if(s){if(ho.results.size){let x=[...ho.results.values()].filter(y=>y.dockerParams)[0];return B3(x.dockerParams)}if(rp)return rp}n&&typeof n!="string"&&"scheme"in n&&(n.scheme==="file"?n=n.fsPath:n=gm(n));let a,c;if(!n){let x=(Z.workspace.workspaceFolders||[])[0];if(Z.env.remoteName==="wsl")x?n=gm(x.uri):n={wslDistro:vb(Z.env.remoteAuthority),wslPath:"/"};else if(Z.env.remoteName==="ssh-remote"){if(c=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority),!c){let y=mx(Z.env.remoteAuthority);if(y){let{user:E,hostName:T,port:k}=y;a={host:`ssh://${E?`${E}@`:""}${T}${k?`:${k}`:""}`}}}(c||a)&&(x?n=x.uri.path:n="/")}else Z.env.remoteName==="tunnel"?(c=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority),x?n=x.uri.path:n="/"):Z.env.remoteName==="attached-container"?a=(w=fc(Z.env.remoteAuthority))==null?void 0:w.settings:(x==null?void 0:x.uri.scheme)==="file"&&(n=x.uri.fsPath);n||(n=process.cwd())}let l=a&&"host"in a&&a.host||void 0,u=r?Ta():{executeInWSL:"never",defaultDistro:void 0},d=await tx(Z.env.appRoot),f=Lo(c?{server:c,authority:Z.env.remoteAuthority}:void 0,l,n,Bn,u,t.extensionPath,await ko(),d,e,Ts,{sshAskpassEnv:o,settings:Cg()});i&&!await Promise.race([f,Mr(1e3)])&&await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:`[${Ke.l10n.t("Setting up Dev Containers (show log)")}](command:${Tt} "${Ke.l10n.t("Show details in terminal")}")`,cancellable:!1},async()=>{await f});let p=await f,m=Ps(),h=Pa();if(!a){let x=Z.workspace.getConfiguration("docker"),y=x.get("environment")||{},E=y.DOCKER_CONTEXT||x.get("context")||p.env.DOCKER_CONTEXT;if(!E){let T={cliHost:p,dockerCLI:m,dockerComposeCLI:Ys({exec:p.exec,env:{},output:$e},m,h),dockerComposePath:h,env:{},output:$e};E=await PN(T)||"default"}E&&E!=="default"?a={context:E}:(a={...ar(p.env),...["host","certPath","tlsVerify"].reduce((T,k)=>eye(T,x,k),{}),...ar(y)},Object.keys(a).length||(a=void 0))}let v={...await o,...await Mm(p,a)},g={cliHost:p,dockerCLI:m,dockerComposeCLI:Ys({exec:p.exec,env:v,output:e},m,h),dockerComposePath:h,env:v,output:e};return s&&(rp=g,Y1(t,d)),g}async function BJ(){if(!Z.env.remoteName||Z.env.remoteName==="test")return process.platform;if(Z.env.remoteName==="ssh-remote"||Z.env.remoteName==="tunnel"){let t=await Z.workspace.getRemoteExecServer(Z.env.remoteAuthority);if(t)return(await t.env()).osPlatform}return"linux"}var iI;function Y1(t,e){if(iI)return iI;let n=rye(t,e);return t.subscriptions.push(n),t.subscriptions.push(n.event(()=>{let r=rp==null?void 0:rp.cliHost;rp=void 0,r!=null&&r.terminate&&r.terminate()})),iI=n.event,iI}function eye(t,e,n){let r=e.get(n);return r&&(t[n]=r),t}var tye=["docker.context","docker.host","docker.certPath","docker.tlsVerify","docker.environment"],nye=["dockerPath","dockerComposePath","executeInWSL","executeInWSLDistro"];function rye(t,e){let n=new Z.EventEmitter,r=Z.workspace.onDidChangeConfiguration(async l=>{(tye.some(u=>l.affectsConfiguration(u))||nye.some(u=>O1(l,u)))&&n.fire()}),o,i,s,a=()=>{(async()=>{i||(i=await Lo(void 0,void 0,process.cwd(),Bn,Ta(),t.extensionPath,await ko(),e,$e,Ts));let l={cliHost:i,dockerCLI:Ps(),dockerComposeCLI:Ys({exec:i.exec,env:{},output:$e},Ps(),Pa()),dockerComposePath:Pa(),env:{},output:$e},u=await PN(l);u===void 0?s=setTimeout(a,2*60*1e3):(u!==o&&(o!==void 0&&n.fire(),o=u),s=setTimeout(a,2*1e3))})().catch(console.error)};a();let c=n.dispose;return n.dispose=()=>{r.dispose(),s&&clearTimeout(s),c.call(n)},n}function ap(){let t=Z.workspace.workspaceFolders;if((t==null?void 0:t.length)===1){let e=t[0].uri;return V1(e)}return null}function V1(t){if(t&&t.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(t.authority)){let n=Br(t.authority);if(on(n))return null;if(so(n)&&n.inspectVolume&&n.inspectVolume===!0)return n}return null}function lI(t){return{getConfigurationState:()=>t.get("configurationState"),updateConfigurationState:async e=>t.update("configurationState",e),containerOutdated:oye}}async function oye(t){let e="Rebuild",n="Ignore",r=await Z.window.showInformationMessage(Ke.l10n.t("Configuration file(s) changed: {0}. The container might need to be rebuilt to apply the changes.",t.join(", ")),e,n);if(r===e)return Z.commands.executeCommand("remote-containers.rebuildContainer");if(r===n)return"ignore"}var qJ="localExtensions";async function WJ(t){if(Z.env.remoteName)return;let e=Z.extensions.all.filter(n=>!n.packageJSON.isBuiltin).map(n=>n.id);await t.globalState.update(qJ,e)}var iye=["GitHub.copilot","GitHub.copilot-chat","GitHub.vscode-pull-request-github"];function sye(t,e){if(e)return LJ();let n=new Set(t.globalState.get(qJ)||[]),r=(bn("defaultExtensionsIfInstalledLocally")||iye).filter(o=>n.has(o));return Array.from(new Set([...r,...bn("defaultExtensions")||[],...LJ()]))}function YJ(){return bn("defaultFeatures")||{}}function LJ(){let t=Z.env.language,e=t.indexOf("-"),n=AJ(t)||(e!==-1?AJ(t.substr(0,e)):void 0);return n?[n]:[]}function AJ(t){let e=t.toLowerCase();return Z.extensions.all.filter(n=>{var o;let r=n.packageJSON&&n.packageJSON.contributes;return(o=r==null?void 0:r.localizations)!=null&&o.length?!!r.localizations.find(i=>{var s;return((s=i==null?void 0:i.languageId)==null?void 0:s.toLowerCase())===e}):!1}).map(n=>n.id)[0]}function OJ(){return!!Z.workspace.getConfiguration().get("workbench.enableExperiments")}function aye(){return!!bn("enableWebAccess")}function uI(){return bn("workspaceMountConsistency")||"cached"}function dI(){return bn("cacheVolume")??!0}function cye(){let t=bn("copyGitConfig");return typeof t=="boolean"?t:!0}function lye(){return bn("gitCredentialHelperConfigLocation")||"global"}function uye(){let t=bn("dockerCredentialHelper");return typeof t=="boolean"?t:!0}function dye(){let t=bn("mountWaylandSocket");return typeof t=="boolean"?t:!0}function Ps(){return bn("dockerPath")||"docker"}function Ta(){return{executeInWSL:z1(),defaultDistro:G1()}}function z1(){return process.platform!=="win32"?"never":bn("executeInWSL")?"always":"forWSLPath"}function G1(){if(process.platform==="win32")return bn("executeInWSLDistro")||void 0}function fye(){return process.platform==="win32"&&bn("forwardWSLServices")!==!1}function Pa(){return bn("dockerComposePath")||"docker-compose"}function fI(){return bn("experimentalLockfile")||!1}function Eg(){let t=bn("logLevel")||"debug";return sE(t)}var pye=t=>Z.workspace.onDidChangeConfiguration(e=>{O1(e,"logLevel")&&t(Eg())});function mye(){let t=Z.workspace.getConfiguration(),e=n=>(t.get(_l(n),"")||t.get(n,"")).trim();return{repository:e("dotfiles.repository")||void 0,installCommand:e("dotfiles.installCommand")||void 0,targetPath:e("dotfiles.targetPath")||"~/dotfiles"}}function Cg(){let t=Z.workspace.getConfiguration();return{executablePath:t.get("remote.SSH.path"),executableArgs:Eg()===1?["-v"]:void 0,configFilePath:t.get("remote.SSH.configFile")}}function Xc(t,e,n,r,o,i,s,a,c){var f,p;let l={resolver:e,outcome:n};if(o){l.hostType=o.cliHost.type;let m=o.cliHost.authority;if(m){let h=m.indexOf("+");h!==-1&&(l.hostAuthority=m.substring(0,h))}}if(i){l.configProperties=JSON.stringify(Object.keys(i)),l.configExtensions=JSON.stringify(((p=(f=i.customizations)==null?void 0:f.vscode)==null?void 0:p.extensions)||[]);let m="ghcr.io/devcontainers/features/";l.configFeatures=JSON.stringify(Object.keys(i.features||{}).map(h=>h.startsWith(m)?`devcontainers-features:${h.substring(m.length)}`:h)),"image"in i?l.configType="image":To(i)?l.configType="dockerfile":"dockerComposeFile"in i&&(l.configType="dockerCompose")}s&&(l.configLocation=s),a&&(l.hardwareId=a.osRelease.hardware,l.osReleaseId=a.osRelease.id,l.osReleaseVersion=a.osRelease.version);let u=c&&c.originalError,d=u&&(u.stack||u.message||String(u))||c&&c.description;d&&(l.errorMessage=d),c!=null&&c.step&&(l.step=c.step),t.sendTelemetryEvent("resolver",l,{sessionTimeInMs:Date.now()-r.getTime()})}var $1=class{constructor(e){this.onClose=e}writeEmitter=new Z.EventEmitter;onDidWrite=this.writeEmitter.event;inputEmitter=new Z.EventEmitter;onDidInput=this.inputEmitter.event;queue=[];ready=!1;open(){this.ready=!0,this.queue.forEach(e=>this.writeEmitter.fire(e))}close(){this.ready=!1,this.onClose()}write(e){this.queue.push(e),this.ready&&this.writeEmitter.fire(e)}handleInput(e){this.inputEmitter.fire(e)}},Iy=class{constructor(e,n,r=void 0){this.sessionStart=n;let o=i=>{this.outputTerminal.write(i),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=e?op.join(e,`remoteContainers-${n.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=hye(o,Eg,this.logFilePath,n,r),Object.defineProperty(this.log,"dimensions",{get:()=>{var i;return(i=this._terminal)==null?void 0:i.dimensions}}),this.log.onDidChangeDimensions=i=>Z.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&i(s.dimensions)})}_terminal;outputTerminal=new $1(()=>this._terminal=void 0);onDidInput=this.outputTerminal.onDidInput;_name=Ke.l10n.t("Dev Containers");_revealOnNextOutput=!1;log;logFilePath;get name(){return this._name}set name(e){this._name=e}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(e){this._revealOnNextOutput=e}show(){this._terminal||(this._terminal=Z.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function hye(t,e,n,r,o=void 0){let i=[];return n&&i.push(hM(n,()=>Math.min(2,e()))),i.push(gM(t,e,r)),i.push(gye()),eo(mM(i,o))}function gye(){return{event(t){t.type==="notification"&&Z.window.showInformationMessage(t.message,Ke.l10n.t("Dismiss"))}}}async function K1(t,e){let n=await ii(t,e.Id);if(n&&n.State.Status==="running")try{await qe(t,"stop",n.Id)}catch(r){Z.window.showErrorMessage(Ke.l10n.t("Error stopping container: {0}",r.message))}}async function pI(t,e){let n=await ii(t,e.Id);if(n&&n.State.Status!=="running")try{await qe(t,"start",n.Id)}catch(r){Z.window.showErrorMessage(Ke.l10n.t("Error starting container: {0}",r.message))}}async function VJ(t,e){try{await qe(t,"rm",e)}catch(n){Z.window.showErrorMessage(Ke.l10n.t("Error removing container: {0}",n.message))}}async function J1(t,e){try{await qe(t,"volume","rm","--force",e)}catch(n){Z.window.showErrorMessage(Ke.l10n.t("Error removing volume: {0}",n.message))}}function vye(){return Z.env.sessionId!=="someValue.sessionId"?Z.env.sessionId:`${Z.env.sessionId}_${Date.now()}`}function xye(t,e){let n=Z.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:t.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:e,tildify:!0}});t.shutdowns.push(n.dispose.bind(n))}async function zJ(t,e){if(t.globalState.get("removeOnStartup")===e)return await t.globalState.update("removeOnStartup",null),!0;let n=t.workspaceState.get("removeOnStartup",!1);return n&&await t.workspaceState.update("removeOnStartup",null),n}async function GJ(t,e){await t.workspaceState.update("removeOnStartup",e)}async function X1(t,e){await t.globalState.update("removeOnStartup",e)}async function KJ(t,e){return t.globalState.get("buildNoCache")===e?(await t.globalState.update("buildNoCache",null),!0):!1}async function Py(t,e){await t.globalState.update("buildNoCache",e)}async function bg(t,e,n,r,o){await t.globalState.update("openEditorsOnStartup",{workspaceFolder:e,fileWithError:n==null?void 0:n.toString(),logFile:r,openLog:o})}async function JJ(t){var n;let e=t.globalState.get("openEditorsOnStartup");if(e){await t.globalState.update("openEditorsOnStartup",void 0);let r=(n=Z.workspace.workspaceFolders)==null?void 0:n.some(i=>i.uri.fsPath===e.workspaceFolder||i.uri.path===e.workspaceFolder),o=await ap();if(r||o&&o.repositoryPath===e.workspaceFolder&&(r=!0),r){let i=e.fileWithError?_e.parse(e.fileWithError):void 0;if(e.openLog==="onTheSide"&&await FJ(i),e.openLog&&e.logFile){let s={viewColumn:e.openLog==="onTheSide"?Z.ViewColumn.Beside:Z.ViewColumn.One,preserveFocus:!0},a=await Z.window.showTextDocument(Z.Uri.file(e.logFile),s),c=new Z.Position(a.document.lineCount-1,0);a.selection=new Z.Selection(c,c),a.revealRange(a.selection)}return e.openLog!=="onTheSide"&&await FJ(i),!0}}return!1}function XJ(t){return[`vscode-remote:/workspaces/${t}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${t}/.devcontainer.json`]}async function FJ(t){return t?Z.commands.executeCommand("vscode.open",Z.Uri.parse(t.toString()),{viewColumn:Z.ViewColumn.One}):Z.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:Z.ViewColumn.One})}async function mI(t,e,n,r){return!r&&ho.results.size?[...ho.results.values()].filter(o=>o.config).map(o=>({type:o.configLocationType||"unknown",uri:o.configWorkspaceURI||o.config.configFilePath,fileHost:t})):(await Promise.all([!r||r==="workspace"?Z.workspace.findFiles(Jc).then(o=>o.map(i=>({type:"workspace",uri:i,fileHost:t}))):[],!r||r==="repositoryConfig"?Z1(t,e).then(o=>o.map(i=>({type:"repositoryConfig",uri:i,fileHost:Ia(process.platform,i.with({path:op.posix.dirname(i.path)}))}))):[],n&&(!r||r==="userData")?rI(t,e,n).then(o=>o.map(i=>({type:"userData",uri:i,fileHost:t}))):[]])).flat()}async function Z1(t,e){let n=Ty();if(n.length){let r=await KC(t,e,$e);if(r!=null&&r.length){let o=s_(r,n);return(await Promise.all(o.map(s=>Z.workspace.findFiles(new Z.RelativePattern(_e.file(s),Jc))))).flat()}}return[]}function Ty(){return bn("repositoryConfigurationPaths")||[]}async function Zc(t,e){if(e.type==="local")return t.globalStoragePath}async function wye(t,e,n="localhost"){await Z.workspace.openTunnel({remoteAddress:{host:n,port:e}})}function ZJ(t,e){let n=new Iy(void 0,e);n.name=Ke.l10n.t("Configuring..."),n.revealOnNextOutput=!0;let r=!1;n.onDidInput(()=>{r&&(r=!1,n.dispose())});let o,i={enabled:!0,skipNonBlocking:!1,output:tz(n.log,"postCreate",t),onDidInput:n.onDidInput,done:()=>{n.shown&&(n.log.raw(`\x1B[1m${Ke.l10n.t("Done. Press any key to close the terminal.")}\x1B[0m`),r=!0),o()},promise:new Promise(s=>o=s)};return{channel:n,postCreate:i}}async function _g(t){let{authority:e,extensionContext:n,sessionStart:r,progress:o,cliHost:i,env:s,cwd:a,wslSettings:c,isLocalContainer:l,telemetry:u,output:d,logFilePath:f,allowSystemConfigChange:p,postCreate:m}=t,h=aye(),v=vye(),g=await ko(),w;if(i.type!=="wsl"&&fye())try{w=await xb(void 0,c,n.extensionPath,g,u.product,Bn,d,Ts)}catch(y){d.write("Could not connect to WSL."),d.write((y==null?void 0:y.message)||String(y)),y!=null&&y.stdout&&d.write(y.stdout.toString()),y!=null&&y.stderr&&d.write(y.stderr.toString())}let x={computeExtensionHostEnv:!0,...u,appRoot:Z.env.appRoot,localCacheFolder:g,containerSessionDataFolder:op.posix.join("/tmp",`devcontainers-${v}`),extensionPath:n.extensionPath,sessionId:v,sessionStart:r,authority:e,cliHost:i,env:s,cwd:a,isLocalContainer:l,getAdditionalExtensionsToInstall:sye.bind(void 0,n),additionalFeaturesToInstall:YJ(),isCopyGitConfigEnabled:cye(),credentialHelperConfigLocation:lye(),isDockerCredentialHelperEnabled:uye(),dotfilesConfiguration:mye(),progress:_ye(o),output:d,logFilePath:f,allowSystemConfigChange:p,defaultUserEnvProbe:"loginInteractiveShell",postCreate:m,getTelemetryLevel:()=>u.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:Eg,onDidChangeLogLevel:pye,loadNativeModule:Bn,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:y=>xye(x,y),openTunnel:wye,getTunnels:()=>Promise.resolve(Z.workspace.tunnels),onAdoptProcess:Z.window.onDidOpenTerminal,persistedFolder:await q3(i,n.globalStoragePath),alternateDownload:Ts,skipPostAttach:!1,wslCLIHost:w,localWaylandSocket:l?await yye(i,w,d):void 0,globalState:n.globalState};return x}async function yye(t,e,n){if(!dye())return;let r=await UR(t);if(r)return r;let o=e&&await UR(e);if(o)return jV(e,o,n)}async function Ts(t,e){let n=await Z.commands.executeCommand("_workbench.downloadResource",Z.Uri.parse(t));if(!n)throw new Ee({description:Ke.l10n.t("Downloading the VS Code Server failed. Please try again later.")});await nl(n.fsPath,e)}var Sg=`[${Ke.l10n.t("Starting Dev Container (show log)")}](command:${Tt} "${Ke.l10n.t("Show details in terminal")}")`,Eye=`[${Ke.l10n.t("Configuring Dev Container (show log)")}](command:${W1} "${Ke.l10n.t("Show details in terminal")}")`,Cye=`[${Ke.l10n.t("Reading Dev Container Configuration (show log)")}](command:${Tt} "${Ke.l10n.t("Show details in terminal")}")`,bye={0:"",1:Ke.l10n.t("Cloning Repository"),2:Ke.l10n.t("Building image"),3:Ke.l10n.t("Starting container"),4:Ke.l10n.t("Installing server"),5:Ke.l10n.t("Starting server"),6:""};function _ye(t){let e=0;return n=>{let r=6-n,o=(100-e)/(r+1);t.report({message:bye[n],increment:o}),e+=o}}function QJ(t,e,n){let{name:r,publisher:o,version:i,aiKey:s}=e;if(!s)return lM(e,n);let a=o?`${o}.${r}`:r,c=new UJ.default(s);t.subscriptions.push(c);let l=new j1(c),u=Sye(n),d=OJ()?(0,sd.getExperimentationService)(a,i,u,l,t.globalState):void 0;return{sendTelemetryEvent:l.sendTelemetryEvent.bind(l),isCachedFlightEnabled:async f=>d&&OJ()?d.isCachedFlightEnabled(f):!1,product:n,package:e,getTelemetryLevel:()=>c.telemetryLevel}}var j1=class{constructor(e){this.baseReporter=e}sharedProperties={};sendTelemetryEvent(e,n,r){this.baseReporter.sendTelemetryEvent(e,{...this.sharedProperties,...n},r)}setSharedProperty(e,n){this.sharedProperties[e]=n}postEvent(e,n){let r={};for(let[o,i]of n)r[o]=i;this.sendTelemetryEvent(e,r)}};function Sye(t){switch(t.quality){case"stable":return sd.TargetPopulation.Public;case"insider":return sd.TargetPopulation.Insiders;case"exploration":return sd.TargetPopulation.Internal;case void 0:return sd.TargetPopulation.Team;default:return sd.TargetPopulation.Public}}var ky=Ke.l10n.t("Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container."),H1="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function Ry(t,e){if(e!=null&&e.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-")||t.globalState.get(H1))return!0;let n=Ke.l10n.t("Got It"),r=Ke.l10n.t("Learn More"),o=await Z.window.showWarningMessage(Ke.l10n.t("Cloning a repository in a Dev Container may execute arbitrary code."),{modal:!0,detail:Ke.l10n.t("Only clone a repository in a Dev Container if you trust its authors.")},n,r);return o===n?(await t.globalState.update(H1,!0),!0):(o===r&&Z.env.openExternal(Z.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var B1="userConfirmedAttachToContainerRequiresTrust";async function ad(t){if(t.globalState.get(B1))return!0;let e=Ke.l10n.t("Got It"),n=Ke.l10n.t("Learn More"),r=await Z.window.showWarningMessage(Ke.l10n.t("Attaching to a container may execute arbitrary code."),{modal:!0,detail:Ke.l10n.t("Only attach to a container if you trust its origin.")},e,n);return r===e?(await t.globalState.update(B1,!0),!0):(r===n&&Z.env.openExternal(Z.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function eX(t){t.globalState.setKeysForSync([H1,B1,q1])}function tX(){let t=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(t)&&(process.env.PATH=`${t}:/usr/local/bin`)}var q1="updatedToPreRelease2",Dye="2022-01-19T05:14:31.474Z";async function nX(t,e){try{e.quality==="insider"&&e.date&&e.date.localeCompare(Dye)>=0&&!t.globalState.get(q1,!1)&&(await t.globalState.update(q1,!0),await Z.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(n){console.error(n)}}async function Dg(t,e,n,r){try{return await Rx(t,e,n,Eg(),void 0,void 0,r)}catch{return}}async function Q1(t,e,n,r){let o=(async()=>{try{return await Bl(t,e,n,Eg(),YJ(),void 0,void 0,r)}catch{return}})(),i=await Promise.race([o,new Promise(s=>setTimeout(()=>s("timeout"),1e3))]);return i!=="timeout"?i:Z.window.withProgress({location:Z.ProgressLocation.Notification,title:Cye,cancellable:!0},async(s,a)=>Promise.race([o,new Promise(c=>{let l=a.onCancellationRequested(()=>{l.dispose(),c("canceled")})})]))}async function cp(t){return Z.commands.executeCommand("_workbench.addToRecentlyOpened",t)}async function rX(t,e,n,r){try{return await yg(e,t.globalState,n,r),!0}catch(o){if(!(o instanceof Ee))throw o;let i=Ke.l10n.t("Learn More");return await Z.window.showWarningMessage(o.description,{modal:!0,detail:o.detail},...o.data.learnMoreUrl?[i]:[])===i&&await Z.env.openExternal(Z.Uri.parse(o.data.learnMoreUrl)),!1}}async function oX(t,e){let n="";for(let r=y_(Z.env.remoteAuthority);r;r=y_(r.parentAuthority)){let o=r.name==="tunnel"?await Z.extensions.getExtension("ms-vscode.remote-server"):r.name==="ssh-remote"?await Z.extensions.getExtension("ms-vscode-remote.remote-ssh"):void 0;o&&(n+=` over ${o.packageJSON.displayName} ${o.packageJSON.version}`)}return`Dev Containers ${t.version}${n} in VS Code ${Z.version} (${e.commit||"out-of-source"}).`}var lp={id:"openDocumentation",title:vi.l10n.t("Open Documentation"),isLastAction:!1,applicable:(t,e)=>!e,execute:async t=>{await Ht.env.openExternal(Ht.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},up={id:"reloadWindow",title:vi.l10n.t("Reload Window"),isLastAction:!0,applicable:(t,e)=>!e&&t.data.reload!==!1,execute:async t=>{t.manageContainer&&t.dockerParams&&t.containerId&&await qe(t.dockerParams,"stop","-t","0",t.containerId),await Ht.commands.executeCommand("workbench.action.reloadWindow")}},sX={id:"rebuildContainer",title:vi.l10n.t("Rebuild Container"),isLastAction:!0,applicable:(t,e)=>t.manageContainer&&!!t.dockerParams&&!!t.containerId&&!e,execute:async t=>{await qe(t.dockerParams,"rm","-f",t.containerId),await Ht.commands.executeCommand("workbench.action.reloadWindow")}},Ig={id:"openRecent",title:vi.l10n.t("Open Recent..."),isLastAction:!0,applicable:(t,e)=>!e,execute:async t=>{await Ht.commands.executeCommand("workbench.action.openRecent")}},aX={id:"startContainer",title:vi.l10n.t("Start Container"),isLastAction:!0,applicable:t=>!!t.dockerParams&&!!t.containerId&&t.data.start===!0,execute:async t=>{await qe(t.dockerParams,"start",t.containerId),await Ht.commands.executeCommand("workbench.action.reloadWindow")}},cX={id:"chooseContainer",title:vi.l10n.t("Choose Container"),isLastAction:!0,applicable:t=>t.data.attach===!0,execute:async()=>{await Ht.commands.executeCommand("remote-containers.attachToRunningContainer")}},cd={id:"closeRemote",title:vi.l10n.t("Close Remote"),isLastAction:!0,applicable:(t,e)=>{if(!e)return!1;let n=Ht.workspace.workspaceFile;return!(n&&n.scheme==="untitled"||Ht.workspace.textDocuments.some(o=>o.isDirty))},execute:async t=>{await Ht.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},Pg=[{id:"retry",title:vi.l10n.t("Retry"),isLastAction:!0,applicable:(t,e)=>e&&t.data.reload!==!1,execute:up.execute},{id:"moreActions",title:vi.l10n.t("More Actions..."),isCloseAffordance:!0,isLastAction:!1,applicable:(t,e)=>e,execute:async t=>{}},{id:"learnMore",title:vi.l10n.t("Learn More"),isLastAction:!1,applicable:(t,e)=>e&&!!t.data.learnMoreUrl,async execute(t){await Ht.env.openExternal(Ht.Uri.parse(t.data.learnMoreUrl))}}];async function ld(t,e,n,r=!1,o){var p,m,h,v,g,w;let i=t instanceof Ee?t:new Ee({description:vi.l10n.t("An error occurred setting up the container."),originalError:t});Ht.commands.executeCommand(Tt);let s=i.originalError&&(i.originalError.stack||i.originalError.message)||i.originalError;if(s!==void 0){o.write(Dt(String(s)));let x=(m=(p=i.originalError)==null?void 0:p.stdout)==null?void 0:m.toString().trim();x&&o.write(x);let y=(v=(h=i.originalError)==null?void 0:h.stderr)==null?void 0:v.toString().trim();y&&o.write(Dt(y)),(g=i.originalError)!=null&&g.code&&o.write(`Exit code ${(w=i.originalError)==null?void 0:w.code}`)}if(i.data.closeRemote)throw await Ht.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Ht.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let a=i.actions;a.length||(a=[lp]);let c=await a.reduce(async(x,y)=>await y.applicable(i,!0)?[...await x,y]:x,Promise.resolve([])),l=await Ht.window.showErrorMessage(i.description,{modal:!0,detail:i.detail},...c);if(l&&(iX(n,e,l.id),await l.execute(i)),l&&l.isLastAction){if(r)throw Ht.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let u=await a.reduce(async(x,y)=>await y.applicable(i,!1)?[...await x,y]:x,Promise.resolve([])),d=u.map(x=>({label:x.title,action:x}));async function f(){let y=await(u.length?Ht.window.showQuickPick(d,{ignoreFocusOut:!0,placeHolder:vi.l10n.t("Pick an action to help resolve the problem.")}):Promise.resolve(void 0));y&&(iX(n,e,y.action.id),y.action.execute(i).catch(console.error),y.action.isLastAction||await f())}if(f().catch(console.error),r)throw Ht.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function iX(t,e,n){t.sendTelemetryEvent("errorAction",{resolver:e,action:n})}var pn=G(require("vscode")),Gt=require("vscode"),ka=G(require("path"));var me=G(require("vscode")),tn=require("vscode");var SX=G(yk());var Ag=G(require("path"));async function ud(t){let r=await tI({type:"GET",url:"https://containers.dev/static/devcontainer-index.json",headers:{"user-agent":"devcontainers-vscode",Accept:"application/json"}},t),o=Ge(r.toString());return o.collections.find(i=>i.templates.length)||t.write("No container templates retrieved from index.",5),o.collections.find(i=>i.features.length)||t.write("No container features retrieved from index.",5),o}var Ut=G(require("vscode")),xt=require("vscode"),Oy=G(require("os"));var Ay=G(require("path"));var _n=G(require("vscode")),fn=require("vscode");var lX=fn.l10n.t("Keep Defaults"),Iye=fn.l10n.t("Configure Options"),Ny={iconPath:new _n.ThemeIcon("check-all"),tooltip:fn.l10n.t("Finish")},eU=["devcontainers","microsoft","github"];async function Tg(t,e,n,r=[],o,i=!0,s=!1){if(!e.length)return{};let a={iconPath:new _n.ThemeIcon("info"),tooltip:fn.l10n.t("Open Documentation")},c=t.quickPick.onDidTriggerItemButton(y=>{let E=y.item.feature.documentationURL;_n.env.openExternal(_n.Uri.parse(E))}),l=await o,u=fn.l10n.t("Suggested by GitHub Copilot"),d=e.map(y=>{let E=r.indexOf(y)!==-1,T;if(E)T=fn.l10n.t("$(lock) Feature is included in base image and cannot be removed");else if(y.owner){let R=y.owner==="devcontainers"?"$(verified)":"";T=`${y.owner||fn.l10n.t("Unknown Publisher")} ${R}`}else T=void 0;let k=l==null?void 0:l.features.includes(y);return{label:k?`$(sparkle) ${y.name}`:y.name,detail:y.description,description:k?T?`${T} ${u}`:u:T,picked:n.indexOf(y)!==-1,buttons:y.documentationURL?[a]:void 0,feature:y,isAlreadyInstalledViaBaseImage:E,kind:_n.QuickPickItemKind.Default}}).sort((y,E)=>{if(y.isAlreadyInstalledViaBaseImage!==E.isAlreadyInstalledViaBaseImage)return y.isAlreadyInstalledViaBaseImage?1:-1;let T=l==null?void 0:l.features.includes(y.feature),k=l==null?void 0:l.features.includes(E.feature);return T!==k?T?-1:1:y.label.localeCompare(E.label)}),f,p=t.quickPick,{matchOnDetail:m}=p;try{p.matchOnDetail=!0;let y=[];s&&y.push(_n.QuickInputButtons.Back),i&&y.push(Ny),f=await zo(p,d,fn.l10n.t("Select additional features to install"),fn.l10n.t("Select Features"),!0,y)}finally{p.matchOnDetail=m}if(c.dispose(),!f)return;if(f.button===_n.QuickInputButtons.Back)return"back";let h=f.pick.filter(y=>!y.isAlreadyInstalledViaBaseImage).map(y=>y.feature),v={};if(!h.length)return v;let g=[];for(let y of e){let E=h.indexOf(y)!==-1;v[y.id]=E?{}:!1,E&&eU.indexOf(y.owner)===-1&&g.push(y)}if(t.askForTrust&&g.length){let y=[...new Set(g.map(_=>_.owner))].sort().map(_=>`@${_}`),E=y.length===1?y[0]:`${y.slice(0,-1).join(", ")} and ${y[y.length-1]}`,T={label:fn.l10n.t("Trust {0}",E),description:fn.l10n.t("from GitHub"),buttons:[{iconPath:new _n.ThemeIcon("info"),tooltip:fn.l10n.t("Open Documentation")}]},k={label:fn.l10n.t("Back")},R={label:fn.l10n.t("Cancel")},b=p.onDidTriggerItemButton(()=>{for(let _ of g)_n.env.openExternal(_n.Uri.parse(_.documentationURL))}),I=await zo(p,[T,k,R],fn.l10n.t("Some features are from the {0} GitHub owner/organization(s).",E),void 0,void 0,!0);if(b.dispose(),!I||I===R)return;if(I==="back"||I===k)return Tg(t,e,n,r,o,i,s)}return f.button===Ny||!i||!h.some(y=>{let E=y.options;return E&&Object.keys(E).some(T=>{let k=E[T];return k.type==="boolean"||k.type==="string"&&("enum"in k&&(k.enum||[]).length>1||"proposals"in k&&(k.proposals||[]).length>1)})})||await _n.window.showQuickPick([lX,Iye],{title:fn.l10n.t("Keep Feature defaults or configure options?"),canPickMany:!1})===lX?v:Pye(t,v,h,()=>Tg(t,e,n,r,o))}async function Pye(t,e,n,r){return async function o(i,s,a){if(!s.length)return i;let c=s[0],l=i;if(!(c!=null&&c.options))return o(l,s.slice(1),a);let u,d;return u=await Tye(t,l,c),u&&(d=await kye(t,u,c,a)),!u||!d?await a():o(d,s.slice(1),a)}(e,n,r)}async function Tye(t,e,n){let r=n==null?void 0:n.options;if(!r)return e;let i=Object.keys(r).filter(l=>{var u;return((u=r[l])==null?void 0:u.type)==="boolean"}).map(l=>{let u=r[l];return{label:l,description:u.description,key:l,value:!0,picked:!!(u!=null&&u.default)}});if(!i.length)return e;let s=n.id,a=n.name||s,c=await zo(t.quickPick,i,fn.l10n.t("Select boolean options for {0}",a),fn.l10n.t("Select boolean options for '{0}'",a),!0,[_n.QuickInputButtons.Back,Ny]);if(!(!c||c.button===_n.QuickInputButtons.Back))return c.pick.reduce((l,u)=>({...l,[s]:{...l==null?void 0:l[s],[u.key]:u.value}}),e)}async function kye(t,e,n,r){let o=n==null?void 0:n.options;if(!o)return e;let i=n.id,s=n.name||i;return async function a(c,l,u){if(!l.length)return c;let d=l[0],f=o[d],p=("enum"in f&&f.enum||"proposals"in f&&f.proposals||[]).map(v=>({label:String(v),value:v,description:f.default===v?fn.l10n.t("(default)"):void 0,picked:!1}));if(p.length===0)return a(c,l.slice(1),u);let m=p.length===1?{pick:p[0],button:"ok"}:await zo(t.quickPick,p,f.description||fn.l10n.t("Select a value"),fn.l10n.t("Select options for '{0}'",s),void 0,[_n.QuickInputButtons.Back,Ny]);if(!m||m.button===_n.QuickInputButtons.Back)return;let h={...c,[i]:{...c==null?void 0:c[i],[d]:m.pick.value}};return m.button===Ny?h:a(h,l.slice(1),u)}(e,Object.keys(o).filter(a=>{var c;return((c=o[a])==null?void 0:c.type)==="string"}),r)}var Rye=["png","md","json","txt","map"],Nye=["node_modules",".git","bin","out","dist",".vscode-test"],Lye=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],uX={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},dX={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},Aye=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile","ghcr.io/devcontainers/templates/codespaces-linux"];function fX(t,e){let n=new Map;for(let r of e)if(r.platforms){if(Aye.indexOf(r.id)>-1)continue;let o=0,i=0,s=r.platforms;if(s[0]==="Any")o+=5;else for(let a of s)if(dX[a]){let c=dX[a];for(let l of c)t.fileTypes.get(l.toLowerCase())&&(o+=10),t.mostPopularFileType===l&&(o+=10)}else if(uX[a]){let c=uX[a],l=!1;for(let u of c)t.configFiles.get(u)&&(l=!0,i+=20);l||(i-=20)}n.set(r,o+(i<0?-4:i))}return n}async function pX(t,e){return Oye(t,e.rootFolderPath,Nye,Rye)}async function Oye(t,e,n,r){let o=new Map,i=new Map,s=500;function a(p,m,h,v){let g=[];(t.readDirWithTypes||t.readDir)(p).then(x=>{if(h.count>=s)return h.count+=x.length,h.maxReached=!0,v(g);let y=x.length;if(y===0)return v(g);let E=x;h.count+x.length>s&&(h.maxReached=!0,y=s-h.count,E=x.slice(0,y)),h.count+=x.length;for(let T of E){let k=Array.isArray(T)?T[0]:T;(Array.isArray(T)?Promise.resolve((T[1]&1)!==0):t.isFile(t.path.join(p,k))).then(b=>{b?(g.push(k),--y===0&&v(g)):m.indexOf(k)===-1?a(t.path.join(p,k),m,h,I=>{if(g=g.concat(I),--y===0)return v(g)}):--y===0&&v(g)},()=>{if(--y===0)return v(g)})}},()=>v(g))}let c=p=>{o.has(p)?o.set(p,o.get(p)+1):o.set(p,1)},l=p=>{for(let m of Lye)m.pattern.test(p)&&(i.has(m.tag)?i.set(m.tag,i.get(m.tag)+1):i.set(m.tag,1))},u=p=>{if(p.lastIndexOf(".")>=0){let m=p.split(".").pop();m&&!r.includes(m)&&c(m.toLowerCase())}l(p)},d=p=>[...p.entries()].reduce((m,h)=>h[1]>m[1]?h:m,["",0])[0],f={count:0,maxReached:!1};return new Promise((p,m)=>{a(e,n,f,async h=>{h.forEach(u),p({configFiles:i,fileTypes:o,fileCount:f.count,mostPopularFileType:d(o)})})})}var xi=G(require("vscode")),hI=require("vscode");var Ly={"ghcr.io/devcontainers/templates/anaconda":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/kubernetes-helm":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/kubectl-helm-minikube"],"ghcr.io/devcontainers/templates/alpine":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/docker-outside-of-docker-compose":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/jekyll":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/docker-outside-of-docker":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-outside-of-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/docker-in-docker":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/go":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/dotnet-fsharp":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/debian":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/rust-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/rust"],"ghcr.io/devcontainers/templates/universal":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/conda","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/dotnet","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/git-lfs","ghcr.io/devcontainers/features/github-cli","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/hugo","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/kubectl-helm-minikube","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/oryx","ghcr.io/devcontainers/features/php","ghcr.io/devcontainers/features/python","ghcr.io/devcontainers/features/ruby","ghcr.io/devcontainers/features/sshd"],"ghcr.io/devcontainers/templates/python":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/markdown":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/dotnet-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/rust":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/rust"],"ghcr.io/devcontainers/templates/java-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/java":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/java","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/anaconda-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/php":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/dotnet":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/powershell":["ghcr.io/devcontainers/features/common-utils"],"ghcr.io/devcontainers/templates/kubernetes-helm-minikube":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/docker-in-docker","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/kubectl-helm-minikube"],"ghcr.io/devcontainers/templates/postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/ruby-rails-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/cpp-mariadb":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/cpp":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/dotnet-mssql":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/miniconda-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/typescript-node":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/ubuntu":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git"],"ghcr.io/devcontainers/templates/php-mariadb":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/miniconda":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/python"],"ghcr.io/devcontainers/templates/ruby":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node","ghcr.io/devcontainers/features/ruby"],"ghcr.io/devcontainers/templates/go-postgres":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/go","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"],"ghcr.io/devcontainers/templates/javascript-node-mongo":["ghcr.io/devcontainers/features/common-utils","ghcr.io/devcontainers/features/git","ghcr.io/devcontainers/features/node"]};async function hX(t,e,n,r,o){var u;let i=await tU(t,e,n);if(i.type==="cancelled")return;if(i.type==="failure"){let d=hI.l10n.t("OK");return await xi.window.showInformationMessage(xi.l10n.t("Something went wrong. Please pick a Dev Container configuration yourself."),{modal:!0,detail:i.message},d)===d||void 0}if(!i.template){let d=hI.l10n.t("OK");return await xi.window.showInformationMessage(xi.l10n.t("GitHub Copilot did not have enough contextual information. Please pick a Dev Container configuration yourself."),{modal:!0},d)===d||void 0}let s=i.template,a=nU({id:s,name:s},void 0),c=new Set(Ly[s]||[]);a.features=((u=i.features)==null?void 0:u.filter(d=>!c.has(d)).map(d=>({id:d,copilotSuggested:!0,options:{}})))||[];let l=await kg(t,e,r,o,a);return l&&Go(t.telemetry,"copilot",a,o),l}var gX="github.copilot.devcontainer.generateDevContainerConfig",mX=6e3;async function tU(t,e,n){var i,s;let r={index:{templates:((i=t.index)==null?void 0:i.collections.filter(a=>a.sourceInformation.repository==="https://github.com/devcontainers/templates").map(a=>a.templates).flat().filter(a=>!Rg.includes(a.id)).map(({id:a,name:c,description:l})=>({id:a,name:c,description:l})))||[],features:((s=t.index)==null?void 0:s.collections.filter(a=>a.sourceInformation.repository==="https://github.com/devcontainers/features").map(a=>a.features).flat().filter(a=>!a.deprecated).map(({id:a,name:c,description:l})=>({id:a,name:c,description:l})))||[]},rootUri:xi.Uri.parse((await e.toCommonURI(n.rootFolderPath)).toString())},o=new xi.CancellationTokenSource;try{return await Promise.race([xi.commands.executeCommand(gX,r,o.token),Mr(mX).then(()=>(o.cancel(),{type:"failure",message:hI.l10n.t("Timeout after {0} seconds.",mX/1e3)}))])}catch(a){return{type:"failure",message:(a==null?void 0:a.message)||String(a)}}finally{o.dispose()}}async function vX(){return(await xi.commands.getCommands()).includes(gX)}var rU=Ay.default.join(__dirname,"..",".."),xX=Ut.env.appRoot,Fye=t=>Em(t,xX);async function Lg(t,e){let{fileHost:n,output:r}=t;r.write("Entering createDevContainerConfig_v2");let o=await _X();if(o){let i=Ie(o,n.platform),s=It(n.path,i),a=await YC(n,s);if(a){let l=xt.l10n.t("Continue");if(await Ut.window.showInformationMessage(xt.l10n.t("The workspace could fail to open in a container: {0}",a),{modal:!0},l)!==l)return!1}let c=await sU(t,s,void 0,void 0,e);if(c){let l=await n.toCommonURI(c);l&&Ut.window.showTextDocument(Ut.Uri.parse(l.toString()))}return!!c}return!1}async function kg(t,e,n,r,o,i=(s,a)=>a){return Ut.window.withProgress({location:Ut.ProgressLocation.Notification,title:xt.l10n.t("Adding Dev Container Configuration Files..."),cancellable:!1},async()=>iU(t,e,n,r,o,i))}async function iU(t,e,n,r,o,i=(s,a)=>a){let{output:s}=t;s.write(`Preparing to apply Template '${o==null?void 0:o.id}'`);let a=Ay.default.join(Oy.tmpdir(),`tmp-output-dir-${Date.now()}`),c=Ay.default.join(Oy.tmpdir(),`tmp-dir-${Date.now()}`);t.quickPick.busy=!0,t.quickPick.enabled=!1;let l={executeInWSL:"forWSLPath",defaultDistro:void 0},u=await ko(),d=process.cwd(),p={cliHost:await Lo(void 0,void 0,d,Fye,l,rU,u,t.telemetry.product,s,void 0,void 0),dockerPath:"",dockerComposePath:"",extensionPath:rU,appRoot:xX,output:s,package:await Ur(rU)},m;try{m=await ki(p,["templates","apply","--workspace-folder",a,"--template-id",o.id,"--template-args",o.options?JSON.stringify(o.options):"{}","--features",o.features?JSON.stringify(o.features):"[]","--tmp-dir",c,"--log-level",yo(Q0())])}catch{let g=xt.l10n.t("Show Log");await Ut.window.showErrorMessage(xt.l10n.t("Application of the template failed."),{modal:!0},...t.showLogCommandId?[g]:[])===g&&Ut.commands.executeCommand(t.showLogCommandId);return}let h=xt.l10n.t("Skip"),v;for(let g of m.files){let w=e.path.join(n,g);if(await e.isFile(w)){let E=r==="userData"?by(e.platform,w,Oy.homedir()):g,T=await Ut.window.showInformationMessage(xt.l10n.t("File '{0}' already exists, overwrite?",E),{modal:!0},h,xt.l10n.t("Overwrite"));if(!T)return;if(T===h)continue}await e.mkdirp(e.path.dirname(w));let x=await ot(Ay.default.join(a,g)),y=i(g,x);await e.writeFile(w,y),!v&&Sx(e.path,g)&&(v=w)}return await ol(a,{recursive:!0,force:!0}),await ol(c,{recursive:!0,force:!0}),t.quickPick.busy=!1,t.quickPick.enabled=!0,v}async function sU(t,e,n,r,o){let{fileHost:i,telemetry:s}=t,a=await aU(t,n,!1);if(r){Go(await s,"existsMissingImageInfo");let p=Ie(r,i.platform);if(!await Ut.window.showWarningMessage(xt.l10n.t("Dev Container configuration '{0}' file is missing image information. You can add this manually or overwrite with a template.",i.path.relative(e.configFolderPath,p)),{modal:!0},xt.l10n.t("Use Template"))){let h=await i.toCommonURI(p);h&&Ut.window.showTextDocument(Ut.Uri.parse(h.toString()));return}}let c,l,u="workspace";if(t.userDataFolderForConfigurations){c=await F1(i,e,t.userDataFolderForConfigurations);let p=c&&await Xd(i,c),m={label:xt.l10n.t("Add configuration to user data folder"),description:p?xt.l10n.t("Configuration already exists"):void 0,detail:xt.l10n.t("This avoids having outgoing changes in your workspace folder")},h=await Xd(i,e.configFolderPath),v={label:xt.l10n.t("Add configuration to workspace"),description:h?xt.l10n.t("Configuration already exists"):void 0,detail:xt.l10n.t("This allows you to share the configuration with others via source control")},g=await zo(a.quickPick,[m,v],xt.l10n.t("Where would you like to create your container configuration?"));if(!g)return;g===m&&(l=c||TJ(i,e,t.userDataFolderForConfigurations),u="userData")}else if(!r){let p=await vI(i,e);if(p){Go(await s,"exists");let m=Ie(p.uri,i.platform);if(!await Ut.window.showWarningMessage(xt.l10n.t("Dev Container configuration '{0}' file already exists.",i.path.relative(e.configFolderPath,m)),{modal:!0},xt.l10n.t("Continue"))){let v=await i.toCommonURI(m);v&&Ut.window.showTextDocument(Ut.Uri.parse(v.toString()));return}}}let d=l||e.configFolderPath,f;if((o==null?void 0:o.picker)==="copilot"){let p=await hX(a,i,e,d,u);p===!0&&(p=await Ng(a,i,e,d,u,void 0)),f=p}else f=await Ng(a,i,e,d,u,void 0);if(f&&l&&!c){let p=await kJ(i,e,t.userDataFolderForConfigurations,l);f=i.path.resolve(p,i.path.relative(l,f))}return a.quickPick.hide(),f}async function aU(t,e,n){let r=Ut.window.createQuickPick();r.ignoreFocusOut=!0,e&&(r.title=e);let o=await ud(t.output);return{existingFilesLearnMoreLink:CX,predefinedDefinitionsLearnMoreLink:bX,...t,quickPick:r,replaceExistingConfig:!0,existingConfig:void 0,telemetry:await t.telemetry,index:o,skipOptions:n}}async function wX(t,e,n,r,o,i,s){if(!t.index)return;let c=await gI(t,e,n,i);if(!c)return;if(c==="back")return s?s():void 0;let l=await kg(t,e,r,o,c);return l&&Go(t.telemetry,"definition",c,o),l}var Rg=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile"];async function gI(t,e,n,r){let{index:o}=t,i=((o==null?void 0:o.collections.map(l=>l.templates).flat())||[]).filter(l=>!Rg.includes(l.id));if(!(i!=null&&i.length))return;let s=()=>gI(t,e,n,r),a=await Uye(t,e,n,i);if(!(a!=null&&a.length))return oU(t,[],i,r,s);let c=[{label:xt.l10n.t("Show All Definitions..."),detail:xt.l10n.t("Show all available predefined container definitions."),alwaysShow:!0,type:"showAll"}];return oU(t,c,a,r,s)}async function Uye(t,e,n,r){r=r.filter(a=>a.owner==="devcontainers");let o=t.stats||e&&n&&(t.stats=await pX(e,n));if(!(o!=null&&o.mostPopularFileType.length))return;let i=fX(o,r);return r.filter(a=>(i.get(a)||0)>0).sort(Mye.bind(null,i))}function Mye(t,e,n){let r=t.get(n)||0,o=t.get(e)||0;return r-o}async function oU(t,e,n,r,o){let{index:i,predefinedDefinitionsLearnMoreLink:s,telemetry:a}=t,c={iconPath:new Ut.ThemeIcon("info"),tooltip:xt.l10n.t("Open Documentation")},l=t.quickPick.onDidTriggerItemButton(m=>{let h=m.item.template.documentationURL;Ut.env.openExternal(Ut.Uri.parse(h))}),u=(async()=>{let m=await r,h=n;m!=null&&m.template&&n.indexOf(m.template)===-1&&(h=[m.template,...n]);let v=xt.l10n.t("Suggested by GitHub Copilot"),g=h.map(x=>{let y;if(x.owner){let T=(x==null?void 0:x.owner)==="devcontainers"?"$(verified)":"";y=`${((x==null?void 0:x.owner)==="microsoft"&&x.id.includes("microsoft/vscode-dev-containers")?xt.l10n.t("community"):x==null?void 0:x.owner)||xt.l10n.t("Unknown Publisher")} ${T}`}let E=x===(m==null?void 0:m.template);return{label:E?`$(sparkle) ${x.name}`:x.name,picked:n.indexOf(x)!==-1,detail:x==null?void 0:x.description,description:E?y?`${y} ${v}`:v:y,buttons:[c],template:x}}).sort((x,y)=>x===y?0:x.template===(m==null?void 0:m.template)?-1:y.template===(m==null?void 0:m.template)?1:x.label.localeCompare(y.label));return[...e,...s?[cU]:[],...g]})(),d=m=>{let h=m.trim();if(/^\S+(\/\S+){2,}$/.test(h))return{label:xt.l10n.t("Use '{0}' as template...",h),detail:xt.l10n.t("Apply this custom template instead of one of the listed definitions."),templateId:h}},f=xt.l10n.t("Select a container configuration template or enter a custom template id"),p=await zo(t.quickPick,u,f,void 0,void 0,void 0,d);if(l.dispose(),!p){Go(a,"canceled");return}if(p.type==="help"){Go(a,"help"),Ut.env.openExternal(s);return}if(p.type==="showAll"){let m=((i==null?void 0:i.collections.map(h=>h.templates).flat())||[]).filter(h=>!Rg.includes(h.id));return oU(t,[],m,r,o)}if(p.template)return dp(t,p.template,r.then(m=>{var g,w;if(!m)return;let h=((i==null?void 0:i.collections.map(x=>x.features).flat())||[]).filter(x=>!x.deprecated),v=new Set([...m.features,...m.template&&((g=Ly[m.template.id])==null?void 0:g.map(x=>h.find(y=>y.id===x)).filter(x=>!!x))||[]]);return(((w=Ly[p.template.id])==null?void 0:w.map(x=>h.find(y=>y.id===x)).filter(x=>!!x))||[]).forEach(x=>v.delete(x)),{template:m.template,features:Array.from(v)}}),o);if(p.templateId)return dp(t,{id:p.templateId,name:p.templateId},r,o)}function nU(t,e){return{id:`${t.id}:latest`,options:{},features:[],metadata:{template:t,features:[],copilotSuggestion:e}}}async function dp(t,e,n,r){let o=nU(e,await n);if(t.skipOptions)return o;if(!e.options){let l=await EX(t,o,n,r);return l?l==="back"?r():l:void 0}let i=e.options,s=[],a=[];for(let l in i){let u=i[l];u.name=l,u.type==="boolean"?s.push(u):u.type==="string"&&a.push(u)}let c=await $ye(t,a,o,async()=>"back",(l,u)=>yX(t,s,e.name,l,n,u));if(c==="back")return r();if(c)return c}async function $ye(t,e,n,r,o){let i=e.map(s=>{let a=[];s.proposals&&s.proposals.length>0?a=s.proposals:s.enum&&s.enum.length>0&&(a=s.enum);let c=s.default,l=a.map(d=>({label:d,description:d===c?xt.l10n.t("(default)"):void 0,value:d})),u=l.findIndex(d=>d.value===c);return u!==-1&&l.unshift(...l.splice(u,1)),{placeholder:s.description||s.name,name:s.name,default:s.default,items:l}});return async function s(a,c,l){if(!a.length)return o(c,l);let u=a[0],d=await zo(t.quickPick,u.items,u.placeholder,void 0,void 0,!0);if(!d)return;if(d==="back")return l();let f={...c.options};return f[u.name]=d.value,c.options={...f},s(a.slice(1),c,()=>s(a,c,l))}(i,n,r)}async function yX(t,e,n,r,o,i){let s=r,a=e.map(u=>{let d=u.default==="true";return{label:u.description||u.name,picked:d,name:u.name,default:d}}),c=a.length?await zo(t.quickPick,a,xt.l10n.t("Select the options for the '{0}' dev container",n),void 0,!0,!0):[];if(!c)return r;if(c==="back")return i();for(let u of a){let d=c.indexOf(u)!==-1,f={...r.options};f[u.name]=d.toString(),r.options={...f}}let l=await EX(t,r,o,()=>e.length>0?yX(t,e,n,s,o,i):i());if(l)return l==="back"?i():l}async function EX(t,e,n,r){let{quickPick:o,telemetry:i,output:s,index:a,askForTrust:c}=t,l=a==null?void 0:a.collections.reduce((m,h)=>m.concat(h.features),[]).filter(m=>!m.deprecated);if(!(l!=null&&l.length))return e;let d=await Tg({quickPick:o,askForTrust:c,telemetry:i,output:s},l,[],[],n,!0,!0);if(!d)return;if(d==="back")return r();let f=[],p=[];for(let m in d)if(d[m]){let h=l.find(v=>v.id===m);if(h){p.push(h);let v=h.majorVersion||"latest",g={id:`${m}:${v}`,options:d[m]};f.push(g)}}return e.features=f,e.metadata.features=p,e}function DX(t){return{provideCompletionItems(e,n,r){let o=oM(e.getText(),e.offsetAt(n)),i=e.getWordRangeAtPosition(n)||new me.Range(n,n);if(o.path[0]==="extensions"||o.path[0]==="vscode"&&o.path[1]==="extensions"){let s=Ge(e.getText());return s.configFilePath=e.uri,jye(s,i)}if(o.path[0]==="features"){let s=Ge(e.getText());s.configFilePath=e.uri;try{return Hye(t,s,o,i)}catch(a){console.error(a)}}return[]}}}function jye(t,e){var r,o;let n=((t==null?void 0:t.extensions)||[]).concat(((o=(r=t==null?void 0:t.customizations)==null?void 0:r.vscode)==null?void 0:o.extensions)||[]);if(Array.isArray(n)){let i=me.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||n.indexOf(s.id)>-1));if(i.length)return i.map(s=>{let a=new me.CompletionItem(s.id),c=`"${s.id}"`;return a.kind=me.CompletionItemKind.Value,a.insertText=c,a.range=e,a.filterText=c,a})}}async function Hye(t,e,n,r){var i;let o=e&&e.features||{};if(typeof o=="object"){if(e.configFilePath.scheme==="vscode-remote"&&t.fileHost.type==="local"){e={...e,configFilePath:e.configFilePath.with({scheme:it.scheme,authority:""})};let c=me.env.remoteName&&me.env.remoteName!=="test"?"linux":process.platform,l=((i=(me.workspace.workspaceFolders||[])[0])==null?void 0:i.uri)||_e.file(process.cwd());t={...t,fileHost:await Ia(c,l)}}let s=await ud(t.output),a=(s==null?void 0:s.collections.map(c=>c.features).flat().filter(c=>!c.deprecated))||[];if(n.path.length===2)if(n.isAtPropertyKey){let c=a.filter(l=>!(l.id in o));if(c.length)return c.map(l=>{let u=new me.CompletionItem(l.id),d=`"${l.id}": `;return u.kind=me.CompletionItemKind.Property,u.insertText=d,u.range=r,u.filterText=d,u})}else{let c=n.path[1],l=a.find(u=>u.id===c);if(l){let u=O3(l),d=u&&(l.options||{})[u]||{type:"boolean",description:tn.l10n.t("Set to true to install.")},f=(d.type==="string"?("enum"in d&&d.enum||"proposals"in d&&d.proposals||[""]).map(p=>`"${p}"`):["true","false"]).map(p=>({label:p,text:p}));return f.push({label:"{}",text:new me.SnippetString(`{
	$1
}$0`)}),f.map(({label:p,text:m},h)=>{let v=new me.CompletionItem(p);return v.kind=me.CompletionItemKind.Value,v.insertText=m,v.range=r,v.sortText=`${h}_${p}`,v})}}else if(n.path.length===3){let c=n.path[1],l=a.find(u=>u.id===c);if(l){let u=l.options||{};if(n.isAtPropertyKey)return Object.keys(u).filter(d=>!(d in(o[c]||{}))).map(d=>{let f=new me.CompletionItem(d),p=`"${d}": `;return f.kind=me.CompletionItemKind.Property,f.insertText=p,f.range=r,f.filterText=p,f.detail=u[d].description,f});{let d=n.path[2],f=u[d];if(f)return(f.type==="string"?("enum"in f&&f.enum||"proposals"in f&&f.proposals||[""]).map(m=>`"${m}"`):["true","false"]).map((m,h)=>{let v=new me.CompletionItem(m),g=m;return v.kind=me.CompletionItemKind.Value,v.insertText=g,v.range=r,v.filterText=g,v.sortText=`${h}_${m}`,v})}}}}}async function IX(t){let e=await uU(t);if((e==null?void 0:e.scheme)===it.scheme){let n=Ie(e,t.fileHost.platform);e=await t.fileHost.toCommonURI(n)}e&&await me.window.showTextDocument(me.Uri.parse(e.toString()))}async function uU(t){let e=await t.findDevContainerFiles();if(!e.length){let r=tn.l10n.t("Add Files...");await me.window.showInformationMessage(tn.l10n.t("No container configuration file found."),{modal:!0},r)===r&&await Lg(t)&&(e=await t.findDevContainerFiles())}let n=await np(e);return n!=="cancelled"?n:void 0}async function PX(t,e){var r,o,i,s,a,c,l;let n=await uU(t);if(n){let u=sr(t.fileHost);n.scheme==="file"&&!await gr(n.fsPath)?await Ti(ss,n,[],oc):(n.scheme==="file"||n.scheme==="vscode-remote")&&(u=new Cy);let d=await u.readDocument(n);if(d){let f=!/\.?devcontainer\.json/.test(Ag.default.posix.basename(n.path)),p=Ge(d),m=!f&&(((o=(r=p.customizations)==null?void 0:r.vscode)==null?void 0:o.extensions)||!p.extensions),h=(m?(s=(i=p.customizations)==null?void 0:i.vscode)==null?void 0:s.extensions:p.extensions)||[],v=t.openConfigurationCommandId?`[${tn.l10n.t("Dev Container configuration")}](command:${t.openConfigurationCommandId})`:tn.l10n.t("Dev Container configuration");if((p.extensions||[]).concat(((c=(a=p.customizations)==null?void 0:a.vscode)==null?void 0:c.extensions)||[]).indexOf(e)===-1){h.push(e);let g,w=_y(d);m?(l=p.customizations)!=null&&l.vscode?g=Sn(d,["customizations","vscode","extensions"],h,{formattingOptions:w}):p.customizations?g=Sn(d,["customizations","vscode"],{extensions:h},{formattingOptions:w}):g=Sn(d,["customizations"],{vscode:{extensions:h}},{formattingOptions:w}):g=Sn(d,["extensions"],h,{formattingOptions:w}),await u.applyEdits(n,g,d),await me.window.showInformationMessage(tn.l10n.t("Extension has been added to the {0}.",v))}else await me.window.showInformationMessage(tn.l10n.t("Extension is already included in the {0}.",v))}}}async function TX(t,e){let n=await me.commands.executeCommand("remote.tunnel.label",e);if(n===void 0)return;let r=n.label,o=n.port,i=await uU(t);if(i){let s=sr(t.fileHost);i.scheme==="file"&&!await gr(i.fsPath)?await Ti(ss,i,[],oc):(i.scheme==="file"||i.scheme==="vscode-remote")&&(s=new Cy);let a=await s.readDocument(i);if(a){let l=Ge(a).portsAttributes??{},u=l[`${o}`]??{},d=t.openConfigurationCommandId?`[${tn.l10n.t("Dev Container configuration")}](command:${t.openConfigurationCommandId})`:tn.l10n.t("Dev Container configuration");if(l&&u&&u.label===r)await me.window.showInformationMessage(tn.l10n.t("Port attributes are already included in the {0}.",d));else{u.label=r,l[`${o}`]=u;let f=_y(a),p=Sn(a,["portsAttributes"],l,{formattingOptions:f});await s.applyEdits(i,p,a),await me.window.showInformationMessage(tn.l10n.t("Port attributes have been added to the {0}.",d))}}}}function kX(t,e){let n=me.languages.createDiagnosticCollection("devcontainer"),r=me.window.activeTextEditor;r&&lU(r.document,n,e.output),t.subscriptions.push(me.workspace.onDidChangeTextDocument(async o=>{lU(o.document,n,e.output)})),t.subscriptions.push(me.workspace.onDidOpenTextDocument(async o=>{lU(o,n,e.output)})),t.subscriptions.push(me.workspace.onDidCreateFiles(async o=>{await Promise.all(o.files.filter(i=>/\.?devcontainer\.json/.test(Ag.default.posix.basename(i.path))).map(i=>me.workspace.openTextDocument(i)))})),t.subscriptions.push(me.workspace.onDidDeleteFiles(o=>{o.files.forEach(i=>n.forEach(s=>{s.toString().startsWith(i.toString())&&n.delete(s)}))})),t.subscriptions.push(me.workspace.onDidRenameFiles(async o=>{o.files.forEach(i=>n.forEach(s=>{s.toString().startsWith(i.oldUri.toString())&&n.delete(s)})),await Promise.all(o.files.filter(i=>/\.?devcontainer\.json/.test(Ag.default.posix.basename(i.newUri.path))).map(i=>me.workspace.openTextDocument(i.newUri)))})),(async()=>{let o=await SJ().catch(i=>[]);await Promise.all(o.map(i=>me.workspace.openTextDocument(i)))})().catch(o=>{e.output.write(`Error opening dev container configurations: ${(o==null?void 0:o.stack)||(o==null?void 0:o.message)||String(o)}`)}),t.subscriptions.push(n)}function RX(t,e,n){let r=async(s,a,c)=>{let l=Ag.default.basename(s.uri.fsPath);if(/\.?devcontainer\.json/.test(l)){let u=vd(s.getText());if(!u)return;if((tE(u)||{}).features){let f=s.getText(s.getWordRangeAtPosition(a,/"[^"]*"/)).replace(/"/g,""),p=qye(f,e.output,await n());if(p)return{contents:[p],range:s.getWordRangeAtPosition(a,/"[^"]*"/)}}}},o=me.languages.registerHoverProvider({pattern:"**/devcontainer.json"},{provideHover:r}),i=me.languages.registerHoverProvider({pattern:"**/.devcontainer.json"},{provideHover:r});return t.subscriptions.push(o),t.subscriptions.push(i),[o,i]}function lU(t,e,n){let r=Ag.default.basename(t.uri.fsPath);if(/\.?devcontainer\.json/.test(r)){let o=vd(t.getText());if(!o)return;let i=[...Wye(t,o,n),...Yye(o,t)];e.set(t.uri,i)}}function Bye(t,e){let n=new RegExp("^[a-zA-Z0-9_-]*$");if(!t)return{type:void 0,tooltip:tn.l10n.t("Empty feature id")};let r={};if(!t.includes("/")&&!t.includes("\\")&&n.test(t)){let s=["fish","homebrew"].indexOf(t)>-1;return{...r,type:"local-cache",isLegacy:!0,tooltip:s?tn.l10n.t("Legacy feature not supported. Please check https://containers.dev/features for replacements."):void 0,code:s?{target:me.Uri.parse("https://containers.dev/features"),value:"legacy-feature"}:void 0,level:me.DiagnosticSeverity.Error}}if(t.startsWith("http://"))return{...r,type:void 0,tooltip:tn.l10n.t("Direct tarball references must be served over HTTPS."),level:me.DiagnosticSeverity.Error};if(t.startsWith("https://"))try{return me.Uri.parse(t,!0).scheme==="https"?{...r,type:"direct-tarball",level:void 0}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:tn.l10n.t("Failed to parse scheme of URI")}}catch{return{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:tn.l10n.t("Invalid URI")}}if(t.startsWith("/"))return{...r,type:void 0,tooltip:tn.l10n.t("Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json."),level:me.DiagnosticSeverity.Error};if(t.startsWith("./")||t.startsWith("../"))return{...r,type:"file-path"};if(t.split("/").length===3&&t.length>=5&&!t.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(t)?{...r,type:"github-repo",isLegacy:!0,level:me.DiagnosticSeverity.Warning}:{...r,type:void 0,tooltip:tn.l10n.t("GitHub release feature id contains invalid characters"),level:me.DiagnosticSeverity.Error};let i=t.split("/");return t.includes(".")&&i.length>1&&i[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(t)?{...r,type:"oci"}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:tn.l10n.t("OCI Feature id contains invalid characters")}:{...r,type:void 0,level:me.DiagnosticSeverity.Error,tooltip:tn.l10n.t("Failed to parse feature identifier.")}}function qye(t,e,n){var i;if(!n){e.write("No index found.",5);return}let o=(n==null?void 0:n.collections.map(s=>s.features).flat()).find(s=>t===s.id||t.startsWith(`${s.id}:`));if(o){let s=`${o.name}
`??"",a=o.description?`
${o.description}
`:"",c=o.documentationURL?`
${o.documentationURL}
`:"",l="";if(o.majorVersion){let u=t.split(":");if(u.length===2){let d=u[1];if(d&&d!=="latest")try{let f=(i=SX.parse(d,{loose:!0}))==null?void 0:i.major,p=Number.parseInt(o.majorVersion),m=`
${tn.l10n.t("New major version '{0}' published.",p)}
`;if(f&&f<p)l=m;else{let h=Number.parseInt(d);h!==void 0&&h<p&&(l=m)}}catch{}}}return new me.MarkdownString(`${s}${a}${c}${l}`)}}function Wye(t,e,n){var i;let r=Xi(e,["features"]),o=[];for(let s of(r==null?void 0:r.children)||[])if(s.type==="property"){let a=(i=s.children)==null?void 0:i[0].value,c=Bye(a,n);if(c.hint){let l=t.positionAt(s.offset),u=t.positionAt(s.offset+s.length),d=new me.Diagnostic(new me.Range(l,u),c.hint,me.DiagnosticSeverity.Hint);o.push(d)}if(c.level!==void 0&&c.tooltip){let l=t.positionAt(s.offset),u=t.positionAt(s.offset+s.length),d=new me.Diagnostic(new me.Range(l,u),c.tooltip,c.level);d.code=c.code||{target:me.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"},o.push(d)}}return o}function Yye(t,e){return["extensions","settings","devPort"].filter(n=>Xi(t,[n])&&Xi(t,["vscode",n])).map(n=>{var s,a;let r=(((a=(s=Xi(t,[n]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],o=e.positionAt(r.offset),i=e.positionAt(r.offset+r.length);return new me.Diagnostic(new me.Range(o,i),tn.l10n.t('Legacy "{0}" property when "{0}" property under "vscode" is also present.',n),me.DiagnosticSeverity.Warning)})}var Og=G(require("vscode")),dU=require("vscode");async function NX(t,e){let n=await Vye(t);if(!n)return t.output.write("Failed to find configuration.  Cannot configure container features.",5),!1;let r=await zye(t,n,(e==null?void 0:e.preInstalledInBaseImageFeatureIds)||[]);if(!r)return!1;let o=await t.fileHost.toCommonURI(r);return o&&Og.window.showTextDocument(Og.Uri.parse(o.toString())),!!o}async function Vye(t){let e=await t.findDevContainerFiles();if(e.length){let n=await np(e);if(!n||n==="cancelled")return;let r=n.scheme==="file"?Ia(process.platform,Zd(n)):t.fileHost,o=r.path.dirname(Ie(n,r.platform)),i=r.path.basename(o)===".devcontainer"?r.path.dirname(o):o,s=It(r.path,i),a=await vI(r,s,n);if(a)return{fileHost:r,workspace:s,config:a}}else{let n=dU.l10n.t("Add Files...");await Og.window.showInformationMessage(dU.l10n.t("No container configuration file found."),{modal:!0},n)===n&&await Lg(t)}}async function zye(t,e,n){var p;let{fileHost:r,workspace:o,config:i}=e,s=Og.window.createQuickPick();s.ignoreFocusOut=!0;let a={workspace:o,quickPick:s,telemetry:await t.telemetry,output:t.output},l=(await ud(t.output)).collections.reduce((m,h)=>m.concat(h.features),[]).filter(m=>!m.deprecated),u=l.filter(m=>n.includes(m.id)),d=[];if(i.object.features&&Object.entries(i.object.features).length>0){let m=Object.keys(i.object.features);d=l.filter(h=>m.some(v=>v.split(":")[0]===h.id))}let f=await Tg(a,l,d,u,Promise.resolve(void 0),!0,!1);if(f)try{let m=i.text,h=i.text,v=_y(i.text);for(let g of l){let w=[],x=g.majorVersion?`${g.id}:${g.majorVersion}`:g.id,y=["features",x];if(!f[g.id]&&((p=i.object.features)!=null&&p[x]))w=w.concat(Sn(h,y,void 0,{formattingOptions:v}));else if(f[g.id]){let T=f[g.id];w=w.concat(Sn(h,y,T,{formattingOptions:v}))}w.length&&(h=wo(h,w))}return m!==h&&await sr(r,r).applyEdits(i.uri,[{content:h,offset:0,length:i.text.length}],i.text),s.dispose(),Ie(i.uri,r.platform)}catch(m){t.output.write(`Error in selecting dev container features: ${m}`,5),console.log("Error in selecting dev container features: ",m),s.dispose();return}}var qn=G(require("vscode")),AX=G(require("crypto")),xI=G(require("path")),fU=require("vscode");var LX={features:{}};function OX(t,e){let n=new Set,r=Promise.resolve(LX),o,i="remote-containers.editDevContainerJSON",s="codespaces.editDevContainerJSON",a=e.codespaces?s:i;t.subscriptions.push(qn.commands.registerCommand(a,async u=>u()),qn.languages.registerCodeLensProvider([{pattern:"**/devcontainer.json"},{pattern:"**/.devcontainer.json"}],{async provideCodeLenses(u,d){var m;let f=Object.keys(((m=Ge(u.getText()))==null?void 0:m.features)||{}).sort();f.some(h=>!n.has(h))&&(n=new Set(f),r=c(u,f));let p=await r;if(!d.isCancellationRequested)return l(u,p)}}));async function c(u,d){o||(o=await Jye(t,e));let f=u.uri;if(f.scheme!=="file"){let p=o.path.join(await o.tmpdir(),`dev-container-tmp-${AX.randomUUID()}`);await o.mkdirp(p);let m=o.path.join(p,".devcontainer.json");await o.writeFile(m,Buffer.from(JSON.stringify({features:d.reduce((g,w)=>(g[w]={},g),{})})));let h=xI.posix.basename(f.path)===".devcontainer.json",v=f.with({path:xI.posix.join(xI.posix.dirname(f.path),h?".devcontainer-lock.json":"devcontainer-lock.json")});try{let g=await qn.workspace.fs.readFile(v),w=o.path.join(p,".devcontainer-lock.json");await o.writeFile(w,Buffer.from(g))}catch(g){if((g==null?void 0:g.code)!=="FileNotFound")throw g}f=qn.Uri.file(m)}try{return Xye(t,o,o.cwd,f,e.output)}catch(p){return e.output.write(`Error fetching version info: ${(p==null?void 0:p.message)||p}`),LX}}function l(u,d){let f=vd(u.getText());if(!f)return;let p=Xi(f,["features"]);if(!(p!=null&&p.children)||p.type!=="object")return;let m=[];for(let h of p.children)if(h.type==="property"&&h.children){let E=function(T,k){return async()=>{let R=v.value.substring(0,w.length)+T;n.add(R),k&&!d.features[R]&&(d.features[R]=k);let b=qn.window.activeTextEditor;await(b==null?void 0:b.edit(I=>{I.replace(new qn.Range(b.document.positionAt(x),b.document.positionAt(x+y)),T)}))}},v=h.children[0],g=d.features[v.value],w=Kye(v.value),x=v.offset+1+w.length,y=v.length-2-w.length;if(g!=null&&g.wanted&&g.current!==g.wanted){let T=new qn.CodeLens(new qn.Range(u.positionAt(v.offset),u.positionAt(v.offset+v.length)),{title:fU.l10n.t("Update to {0}",g.wanted),command:a,arguments:[E(`:${g.wanted}`,{current:g.wanted,wanted:g.wanted,latest:g.latest})]});m.push(T)}if(g!=null&&g.latest&&g.current!==g.latest){let T=new qn.CodeLens(new qn.Range(u.positionAt(v.offset),u.positionAt(v.offset+v.length)),{title:fU.l10n.t("Update to latest {0}",g.latest),command:a,arguments:[E(`:${g.latest}`)]});m.push(T)}}return m}}var Gye=/[:@][^/]*$/;function Kye(t){let e=Gye.exec(t);return e?t.substring(0,e.index):t}async function Jye(t,e){let n={executeInWSL:"forWSLPath",defaultDistro:void 0},r=await ko(),o=process.cwd();return Lo(void 0,void 0,o,s=>Em(s,qn.env.appRoot),n,t.extensionPath,r,(await e.telemetry).product,e.output,void 0,void 0)}async function Xye(t,e,n,r,o){let i={cliHost:e,dockerPath:"",dockerComposePath:"",extensionPath:t.extensionPath,appRoot:qn.env.appRoot,output:o,package:await Ur(t.extensionPath)};return await ki(i,["outdated","--workspace-folder",n,...r?["--config",Ie(r,e.platform)]:[],"--output-format","json","--log-level",yo(Q0()),"--log-format","json",...o.dimensions?["--terminal-columns",String(o.dimensions.columns),"--terminal-rows",String(o.dimensions.rows)]:[]])}var CX=pn.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),bX=pn.Uri.parse("https://aka.ms/vscode-dev-containers");function UX(t,e){let{output:n}=e;n.write("Internal initialization of dev container support package...");let r,o=()=>r||(r=ud(e.output));return{async openConfiguration(){return IX(e)},async createConfiguration(i){return Lg(e,i)},async addExtensionToConfiguration(i){return PX(e,i)},async addPortLabelToConfiguration(i){return TX(e,i)},async configureContainerFeatures(i){return NX(e,i)},createCompletionItemProvider(){return DX(e)},startCodeLensProvider(){OX(t,e)},startHoverProvider(){RX(t,e,o)},startDiagnosticsCollection(){kX(t,e)}}}async function _X(){let t=pn.workspace.workspaceFile,e=pn.workspace.workspaceFolders,n;if(t){if(t.scheme==="untitled"){await Z0();return}n=t}else if(e&&e.length)if(e.length>1){let r=await pn.window.showWorkspaceFolderPick({placeHolder:Gt.l10n.t("Select a folder to create a container configuration for")});r&&(n=r.uri)}else n=e[0].uri;return n}function zo(t,e,n,r,o,i,s){if(t.value="",t.title=r||t.title||Gt.l10n.t("Add Dev Container Configuration Files"),t.placeholder=n,t.canSelectMany=!!o,Array.isArray(e))if(t.items=e,o)t.selectedItems=e.filter(f=>f.picked);else{let f=e.find(p=>p.picked);f&&(t.activeItems=[f])}t.buttons=i?Array.isArray(i)?i:[pn.QuickInputButtons.Back]:[];let a=[],c=t.items,l=c.filter(f=>f.isAlreadyInstalledViaBaseImage===!0),u={kind:pn.QuickPickItemKind.Separator,label:Gt.l10n.t("pre-installed features")};l.length&&(t.items=t.items.slice(0,c.length-l.length).concat(u).concat(t.items.slice(c.length-l.length)));let d=new Promise((f,p)=>{if(Array.isArray(e)||(t.busy=!0,e.then(m=>{if(t.busy=!1,t.items=m,o)t.selectedItems=m.filter(h=>h.picked);else{let h=m.find(v=>v.picked);h&&(t.activeItems=[h])}},m=>{t.busy=!1,p(m)})),a.push(t.onDidAccept(()=>{let m=o?t.selectedItems.slice():t.selectedItems[0];f(Array.isArray(i)?{pick:m,button:"ok"}:m),a.forEach(h=>h.dispose())})),a.push(t.onDidChangeSelection(m=>{if(!o)return;let h=l.filter(v=>!t.selectedItems.includes(v));h.length&&(t.selectedItems=t.selectedItems.concat(h))})),t.buttons.length&&a.push(t.onDidTriggerButton(m=>{let h=o?t.selectedItems.slice():t.activeItems[0];f(i===!0?"back":{pick:h,button:m}),a.forEach(v=>v.dispose())})),a.push(t.onDidHide(()=>{a.forEach(m=>m.dispose()),t.dispose(),f(void 0)})),s){let m;a.push(t.onDidChangeValue(h=>{let v=s(h);if(v||m){let g=t.items.filter(w=>w!==m);v&&g.push(v),m=v,t.items=g}}))}});return t.show(),d}var cU={label:Gt.l10n.t("Learn More"),description:Gt.l10n.t("Documentation on predefined container definitions"),alwaysShow:!0,type:"help"};async function wI(t,e,n,r){return sU(t,e,n,r)}async function Ng(t,e,n,r,o,i){var b;let{telemetry:s,existingFilesLearnMoreLink:a,index:c}=t,u=(o!=="userData"&&await((b=t.findDevContainerFiles)==null?void 0:b.call(t,"userData"))||[]).reduce((I,_)=>I&&I.uri.path.length<_.uri.path.length?I:_,void 0),d=(u==null?void 0:u.uri.scheme)==="file"?[{iconPath:new pn.ThemeIcon("go-to-file"),tooltip:Gt.l10n.t("Open File")}]:[],f=u?{label:Gt.l10n.t("Copy existing configuration to workspace"),detail:Gt.l10n.t("Copy the configuration from your user data folder to the workspace folder"),type:"userDataConfig",buttons:d}:void 0,p=c==null?void 0:c.collections.find(I=>I.sourceInformation.ociReference==="ghcr.io/devcontainers/templates"),m=p==null?void 0:p.templates.find(I=>I.id==="ghcr.io/devcontainers/templates/docker-existing-docker-compose"),h=p==null?void 0:p.templates.find(I=>I.id==="ghcr.io/devcontainers/templates/docker-existing-dockerfile"),v=await e.readDir(n.rootFolderPath),g=m?v.filter(I=>/(docker.*)?compose.*\.ya?ml$/i.test(I)).map(I=>e.path.join(n.rootFolderPath,I)):[],w=h?v.filter(I=>/dockerfile/i.test(I)).map(I=>e.path.join(n.rootFolderPath,I)):[],x=w.map(I=>{let _=e.path.basename(I);return{label:Gt.l10n.t("From '{0}'",_),description:FX(e,I),dockerfile:_,dockerfilePath:I,detail:Gt.l10n.t("Refer to the existing '{0}' in the container configuration",_),type:"dockerfile"}}),y=g.map(I=>{let _=e.path.basename(I);return{label:Gt.l10n.t("From '{0}'",_),description:FX(e,I),dockerComposeFile:_,dockerComposePath:I,detail:Gt.l10n.t("Refer to the existing '{0}' in the container configuration",_),type:"dockerComposeFile"}}),E=f||w.length>0||g.length>0,T={label:Gt.l10n.t("From a predefined container configuration definition..."),detail:Gt.l10n.t("Use a base configuration from the container definition registry"),alwaysShow:!0,type:"predefined"},k=t.quickPick.onDidTriggerItemButton(async()=>{await pn.commands.executeCommand("vscode.open",u.uri),t.quickPick.hide()}),R=E?await zo(t.quickPick,[T,...f?[f]:[],...x,...y,...a?[cU]:[]],Gt.l10n.t("How would you like to create your container configuration?")):T;if(k.dispose(),!R){Go(s,"canceled");return}if(R.type==="help"){Go(s,"help"),pn.env.openExternal(a);return}if(R.type==="userDataConfig")return Zye(e,n,u);if(i||(i=e&&n&&await vX()?tU(t,e,n).then(I=>{if(I.type!=="success")return;let _=((c==null?void 0:c.collections.map(S=>S.templates).flat())||[]).filter(S=>!Rg.includes(S.id)),D=((c==null?void 0:c.collections.map(S=>S.features).flat())||[]).filter(S=>!S.deprecated);return{template:_.find(S=>S.id===I.template),features:(I.features||[]).map(S=>D.find(C=>C.id===S)).filter(S=>!!S)}}):Promise.resolve(void 0)),R.type==="predefined")return wX(t,e,n,r,o,i,()=>Ng(t,e,n,r,o,i));if(R.type==="dockerComposeFile")return eEe(t,e,r,o,R.dockerComposePath,m,i,()=>Ng(t,e,n,r,o,i));if(R.type==="dockerfile")return Qye(t,e,r,o,R.dockerfilePath,h,i,()=>Ng(t,e,n,r,o,i))}function FX(t,e){let n=pn.workspace.workspaceFolders||[];if(n.length<2)return;let r=n.find(o=>t.platform==="win32"?e.toLowerCase().startsWith(o.uri.fsPath.toLowerCase()):e.startsWith(o.uri.fsPath));return r&&r.name}async function Zye(t,e,n){let r=Gt.l10n.t("Skip"),o=n.fileHost,i=Ie(n.uri,o.platform),s;if(o.path.basename(i)===".devcontainer.json")s=o.path.dirname(i);else for(let p=i;o.path.basename(p);p=o.path.dirname(p))if(o.path.basename(p)===".devcontainer"){s=o.path.dirname(p);break}if(!s)throw new Error(`Unexpected user config path: ${i}`);let a=o.readDirWithTypes||o.readDir,c=await a(s);for(;c.length;){let p=c.shift();if(p===oI)continue;let m=typeof p=="string"?p:p[0],h=o.path.join(s,m);if(typeof p=="string"?await o.isFile(h):(p[1]&1)!==0){let g=o.path.sep===t.path.sep?m:m.replaceAll(o.path.sep,t.path.sep),w=t.path.join(e.configFolderPath,g);if(await t.isFile(w)){let y=await pn.window.showInformationMessage(Gt.l10n.t("File '{0}' already exists, overwrite?",g),{modal:!0},r,Gt.l10n.t("Overwrite"));if(!y)return;if(y===r)continue}await t.mkdirp(t.path.dirname(w));let x=await o.readFile(h);await t.writeFile(w,x)}else(typeof p=="string"?await o.isFolder(h):(p[1]&2)!==0)&&c.push(...(await a(h)).map(w=>typeof w=="string"?o.path.join(m,w):[o.path.join(m,w[0]),w[1]]))}let l=Gt.l10n.t("Delete");await pn.window.showInformationMessage(Gt.l10n.t("Delete the configuration from the user data folder?"),{modal:!0},Gt.l10n.t("Keep"),l)===l&&await RJ(o,s);let d=o.path.relative(s,i),f=o.path.sep===t.path.sep?d:d.replaceAll(o.path.sep,t.path.sep);return t.path.join(e.configFolderPath,f)}async function Qye(t,e,n,r,o,i,s,a){let{telemetry:c}=t,l=await dp(t,i,s,async()=>{});if(!l){Go(c,"canceled");return}if(l==="back")return a();let u=await kg(t,e,n,r,l,(d,f)=>{if(!Sx(e.path,d))return f;let p=e.path.sep!==ka.sep?d.replace(ka.sep===ka.win32.sep?/\\/g:/\//g,e.path.sep):d,m=e.path.resolve(n,p),h=e.path.relative(e.path.dirname(m),o),v=e.platform==="win32"?h.replace(/\\/g,"/"):h,g=f.toString(),w="dockerFile"in Ge(g)?["dockerFile"]:["build","dockerfile"],x=Sn(g,w,v,{formattingOptions:{}}),y=wo(g,x);return Buffer.from(y)});return u&&Go(c,"dockerFile"),u}async function eEe(t,e,n,r,o,i,s,a){let{telemetry:c}=t,l=(await e.readFile(o)).toString(),u=bx(l);if(!u){await pn.window.showErrorMessage(Gt.l10n.t("Invalid docker-compose file '{0}'",o),{modal:!0});return}let d=u.version,f=Object.keys(u&&u.services||{}),p=f.length<2?f[0]||"":await zo(t.quickPick,f.map(g=>({label:g,type:"service"})),Gt.l10n.t("Select a service"),void 0,void 0,!0);if(p==="back")return a();if(p===void 0){Go(c,"canceled");return}let m=typeof p=="string"?p:p.label,h=await dp(t,i,s,async()=>{});if(!h)return;if(h==="back")return a();let v=await kg(t,e,n,r,h,(g,w)=>{if(Sx(e.path,g)){let x=e.path.sep!==ka.sep?g.replace(ka.sep===ka.win32.sep?/\\/g:/\//g,e.path.sep):g,y=e.path.resolve(n,x),E=e.path.relative(e.path.dirname(y),o),T=e.platform==="win32"?E.replace(/\\/g,"/"):E,k=w.toString(),R=Ge(k).dockerComposeFile,b=Array.isArray(R)?R.slice(1):[],I=[T,...b],_=Sn(k,["dockerComposeFile"],I,{formattingOptions:{}}),D=wo(k,_),S=Sn(D,["service"],m,{formattingOptions:{}}),C=wo(D,S);return Buffer.from(C)}if(/compose.*\.ya?ml$/.test(ka.posix.basename(g))){let x=w.toString(),y=bx(x);y.version&&d&&y.version!==d&&(x=x.replace(new RegExp(`^(version:.*)(${vm(y.version)})`,"m"),`$1${d}`));let E=Object.keys(y&&y.services||{});return E.length&&(x=x.replace(new RegExp(`\\b${E[0]}\\b`),m)),Buffer.from(x)}return w});return v&&Go(c,"dockerComposeFile"),v}function Go(t,e,n,r){var i;let o={outcome:e};if(n){o.definitionName=n.metadata.template.id;let s=n.metadata.copilotSuggestion,a=(i=s==null?void 0:s.template)==null?void 0:i.id;a&&(o.copilotSuggested=a),o.features=n.metadata.features.map(l=>l.id).join(",");let c=s==null?void 0:s.features.map(l=>l.id).join(",");c&&(o.copilotFeatures=c),a&&(o.copilotUsed="true")}r&&(o.targetLocation=r),t.sendTelemetryEvent("createConfiguration",o)}async function vI(t,e,n){if(n||(n=await Xd(t,e.configFolderPath)),!n)return;let r=await sr(t,t).readDocument(n);if(!r)return;let o=Ge(r);return{uri:n,text:r,object:o}}async function MX(t,e,n,r,o,i,s){let a=Br(n);if(on(a)&&!await ze.workspace.requestWorkspaceTrust({message:ky}))return yr(a.hostPath)?(await ze.window.showInformationMessage(Dr.l10n.t("The WSL folder is currently not trusted."),{modal:!0,detail:Dr.l10n.t("Trust is required to build a dev container from it. The folder will now reopen in WSL.")}),await ze.commands.executeCommand("remote-containers.reopenInWSL")):(await ze.window.showInformationMessage(Dr.l10n.t("The local folder is currently not trusted."),{modal:!0,detail:Dr.l10n.t("Trust is required to build a dev container from it. The folder will now reopen locally.")}),await ze.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let c=so(a);if(c&&!await Ry(t,a.repositoryPath))return await ze.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{});let l=sc(a);return{...await tEe(a,t,i,s,e,n,r,o),isTrusted:c||l||void 0}}async function tEe(t,e,n,r,o,i,s,a){let{log:c,logFilePath:l}=n,u="hostPath"in t&&yr(t.hostPath)&&!!ze.extensions.getExtension("ms-vscode-remote.remote-wsl");u&&ze.commands.executeCommand("setContext","canReopenInWSL",!0);let d=t.settings,f="localDocker"in t&&t.localDocker,p=Tl(t.parentAuthority)||Pl(d)&&!f,m=p&&(!!ze.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!ze.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));m&&ze.commands.executeCommand("setContext","canReopenInSSH",!0);let h=uc(t.parentAuthority)&&!!ze.extensions.getExtension("ms-vscode.remote-server");h&&ze.commands.executeCommand("setContext","canReopenInTunnel",!0);let v=!p&&!uc(t.parentAuthority);v&&ze.commands.executeCommand("setContext","canReopenLocally",!0);let g;return ze.window.withProgress({location:ze.ProgressLocation.Notification,title:Sg,cancellable:!1},async w=>{if(t.parentAuthority&&!s.execServer)throw new Error(`Parent authority found without ExecServer: ${i}`);let x=Ta(),y=$l(e.extensionPath,sp,c),{cliHost:E,originalCwd:T}=await nEe(s.execServer,t,x,e.extensionPath,await ko(),y,o.product,c),k={...await y,...await Mm(E,t.settings)},R={...E.env,...k},b=await _g({authority:i,extensionContext:e,sessionStart:n.sessionStart,progress:w,cliHost:E,env:R,cwd:E.cwd,wslSettings:x,isLocalContainer:x_(t.parentAuthority,k),telemetry:o,output:c,logFilePath:l,allowSystemConfigChange:!0,postCreate:r}),I={async createConfiguration(_,D){return wI({fileHost:D,userDataFolderForConfigurations:on(t)?await Zc(e,E):void 0,telemetry:o,output:c,openConfigurationCommandId:ip,showLogCommandId:Tt},It(Fy.posix,_))},async showError(_,...D){return await ze.window.showErrorMessage(_,{modal:!0},...D)}};return g={common:b,parsedAuthority:t,dockerCLI:Ps(),dockerComposePath:Pa(),dockerComposeCLI:Ys({exec:b.cliHost.exec,env:{...k,...xn(k)},output:b.output},Ps(),Pa()),dockerEnv:k,workspaceMountConsistencyDefault:uI(),cacheMount:dI()?"volume":"none",configurationTracking:lI(e.workspaceState),removeOnStartup:await zJ(e,i),buildNoCache:await KJ(e,i),onRemoveOnShutdownChanged:a,userRepositoryConfigurationPaths:Ty(),originalCwd:T,configProvider:I,development:e.extensionMode===ze.ExtensionMode.Development,watch:async(_,D)=>{let S=ze.workspace.createFileSystemWatcher(new ze.RelativePattern(_,"*"));return S.onDidChange(D),S.onDidCreate(D),S.onDidDelete(D),S},ensureNoDisallowedFeatures:(_,D,S)=>yg(_,e.globalState,D,S),useExperimentalLockfile:fI()},await w_(g),s3(g)}).then(w=>(a(async x=>{await GJ(e,x&&w.dockerContainerId||!1),await Py(e,x==="rebuildNoCache"?i:!1)}),Xc(o,pU(t),"success",n.sessionStart,g==null?void 0:g.common,w.config,w.configLocationType,w.properties),w),w=>{var I;let x=w instanceof Ee?w:new Ee({description:Dr.l10n.t("An error occurred setting up the container."),originalError:w});so(t)&&(x.volumeName=t.volumeName,x.repositoryPath=t.repositoryPath,x.folderPath=t.folder),Xc(o,pU(t),"failure",n.sessionStart,g==null?void 0:g.common,x.config,void 0,x.containerProperties,x);let y="onTheSide",E=(I=x.data)==null?void 0:I.fileWithError;!E&&(g!=null&&g.parsedAuthority)&&on(g.parsedAuthority)&&g.parsedAuthority.configFile&&(E=Ie(g.parsedAuthority.configFile,g.common.cliHost.platform));let T=E&&(g==null?void 0:g.common.cliHost.path.basename(E))||"devcontainer.json",k=on(t)?[{id:"openFileWithErrorLocally",title:Dr.l10n.t("Edit {0} Locally",T),isLastAction:!0,applicable:async(_,D)=>v&&!(D&&u),async execute(){let _=g==null?void 0:g.common.cliHost,D=E?_.type==="wsl"?await _.toCommonURI(E):_e.file(E):void 0;await bg(e,t.hostPath,D,l,y);let S=ze.Uri.file(t.hostPath);await ze.commands.executeCommand("vscode.openFolder",S)}},{id:"openFileWithErrorinWSL",title:Dr.l10n.t("Edit {0} in WSL",T),isLastAction:!0,applicable:async()=>u,async execute(){let _=ze.Uri.parse((await hm(t.hostPath,c)).toString()),D=E?kn(E.startsWith("/")?"linux":"win32",_,E):void 0;await bg(e,_.path,D,l,y),await ze.commands.executeCommand("vscode.openFolder",_)}},{id:"openFileWithErrorinSSH",title:Dr.l10n.t("Edit {0} in SSH",T),isLastAction:!0,applicable:async()=>m,async execute(){let _=t.settings,D=Pl(_)?px(_.host,t.hostPath):zl(t.parentAuthority,t.hostPath),S=ze.Uri.parse(D.toString()),C=E?kn(E.startsWith("/")?"linux":"win32",S,E):void 0;await bg(e,S.path,C,l,y),await ze.commands.executeCommand("vscode.openFolder",S)}},{id:"openFileWithErrorinTunnel",title:Dr.l10n.t("Edit {0} in Tunnel",T),isLastAction:!0,applicable:async()=>h,async execute(){let _=ze.Uri.parse(zl(t.parentAuthority,t.hostPath).toString()),D=E?kn(E.startsWith("/")?"linux":"win32",_,E):void 0;await bg(e,_.path,D,l,y),await ze.commands.executeCommand("vscode.openFolder",_)}}]:[],R=so(t)?t.inspectVolume?[cd]:[{id:"reopenInRecoveryContainer",title:Dr.l10n.t("Edit {0} in Recovery Container",T),isLastAction:!0,applicable:(_,D)=>!0,execute:async _=>{await bg(e,t.repositoryPath,E?_e.file(E).with({scheme:"vscode-remote"}):void 0,l,y);let D=si(_.repositoryPath),S=await No(g),C=VN(D,_.volumeName,S);await ze.commands.executeCommand("remote-containers.inspectVolume",C,_.repositoryPath,_.folderPath)}},cd,{id:"openRepository",title:Dr.l10n.t("Open Repository"),isLastAction:!1,applicable:(_,D)=>!D,async execute(){ze.env.openExternal(ze.Uri.parse(t.repositoryPath))}}]:[],b=Ox(t)?[cd]:[];return x.actions=[...Pg,up,sX,...k,...R,...b,Ig,lp],rEe(x),ld(x,pU(t),o,!0,n.log)})}async function nEe(t,e,n,r,o,i,s,a){let{settings:c}=e,l=c&&"host"in c&&c.host||void 0;if(on(e)){let u=It(Fy,e.hostPath),d=u.rootFolderPath,f=await Lo(t?{server:t,authority:e.parentAuthority}:void 0,l,u.rootFolderPath,Bn,n,r,o,s,a,Ts,{sshAskpassEnv:i,settings:Cg(),localDocker:e.localDocker});return f.cwd!==u.rootFolderPath&&(u=It(f.path,u.isWorkspaceFile?f.path.join(f.cwd,Fy.basename(e.hostPath)):f.cwd)),a.write(`Setting up container for folder or workspace: ${u.workspaceOrFolderPath}\r
`),v_(a,e),e.localDocker&&a.write(`Local Docker: ${e.localDocker}\r
`),{cliHost:f,originalCwd:d}}else{let u=await Lo(t?{server:t,authority:e.parentAuthority}:void 0,l,void 0,Bn,n,r,o,s,a,Ts,{sshAskpassEnv:i,settings:Cg()});return{cliHost:u,originalCwd:await u.homedir()}}}function pU(t){return on(t)?"config":so(t)?t.inspectVolume?"volume":"repository":"volume"}function rEe(t){let e=(t.originalError&&(t.originalError.cmdOutput||t.originalError.message)||"").toLowerCase();e&&e.indexOf("drive has not been shared")!==-1?t.description=Dr.l10n.t("The drive of the workspace folder is not shared. Share it in the Docker settings first."):e&&(e.indexOf("port is already allocated")!==-1||e.indexOf("address already in use")!==-1)?t.description=Dr.l10n.t("A port the container is setup to bind to is already in use. See the Dev Containers terminal for details."):e&&e.indexOf('invalid mount config for type "bind"')!==-1?t.description=Dr.l10n.t("A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running."):e&&e.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(t.description=Dr.l10n.t("The base image references the obsolete Debian 8 update repository."),t.actions.push({id:"learnMore",title:Dr.l10n.t("Learn More"),isLastAction:!1,applicable:(n,r)=>r,async execute(){ze.env.openExternal(ze.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var Na=G(require("vscode")),Fg=require("vscode");var yI=G(Tr());var jX=require("util");var Ra=G(require("path")),HX=G(require("crypto"));async function BX(t,e,n,r){var m,h;let{dockerCLI:o,dockerComposeCLI:i,dockerComposePath:s,common:a}=t,{cliHost:c,extensionPath:l,appRoot:u,postCreate:d,output:f}=a,p;try{let{commit:v}=a.product;if(!v)throw new Ee({description:yI.t("Cannot attach without commit id for the remote extension host.")});let g=r?n.configFilePath:void 0;if((g==null?void 0:g.scheme)==="file"&&c.type!=="local"){let A=c.path.join(await c.tmpdir(),`devcontainer-config-${HX.randomUUID()}.json`);await c.writeFile(A,await ot(g.fsPath)),g=_e.from({scheme:it.scheme,path:A})}let w={...a.env,...xn(a.env)},x={cliHost:c,dockerPath:o,dockerComposePath:s,env:w,extensionPath:l,appRoot:u,package:a.package,postCreate:d,output:f},y=a.postCreate.output.dimensions||f.dimensions,E=await ki(x,["set-up","--container-id",e.Id,...c.type==="local"&&a.persistedFolder?["--user-data-folder",a.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...a.containerSessionDataFolder?["--container-session-data-folder",a.containerSessionDataFolder]:[],"--log-level",yo(a.getLogLevel()),"--log-format","json",...g?["--config",Ie(g,c.platform)]:[],"--default-user-env-probe",a.defaultUserEnvProbe,"--skip-post-create",...y?["--terminal-columns",String(y.columns),"--terminal-rows",String(y.rows)]:[]]);if((E==null?void 0:E.outcome)!=="success")throw new Ee({description:yI.t("devcontainer command failed: {0}",JSON.stringify(E))});let{mergedConfiguration:T}=await Bl(x,void 0,g,a.getLogLevel(),{},[],e.Id,void 0),k=T.remoteUser;p=await km(t,e.Id,T.workspaceFolder,k);let R={cliHost:c,dockerCLI:o,dockerComposeCLI:i,dockerComposePath:s,env:w,output:d.output},b=((h=(((m=T.customizations)==null?void 0:m.vscode)||[]).slice().reverse().find(A=>typeof A.devPort=="number"))==null?void 0:h.devPort)||Gd,{hostOrContainerPort:I,hostPortServer:_,connectionToken:D,remoteEnv:S,serverDownloaded:C}=await Al(a,p,n,T,b,Rm(t,R,p,void 0,void 0,e.Id,!1,g,void 0)),L=sr(a.cliHost,p.shellServer);if(oEe(a,p,L,n.configFilePath),sEe(a,p,L,n.configFilePath),_){let A=async()=>{await(0,jX.promisify)(_.close.bind(_))()};a.shutdowns.push(A)}return{params:a,properties:p,config:n,resolvedAuthority:{host:Hl,port:I,connectionToken:D,extensionHostEnv:S},tunnelInformation:a.isLocalContainer?Tm(e):{},dockerParams:t,dockerContainerId:e.Id,serverDownloaded:C}}catch(v){let g=v instanceof Ee?v:new Ee({description:yI.t("An error occurred attaching to the container."),originalError:v});throw e&&(g.manageContainer=!1,g.params=t.common,g.containerId=e.Id,g.dockerParams=t),p&&(g.containerProperties=p),g.config=n,g}}function oEe(t,e,n,r){e.installFolder&&qX(t,e,n,r).catch(console.error)}async function qX(t,e,n,r){try{await nc(t,e,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],Mz(e),{print:"off"});return}catch(o){(o==null?void 0:o.code)===1?await iEe(t,e,n,r):(o==null?void 0:o.code)!==2&&await Mr(6e4)}return qX(t,e,n,r)}async function iEe(t,e,n,r){let o=await $z(t,e);await vN(r,async()=>{var s,a;let i=await EI(t.cliHost,n,r,e.remoteWorkspaceFolder);if(!cEe(((a=(s=i.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],o)){let c=Sn(i.text,["extensions"],o,{formattingOptions:{}});await Ti(n,r,c,i.text)}})}function sEe(t,e,n,r){WX(t,e,n,r).catch(console.error)}async function WX(t,e,n,r){try{let o=jb(e),i=Ra.posix.dirname(o),s=Ra.posix.basename(o);await nc(t,e,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],i,{print:"off"});return}catch(o){(o==null?void 0:o.code)===1?await aEe(t.cliHost,e,n,r):(o==null?void 0:o.code)!==2&&await Mr(6e4)}return WX(t,e,n,r)}async function aEe(t,e,n,r){let{stdout:o}=await e.shellServer.exec(`cat ${jb(e)}`),i=Ge(o)||{};await vN(r,async()=>{var a,c;let s=await EI(t,n,r,e.remoteWorkspaceFolder);if(JSON.stringify(((c=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:c.settings)||{})!==JSON.stringify(i)){let l=Sn(s.text,["settings"],i,{formattingOptions:{}});await Ti(n,r,l,s.text)}})}function cEe(t,e){let n=new Set(t),r=new Set(e);return n.size===r.size&&t.every(o=>r.has(o))}async function YX(t,e){let n=bI(t,e),r=await $X(n);return r||(n=GX(t,e.Config.Image),r=await $X(n)),r}async function VX(t,e,n,r,o){let i=_e.file(bI(n,r)),s=await EI(t,e,i,o);return s.exists||(i=_e.file(GX(n,r.Config.Image)),s=await EI(t,e,i,o)),s}function CI(t){return Ra.join(t,"nameConfigs")}function bI(t,e){return Ra.join(CI(t),`${JX(dc(e))}.json`)}async function zX(t){try{let e=CI(t);return(await rl(e)).filter(r=>r.endsWith(".json")).map(r=>({name:XX(r.substr(0,r.length-5)),uri:_e.file(Ra.join(e,r))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function _I(t){return Ra.join(t,"imageConfigs")}function GX(t,e){return Ra.join(_I(t),`${JX(e)}.json`)}async function KX(t){try{let e=_I(t);return(await rl(e)).filter(r=>r.endsWith(".json")).map(r=>({image:XX(r.substr(0,r.length-5)),uri:_e.file(Ra.join(e,r))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function JX(t){return t.replace(/[:/%]/g,e=>`%${e.charCodeAt(0).toString(16)}`)}function XX(t){return t.replace(/%([0-9a-f]{2})/g,(e,n)=>String.fromCharCode(parseInt(n,16)))}async function $X(t){if(!await gr(t))return;let e=await ot(t),n=Ge(e.toString())||{},r=Ix(n);return r.configFilePath=_e.file(t),r}async function EI(t,e,n,r){let o=await e.readDocument(n),i=o||oc,s=Ge(i)||{},a=Ix(s),c=Nb({platform:t.platform,configFile:n,env:t.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:r},a);return c.configFilePath=n,{exists:!!o,text:i,config:c}}async function ZX(t,e,n,r,o,i){return await ad(t)?{...await lEe(t,e,n,r,o,i),isTrusted:!0}:(await Na.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function lEe(t,e,n,r,o,i){let s,a;return Na.window.withProgress({location:Na.ProgressLocation.Notification,title:Sg,cancellable:!1},async c=>{var l,u;try{let d=fc(n);if(d.parentAuthority&&!r.execServer)throw new Error(`Parent authority found without ExecServer: ${n}`);let{settings:f}=d,p="containerName"in d?d.containerName:d.containerId;o.log.write(`Setting up container: ${p}\r
`),v_(o.log,d);let m=f&&"host"in f&&f.host||void 0,h=Ta(),v=$l(t.extensionPath,sp,o.log),g=await Lo(r.execServer?{server:r.execServer,authority:d.parentAuthority}:void 0,m,d.cwd,Bn,h,t.extensionPath,await ko(),e.product,o.log,Ts,{sshAskpassEnv:v,settings:Cg()}),w=Ps(),x={...await v,...await Mm(g,f)},y=Ys({exec:g.exec,env:{...x,...xn(x)},output:o.log},Ps(),Pa()),E={...g.env,...x},T=await ii({cliHost:g,dockerCLI:w,dockerComposeCLI:y,dockerComposePath:Pa(),env:E,output:o.log},"containerName"in d?d.containerName:d.containerId);if(!T)throw new Ee({description:Fg.l10n.t("Cannot attach to the container with name/id {0}, it no longer exists.",p),data:{reload:!1,attach:!0}});let k=(u=(l=(Na.workspace.workspaceFolders||[void 0])[0])==null?void 0:l.uri)==null?void 0:u.path,R=await VX(g,ss,t.globalStoragePath,T,k);if(k&&R.config.workspaceFolder!==k){let D=Sn(R.text,["workspaceFolder"],k,{formattingOptions:{}});await Ti(ss,R.config.configFilePath,D,R.text)}s={common:await _g({authority:n,extensionContext:t,sessionStart:o.sessionStart,progress:c,cliHost:g,env:E,cwd:d.cwd||await g.homedir(),wslSettings:h,isLocalContainer:x_(d.parentAuthority,x),telemetry:e,output:o.log,logFilePath:o.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:d,dockerCLI:w,dockerComposePath:Pa(),dockerComposeCLI:y,dockerEnv:x,workspaceMountConsistencyDefault:uI(),cacheMount:dI()?"volume":"none",configurationTracking:lI(t.workspaceState),userRepositoryConfigurationPaths:[],development:t.extensionMode===Na.ExtensionMode.Development,ensureNoDisallowedFeatures:(D,S,C)=>yg(D,t.globalState,S,C),useExperimentalLockfile:fI()},await w_(s);let b=Om(d.parentAuthority,f),I=dc(T),_=Fg.l10n.t("Container {0} ({1}){2}",T.Config.Image,I,b);if(s.common.setWorkspaceName(_),T.State.Status!=="running")throw new Ee({description:Fg.l10n.t("Cannot attach to the container {0} ({1}){2}, it is not running.",T.Config.Image,I,b),params:s.common,containerId:T.Id,dockerParams:s,data:{reload:!1,start:!0}});return await BX(s,T,R.config,R.exists)}catch(d){let f=d instanceof Ee?d:new Ee({description:Fg.l10n.t("An error occurred attaching to the container."),originalError:d});throw f.actions=[aX,cX,...Pg,up,cd,Ig,lp],f}}).then(c=>(Xc(e,"attach","success",o.sessionStart,s==null?void 0:s.common,a,void 0,c.properties),c),c=>{let l=c instanceof Ee?c:new Ee({description:Fg.l10n.t("An error occurred attaching to the container."),originalError:c});return Xc(e,"attach","failure",o.sessionStart,s==null?void 0:s.common,a,void 0,l.containerProperties,l),ld(l,"attach",e,!0,o.log)})}var lt=G(require("vscode")),He=require("vscode");var nn=G(require("vscode")),La=require("vscode"),eZ=G(require("path")),fp=G(require("os")),Uy=G(require("fs")),tZ=G(require("child_process")),nZ=G(require("crypto")),rZ=G(av());async function DI(t){fEe()?await new mU().downloadAndInstallDocker(t):oZ()?await new hU().downloadAndInstallDocker(t):await nn.env.openExternal(nn.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var SI=class{async downloadAndInstallDocker(e){if(await this.preInstallCheck(e)){let r=La.l10n.t("Downloading Docker installer..."),o=La.l10n.t("The Docker Desktop installation is started. Complete the installation and then start Docker Desktop."),i;try{i=await nn.window.withProgress({location:nn.ProgressLocation.Notification,title:r},async()=>this.downloadInstaller())}catch(a){let c=La.l10n.t("Downloading the Docker Desktop installer failed. Do you want to manually download and install?"),l=La.l10n.t("Download");throw this.handleError(c,l,this.downloadUrl),a}let s=this.getInstallCommand(i);nn.window.showInformationMessage(o);try{await this.install(i,s,e)}catch(a){let c=La.l10n.t("Docker Desktop installation failed. ({0})",String(a==null?void 0:a.message)),l=La.l10n.t("Install Instruction");throw this.handleError(c,l,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(e){let n=!0;if(await new gU(e).isDockerInstalledRealTimeCheck()){let r=La.l10n.t("Docker Desktop is already installed. Would you like to reinstall?"),o=La.l10n.t("Reinstall");n=await nn.window.showInformationMessage(r,{modal:!0},o)!==void 0}return n}async downloadInstaller(){let e=`${dEe()}.${this.fileExtension}`;return await mEe(this.downloadUrl,e),e}handleError(e,n,r){nn.window.showErrorMessage(e,{title:n}).then(o=>{o&&nn.env.openExternal(nn.Uri.parse(r))})}},mU=class extends SI{downloadUrl="https://aka.ms/download-docker-windows-vscode";fileExtension="exe";getInstallCommand(e){return`"${e}"`}async install(e,n,r){try{r.write(`Executing command ${n}`),await iZ(n,r)}finally{try{await Uy.promises.stat(e),await Uy.promises.unlink(e)}catch{}}}},hU=class extends SI{downloadUrl=`https://aka.ms/download-docker-mac${process.arch==="arm64"?"-arm64":""}-vscode`;fileExtension="dmg";getInstallCommand(e){return`chmod +x '${e}' && open '${e}'`}async install(e){let n=La.l10n.t("Docker Install"),r=this.getInstallCommand(e);await pEe(r,n,{addDockerEnv:!1})}},uEe=0;function dEe(){return eZ.join(fp.tmpdir(),`${nn.env.sessionId}-${uEe++}.tmp`)}function fEe(){return fp.platform()==="win32"}function oZ(){return fp.platform()==="darwin"}async function pEe(t,e,n){var a,c;let r;n=n??{},n.addDockerEnv&&(r={});let o=new nn.Task({type:"shell"},n.workspaceFolder??nn.TaskScope.Workspace,e,"Docker",new nn.ShellExecution(t,{cwd:n.cwd||((c=(a=n.workspaceFolder)==null?void 0:a.uri)==null?void 0:c.fsPath)||fp.homedir(),env:r}),[]);n.alwaysRunNew&&(o.definition.idRandomizer=nZ.randomUUID()),n.focus&&(o.presentationOptions={focus:!0});let i=await nn.tasks.executeTask(o);return new Promise((l,u)=>{let d=nn.tasks.onDidEndTaskProcess(f=>{f.execution===i&&(d.dispose(),f.exitCode&&n.rejectOnError&&u(f.exitCode),l())})})}var gU=class{constructor(e){this.output=e;this.isDockerInstalledLazy=new xU(async()=>{let n=await this.isDockerInstalledRealTimeCheck();return n&&this.isDockerInstalledLazy.cacheForever(),n},this.maxCacheTime)}maxCacheTime=3e4;isDockerInstalledLazy;async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{let e=await Do("docker");return await iZ(`${e} -v`,this.output),!0}catch{return!1}}};async function mEe(t,e){await new Promise((n,r)=>{let o=Uy.createWriteStream(e);rZ.https.get(t,s=>{if(s.statusCode<200||s.statusCode>299){r(new Error(`Failed to download Docker (${t}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",r),s.pipe(o),s.on("end",n)}).on("error",r)})}var QX=10*1024;async function iZ(t,e,n,r){let o=Buffer.alloc(n&&n.maxBuffer||QX),i=Buffer.alloc(n&&n.maxBuffer||QX);return await hEe(t,e,n,r,o,r,i),{stdout:vU(o),stderr:vU(i)}}async function hEe(t,e,n,r,o,i,s,a){return await new Promise((c,l)=>{let u,d=0,f=0;n=n||{},n.shell=!0,gEe(n,e);let p=tZ.spawn(t,n);p.on("error",m=>(u&&(u.dispose(),u=void 0),l(m))),p.on("close",(m,h)=>{if(u&&(u.dispose(),u=void 0),a&&a.isCancellationRequested)return l(new Error("User canceled"));if(m){let v=`Process '${t.length>50?`${t.substring(0,50)}...`:t}' exited with code ${m}`;s&&(v+=`
Error: ${vU(s)}`);let g=new Error(v);return g.code=m,g.signal=h,g.stdErrHandled=i!==null,l(g)}return c()}),n!=null&&n.stdin&&(p.stdin.write(n.stdin),p.stdin.end()),(r||o)&&p.stdout.on("data",m=>{let h=m.toString();r&&r(h,p),o&&(d+=o.write(h,d))}),(i||s)&&p.stderr.on("data",m=>{let h=m.toString();i&&i(h,p),s&&(f+=s.write(h,f))}),a&&(u=a.onCancellationRequested(()=>{p.kill()}))})}function gEe(t,e){var n;oZ()&&(/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((n=t==null?void 0:t.env)==null?void 0:n.PATH)||process.env.PATH||"")||(t=t??{},t.env=t.env??{...process.env},e.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),t.env.PATH=`${t.env.PATH}:/usr/local/bin`))}function vU(t){return t.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var xU=class{constructor(e,n){this.valueFactory=e;this._valueLifetime=n}_isValueCreated=!1;_value;_valuePromise;get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let e=this._valuePromise===void 0;e&&(this._valuePromise=this.valueFactory());let n=await this._valuePromise;if(e&&(this._value=n,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&e){let r=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(r)},this._valueLifetime)}return n}};var sZ=G(require("os")),Ug=G(require("crypto")),aZ=G(require("net")),cZ=G(require("path")),Kt=G(require("vscode")),rn=require("vscode");var lZ=require("string_decoder");var uZ="done",II="devcontainers";async function TI(t,e,n,r){return Kt.commands.executeCommand(Tt),Kt.window.withProgress({location:Kt.ProgressLocation.Notification,title:"Installing Docker in WSL"},async o=>{let i={},s={};try{await vEe(t,e,n,o,i,s)}catch(a){i.outcome="error",i.errorMessage=a==null?void 0:a.message,e.write(`Failed with error: ${(a==null?void 0:a.message)||a}`)}finally{r.sendTelemetryEvent("installDockerInWSL",i,s)}return i.outcome===uZ})}async function dZ(t){if(process.platform!=="win32")return!1;let e=pZ();if(t.write(`Windows build number: ${e}`),e<My)return t.write(`WSL version 2 is required to run Docker and that is only available since Windows build ${My}.`),!1;let n=await oo(process.cwd(),Bn,t);return!await PI(n,e,t)&&e<fZ?(t.write(`WSL is not installed and can only be installed automatically since Windows build ${My}.`),!1):!0}async function vEe(t,e,n,r,o,i){let s=pZ();if(e.write(`Windows build number: ${s}`),s<My)return o.outcome="wsl2NotAvailableForWindowsBuild",Kt.window.showInformationMessage(rn.l10n.t("WSL version 2 is required to run Docker and that is only available since Windows build {0}.",My),{modal:!0});let a=await oo(process.cwd(),Bn,e);if(r.report({message:rn.l10n.t("Checking if WSL is installed.")}),!await PI(a,s,e)){if(s<fZ)return o.outcome="wslInstallerNotAvailableWithWindowsBuild",Kt.window.showInformationMessage(rn.l10n.t("WSL is not installed. Please install WSL manually and retry."),{modal:!0});if(r.report({message:rn.l10n.t("Installing WSL.")}),await wEe(a,t.extensionPath,e,n))return o.outcome="rebootRequiredAfterWSLInstall",Kt.window.showInformationMessage(rn.l10n.t("Please reboot your machine to finalize the WSL setup."),{modal:!0});if(!await PI(a,s,e)&&(await new Promise(k=>setTimeout(k,3e3)),!await PI(a,s,e)))return o.outcome="wslNotFoundAfterInstall",Kt.window.showInformationMessage(rn.l10n.t("WSL not found after install."),{modal:!0})}r.report({message:rn.l10n.t("Checking WSL version.")}),o.wslVersion=await yEe(a,e),r.report({message:rn.l10n.t("Listing installed WSL distributions.")});let l=await wU(a,e);if(!l.length){if(r.report({message:rn.l10n.t("Installing WSL distribution.")}),await CEe(a,e,n))return o.outcome="featureMissingDuringDistroInstall",Kt.window.showInformationMessage(rn.l10n.t("A required feature is missing. Please reboot your machine to finalize the WSL setup if you haven't done so yet."),{modal:!0});if(l=await wU(a,e),!l.length&&(await new Promise(E=>setTimeout(E,3e3)),l=await wU(a,e),!l.length))return o.outcome="noDistroAfterInstall",Kt.window.showInformationMessage(rn.l10n.t("No WSL distro found after install."),{modal:!0})}i.wslDistros=l.length;let u=l.find(y=>y.isDefault);if(!u&&l.length===1&&(u=l[0]),!u)return o.outcome="noDefaultDistro",Kt.window.showInformationMessage(rn.l10n.t("No default WSL distro found."),{modal:!0});if(o.isDefaultDistro=String(u.isDefault),u.version!=="2")return o.outcome="defaultDistroNotVersion2",Kt.window.showInformationMessage(rn.l10n.t("Default distro is not using WSL version 2."),{modal:!0});r.report({message:rn.l10n.t("Reading distribution information.")});let d=tc("wsl",["-u","root","-e"],void 0),f=await vn(d,e,void 0,"linux","Host"),{stdout:p}=await f.exec("cat /etc/os-release || cat /usr/lib/os-release || true"),m=bEe(p);if(o.distro=m.ID,m.ID!=="debian"&&m.ID!=="ubuntu")return o.outcome="distroNotSupported",Kt.window.showInformationMessage(m.NAME?rn.l10n.t("Unsupported WSL distribution: {0}",m.NAME):rn.l10n.t("Unsupported WSL distribution."),{modal:!0});let h=tc("wsl",["-e"],void 0),v=await vn(h,e,void 0,"linux","Host"),g=await Il(v);if(g==="root"){try{await f.exec(`id ${II}`)}catch{await f.exec(`useradd --create-home --shell /usr/bin/bash --user-group --groups adm,dialout,cdrom,floppy,sudo,audio,dip,video,plugdev,netdev --password '${Ug.randomUUID()}' ${II}`)}if(await f.exec(`cat >>/etc/wsl.conf <<'wslConf'
[user]
default=${II}
wslConf
`),await ae({exec:a.exec,cmd:"wsl",args:["--terminate",u.name],output:e,print:"continuous"}),f=await vn(d,e,void 0,"linux","Host"),v=await vn(h,e,void 0,"linux","Host"),await Il(v)==="root")return o.outcome="failedToSwitchUser",Kt.window.showInformationMessage(rn.l10n.t("Default user in WSL is root, requiring a regular user."),{modal:!0})}let w=await yU(v,"docker")||await yU(f,"docker")||await yU(f,"dockerd");if(w){await f.exec(`usermod -aG docker ${g}`).catch(()=>{});let y=rn.l10n.t("Reinstall");if(await Kt.window.showInformationMessage(rn.l10n.t("Docker is already installed in WSL."),{modal:!0,detail:rn.l10n.t("Path: {0}",w)},y)!==y){o.outcome="dockerAlreadyInstalled";return}}r.report({message:rn.l10n.t("Installing Docker.")}),await f.exec("export DEBIAN_FRONTEND=noninteractive"),await f.exec("apt update && apt -y install --no-install-recommends apt-transport-https ca-certificates curl gnupg2"),await f.exec(`curl -fsSL https://download.docker.com/linux/${m.ID}/gpg | tee /etc/apt/trusted.gpg.d/docker.asc`),await f.exec(`echo "deb [arch=$(dpkg --print-architecture)] https://download.docker.com/linux/${m.ID} ${m.VERSION_CODENAME} stable" | tee /etc/apt/sources.list.d/docker.list`),await f.exec("apt update && apt -y install --no-install-recommends docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin"),await f.exec(`usermod -aG docker ${g}`),r.report({message:rn.l10n.t("Updating Settings.")});let x=Kt.workspace.getConfiguration();await x.update(Za("executeInWSL"),!0,Kt.ConfigurationTarget.Global),await x.update(Za("executeInWSLDistro"),u.isDefault?void 0:u.name,Kt.ConfigurationTarget.Global),o.outcome=uZ}var My=18917,fZ=20262;function pZ(){let t=sZ.release(),e=process.platform==="win32"&&t&&/(\d+)\.(\d+)\.(\d+)/g.exec(t);return e&&e.length===4?parseInt(e[3]):0}async function PI(t,e,n){if(t.platform!=="win32")return!1;if(e>=22e3)try{return await ae({exec:t.exec,cmd:"wsl",args:["--status"],output:n,print:"continuous"}),!0}catch{return n.write("WSL feature installed: false (wsl --status failed)"),!1}else{let r=xEe(t);if(r){let o=await t.isFile(r);return n.write(`WSL feature installed: ${o} (dll path: ${r})`),o}return n.write("WSL feature installed: false (no dll path)"),!1}}function xEe(t){let e=t.env.SystemRoot;if(e){let n=t.env.PROCESSOR_ARCHITEW6432;return t.path.join(e,n?"Sysnative":"System32","lxss","LxssManager.dll")}}async function wEe(t,e,n,r){let{wrappedOutput:o,wrappedInput:i}=mZ(n,r);try{let s=t.path.join(await t.tmpdir(),`wsl-install-${Ug.randomUUID()}.js`);await t.writeFile(s,await ot(cZ.join(e,"dist/extension/runAsMain.js")));let a=`\\\\.\\pipe\\wsl-install-${Ug.randomUUID()}-sock`,c=t.path.join(await t.tmpdir(),`wsl-install-${Ug.randomUUID()}.bat`),l=wN(t),u=await yN({cliHost:t,env:{RUN_AS_CMD:await Do("wsl"),RUN_AS_ARGS:JSON.stringify(["--install"]),...n.dimensions?{RUN_AS_COLS:String(n.dimensions.columns),RUN_AS_ROWS:String(n.dimensions.rows)}:{},RUN_AS_SOCKET:a,ELECTRON_RUN_AS_NODE:"1"},appRoot:Kt.env.appRoot},l.cmd)||{},d=`@echo off

${Object.keys(u).map(h=>`set ${h}=${u[h]}`).join(`
`)}
"${l.cmd}" ${l.args.map(h=>`"${h}"`).join(" ")} "${s}"
`;await t.writeFile(c,Buffer.from(d.replaceAll(/\r?\n/g,`\r
`)));let f="",p=new aZ.Server(h=>{p.close();let v=new lZ.StringDecoder;h.on("data",g=>{let w=v.write(g);o.raw(w),f+=w}),i.event(g=>h.write(g))});return p.listen(a),await Xa({ptyExec:t.ptyExec,cmd:"powershell.exe",args:["Start-Process","-FilePath",`'${c}'`,"-Verb","RunAs","-WindowStyle","Hidden","-Wait"],output:o,onDidInput:i.event}),f.replace(Ns,"").replaceAll(/\s/g,"").indexOf("untilthesystemisrebooted")!==-1}finally{i.dispose()}}async function yEe(t,e){try{let{stdout:n}=await ae({exec:t.exec,cmd:"wsl",args:["--version"],output:e,print:"continuous"});return n.toString("utf16le").match(/^.*$/m)[0]}catch{return"unknown"}}async function wU(t,e){try{let{stdout:n}=await ae({exec:t.exec,cmd:"wsl",args:["-l","-v"],output:e,print:"continuous"});return EEe(n.toString("utf16le"))}catch{return[]}}function EEe(t){let e=/\r\n/.test(t)?`\r
`:`
`,n=t.split(e),r=/^(?<default>\*|\s)\s*(?<name>[a-zA-Z0-9\.\-_]+)\s+(?<state>\w+)\s+(?<version>\d)/,o=[];for(let i=1;i<n.length;i++){let s=r.exec(n[i]);if(s!=null&&s.groups){let a=s.groups.name,c=s.groups.version,l=i===1;o.push({name:a,isDefault:l,version:c})}}return o}async function CEe(t,e,n){await ae({exec:t.exec,cmd:"wsl",args:["--set-default-version","2"],output:e,print:"continuous"});let{wrappedOutput:r,wrappedInput:o}=mZ(e,n);try{let{cmdOutput:i}=await Xa({ptyExec:t.ptyExec,cmd:"wsl",args:["--install","-d","Ubuntu"],output:r,onDidInput:o.event});return i.replace(Ns,"").replaceAll(/\s/g,"").indexOf("0x80370114")!==-1}finally{o.dispose()}}function mZ(t,e){let n=e(a=>r.fire(a)),r=new Rs(n),o="",i=Ug.randomUUID();return{wrappedOutput:eo({...t,get dimensions(){return t.dimensions},event:a=>{if(t.event(a),a.type==="text"||a.type==="raw"){o+=a.text;let c=o.replace(Ns,"");/Enter new UNIX username:\s*$/.test(c)?r.fire(`${II}\r`):/(New|Retype new) password:\s*$/.test(c)?r.fire(`${i}\r`):/any key to continue\.*\s*$/.test(c)?r.fire("\r"):/Installation successful!/.test(c)&&r.fire("exit\r")}}}),wrappedInput:r}}function bEe(t){return t.split(`
`).reduce((e,n)=>{let r=n.indexOf("=");return r!==-1&&(e[n.substring(0,r)]=n.substring(r+1)),e},{})}async function yU(t,e){try{let{stdout:n}=await t.exec(`command -v ${e}`);return n.trim()}catch{return}}var _Ee={reopenInContainer:He.l10n.t("Do you want to continue with reopening the folder in a container?"),openInContainer:He.l10n.t("Do you want to continue with opening a folder in a container?"),cloneInVolume:He.l10n.t("Do you want to continue with cloning a repository in a Docker volume?"),attachToContainer:He.l10n.t("Do you want to continue with attaching to a container?"),checkoutPRInVolume:He.l10n.t("Do you want to continue with checking out a pull-request in a Docker volume?"),createDevContainer:He.l10n.t("Do you want to continue with creating a Dev Container?"),inspectVolume:He.l10n.t("Do you want to continue with inspecting a Docker volume?"),trySample:He.l10n.t("Do you want to continue with trying a sample Dev Container?")},SEe=`[${He.l10n.t("Starting Docker (show log)")}](command:${Tt} "${He.l10n.t("Show details in terminal")}")`;async function Qr(t,e,n,r,o,i){var d;let s=await st(t,e,i),a=(d=(lt.workspace.workspaceFolders||[])[0])==null?void 0:d.uri;a&&(a.scheme==="file"&&yr(a.fsPath)||gm(a))&&(s=await st(t,s.output,a));let c=jy(s,r),l=await Promise.race([c,new Promise(f=>setTimeout(()=>f("timeoutOrCanceled"),2e3))]);if(l==="timeoutOrCanceled"&&(l=await lt.window.withProgress({location:lt.ProgressLocation.Notification,title:SEe,cancellable:!0},async(f,p)=>Promise.race([c,new Promise(m=>{let h=p.onCancellationRequested(()=>{h.dispose(),m("timeoutOrCanceled")})})])),l==="timeoutOrCanceled"))return!1;let u=await c;if(u==="permission")return await lt.window.showErrorMessage(He.l10n.t("Current user does not have permission to run 'docker'."),{modal:!0,detail:He.l10n.t("Try adding the user to the 'docker' group.")},He.l10n.t("Documentation"))&&lt.env.openExternal(lt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(u==="ssh")return await lt.window.showErrorMessage(He.l10n.t("Cannot connect to Docker daemon using 'ssh'."),{modal:!0,detail:He.l10n.t("Make sure public/private keys are set up for connecting without keyboard interaction.")},He.l10n.t("Show Log"))&&lt.commands.executeCommand(Tt),!1;if(u==="daemon")return await lt.window.showErrorMessage(He.l10n.t("Docker returned an error."),{modal:!0,detail:He.l10n.t("Make sure the Docker daemon is running.")},He.l10n.t("Show Log"))&&lt.commands.executeCommand(Tt),!1;if(u==="cwd")return await lt.window.showErrorMessage(He.l10n.t("Workspace folder does not exist.",s.cliHost.cwd),{modal:!0,detail:s.cliHost.cwd},He.l10n.t("Show Log"))&&lt.commands.executeCommand(Tt),!1;if(u==="command"&&(s.cliHost.type==="local"||s.cliHost.type==="wsl")&&await dZ(s.output)){let f=He.l10n.t("Install");if(await lt.window.showInformationMessage(He.l10n.t("Dev Containers require Docker to run."),{modal:!0,detail:He.l10n.t("Do you want to install Docker in WSL?")},f)===f){if(dd(r,"installInWSL","install"),await TI(t,s.output,n,r)){let h=He.l10n.t("Continue");return await lt.window.showInformationMessage(He.l10n.t("Docker has been installed. {0}",_Ee[o]),h)===h?(dd(r,"continueAfterInstall","continue"),!0):(dd(r,"continueAfterInstall","cancel"),!1)}return!1}return dd(r,"installInWSL","cancel"),!1}if(!u||u==="command"){if(s.cliHost.type==="wsl")await lt.window.showErrorMessage(He.l10n.t("Docker Desktop WSL 2 backend required."),{modal:!0},He.l10n.t("Read more on docker.com"))&&lt.env.openExternal(lt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let f=He.l10n.t("Install"),p=He.l10n.t("License"),m=He.l10n.t("Ignore"),h=[],v=[];u==="command"&&s.dockerCLI!=="docker"&&v.push(He.l10n.t("Command not found: '{0}'.",s.dockerCLI)),s.cliHost.type==="local"&&(h.push(f,p),v.push(He.l10n.t("Check the license for details."))),u===!1&&h.push(m);let g=v.join(" "),w=s.cliHost.type==="remote"?He.l10n.t("Docker version 17.12.0 or later required on remote host."):He.l10n.t("Docker version 17.12.0 or later required."),x=await lt.window.showErrorMessage(w,{modal:!0,detail:g},...h);if(x===f)return DI(s.output).then(console.error),dd(r,"dockerDesktop","install"),!1;if(x===p)return lt.env.openExternal(lt.Uri.parse("https://aka.ms/docker-subscription-service-agreement")),dd(r,"dockerDesktop","license"),!1;if(x===m)return dd(r,"dockerDesktop","ignore"),!0;dd(r,"dockerDesktop","cancel")}return!1}return u==="wsl1"?(await lt.window.showErrorMessage(He.l10n.t("WSL 2 distro required."),{modal:!0,detail:He.l10n.t("The WSL distro is running with WSL 1.")},He.l10n.t("Read more on docker.com"))&&lt.env.openExternal(lt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}function dd(t,e,n){t.sendTelemetryEvent("dockerVersionUserChoice",{dialog:e,choice:n})}async function jy(t,e){var s,a,c,l;let n;try{n=(await KN(t,Bn,"version","--format","{{json .}}")).stdout.toString()}catch(u){console.error(u);let d=u&&(u.stderr?u.stderr.toString():u.message)||"";$y(e,"error",void 0,d);let f=d.toLowerCase();return f.indexOf("permission denied")!==-1?f.indexOf("ssh")!==-1?"ssh":"permission":f.indexOf("enoent")!==-1||f.indexOf("not found")!==-1||f.indexOf("notfound")!==-1?await t.cliHost.isFolder(t.cliHost.cwd)?(t.output.write(`CLI host's PATH: ${t.cliHost.env.PATH}`),"command"):"cwd":t.cliHost.type==="wsl"&&((c=(a=(s=u==null?void 0:u.stdout)==null?void 0:s.toString())==null?void 0:a.toLowerCase())==null?void 0:c.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let r;try{let u=Ge(n);r=(l=u==null?void 0:u.Server)==null?void 0:l.ApiVersion}catch{}let o=r&&wm(r);if(!o&&n.toLowerCase().indexOf("error during connect")!==-1)return $y(e,"error",void 0,n),"daemon";if(!o)return $y(e,"unparsed",n),!0;let i=!ym(o,[1,35]);return!i&&await TN(t)?($y(e,"podman",n),!0):($y(e,i?"success":"failure",n),i)}function $y(t,e,n,r){let o={outcome:e};n&&(o.version=n),r&&(o.errorMessage=r),t.sendTelemetryEvent("dockerVersion",o)}async function hZ(t){try{let e=Ri(t,await t.dockerComposeCLI());return await kx({...e,print:!0},"version","--short"),!0}catch(e){return(e==null?void 0:e.code)==="ENOENT"?await lt.window.showErrorMessage(He.l10n.t("Docker Compose required"),{modal:!0,detail:t.dockerComposePath!=="docker-compose"?He.l10n.t("Command not found: '{0}'.",t.dockerComposePath):void 0},He.l10n.t("Documentation"))&&lt.env.openExternal(lt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")):await lt.window.showErrorMessage(He.l10n.t("Docker Compose returned an error."),{modal:!0},He.l10n.t("Show Log"))&&lt.commands.executeCommand(Tt),!1}}var Mg=G(require("vscode"));var kI=class{constructor(e){this.fileHost=e}async provideDocumentLinks(e,n){let r=[],o=vd(e.getText());if(!o)return r;let i=tE(o)||{};return i.configFilePath=e.uri,To(i)&&this._linksForDockerfile(r,i,o,e),"dockerComposeFile"in i&&await this._linksForDockerCompose(r,i,o,e),r}_tryAddDocumentLinkToBucket(e,n,r,o,i){let s=e.positionAt(n),a=e.positionAt(r);s.compareTo(a)!==0&&i.push(new Mg.DocumentLink(new Mg.Range(s,a),o))}_linksForDockerfile(e,n,r,o){let i=Xi(r,["build","dockerfile"])||Xi(r,["dockerFile"]);i&&i.type==="string"&&this._tryAddDocumentLinkToBucket(o,i.offset+1,i.offset+i.length-1,Qd(this.fileHost,n),e)}async _linksForDockerCompose(e,n,r,o){let s=(await Ml(this.fileHost,n)).map(c=>Mg.Uri.file(c).path),a=Xi(r,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(o,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,o.uri.with({path:s[c]}),e);else a.type==="string"&&this._tryAddDocumentLinkToBucket(o,a.offset+1,a.offset+a.length-1,o.uri.with({path:s[0]}),e)}};var ee=G(require("vscode")),Me=require("vscode"),Hg=G(require("path"));var $g=require("vscode"),gZ=G(require("path"));function RI(t){let e=Vl(t);if(e)return`${gZ.basename(e)}`;{let n=o_(t);if(n)return n;let r=lc(t);if(r)return YN(r);let o=Wl(t);return o?o.volumeName:t.Config.Image}}function NI(t,e=!1){let n=dc(t);return e?`${n} (${EU(t)})`:n}function EU(t){let e="",n=t.State.Status,r=new Date(t.State.StartedAt),o=new Date(t.State.FinishedAt);if(r.getFullYear()>1&&o.getFullYear()>1){let i=new Date,s=new Date(r>o?t.State.StartedAt:t.State.FinishedAt);e=` ${_U(i,s)}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+e}function LI(t){let e=t.Name;if(t.Labels&&jg(t)){let r=OI(t);r&&r.gitUrlInfo.repository!=="unknown"&&(e=r.gitUrlInfo.fullRepositoryName)}return e}function AI(t){let e="";if(t.Labels&&jg(t)){let r=OI(t);if(r&&r.gitUrlInfo.repository!=="unknown"){let o=CU(t),i=bU(t);i?e=`#${i}`:o&&(e=`${o}`)}}return e}function jg(t){let e=t.Labels;if(e){let n=e["vsch.local.repository.unique"];if(n&&n==="true")return!0}return!1}function CU(t){let e=t.Labels;if(e&&jg(t)&&e["vsch.local.repository.branch"])return e["vsch.local.repository.branch"]}function bU(t){let e=t.Labels;if(e&&jg(t)&&e["vsch.local.repository.pullRequestId"])return e["vsch.local.repository.pullRequestId"]}function OI(t){let e=t.Labels;if(e){let n=e["vsch.local.repository.unique"];if(n&&n==="true"){let r=e["vsch.local.repository"];return si(r)}}}var vZ=1e3,xZ=vZ*60,wZ=xZ*60,yZ=wZ*24,DEe=yZ*365;function _U(t,e){let n,r=t.getTime()-e.getTime();return(n=Math.round(r/DEe))>0?n===1?"1 year":$g.l10n.t("{0} years",n):(n=Math.round(r/yZ))>0?n===1?"1 day":$g.l10n.t("{0} days",n):(n=Math.round(r/wZ))>0?n===1?"1 hour":$g.l10n.t("{0} hours",n):(n=Math.round(r/xZ))>0?n===1?"1 minute":$g.l10n.t("{0} minutes",n):(n=Math.round(r/vZ),n===1?"1 second":$g.l10n.t("{0} seconds",n))}var Hy=G(require("vscode")),By=require("vscode");async function EZ(t){let e=(await Promise.all([Lx,Ax,Fm,Am,a_].map(async o=>{let{stdout:i}=await qe(t,"ps","-a","-q","--filter","status=exited","--filter",`label=${o}`);return i.toString().split(/\r?\n/).filter(s=>!!s)}))).flat(),n;if(e.length){let i=(await qs(t,e)).map(a=>({label:RI(a),description:NI(a,!0),container:a}));i.sort((a,c)=>a.label.localeCompare(c.label));let s=await Hy.window.showQuickPick(i,{canPickMany:!0,placeHolder:By.l10n.t("Select stopped dev containers to delete")});if(!s)return;s.length&&(n=new Set(await jl(t)),await qe(t,"rm",...s.map(a=>a.container.Id)))}let r=await bZ(t,n);(!e.length||r==="none")&&await Hy.window.showInformationMessage(By.l10n.t("There are no stopped dev containers or unused dev volumes to delete."),{modal:!0})}async function CZ(t){await bZ(t)==="none"&&await Hy.window.showInformationMessage(By.l10n.t("There are no unused dev volumes to delete."),{modal:!0})}async function bZ(t,e){let n=[...new Set([...e?(await jl(t)).filter(r=>!e.has(r)&&r!=="vscode"):[],...await jl(t,[qN]),...await jl(t,[m_])])];if(n.length){let o=(await ef(t,n)).map(s=>({label:LI(s),description:AI(s),volume:s}));o.sort((s,a)=>s.label.localeCompare(a.label));let i=await Hy.window.showQuickPick(o,{canPickMany:!0,placeHolder:By.l10n.t("Select unused dev volumes to delete")});if(!i)return"cancel";i.length&&await qe(t,"volume","rm",...i.map(s=>s.volume.Name))}return n.length?"done":"none"}var _Z=Me.l10n.t("Stop Container"),SZ=Me.l10n.t("Reopen Folder locally"),DZ=Me.l10n.t("Close Workspace");var hr=class{static isGroupItem(e){return!!e&&e.type==="Group"}static isContainerItem(e){return!!e&&e.type==="Container"}static isFolderItem(e){return!!e&&e.type==="Folder"}};var FI=class extends hr{constructor(n,r){super();this.label=n;this.groupType=r}type="Group";async asTreeItem(n,r,o,i){return new ee.TreeItem(this.label,ee.TreeItemCollapsibleState.Expanded)}},Bg=class extends hr{constructor(n,r=[],o,i=!1){super();this.container=n;this.folders=r;this.parent=o;this.isDevContainer=i}type="Container";async asTreeItem(n,r,o,i){let s=new ee.TreeItem(this.getContainerLabel(),this.getCollapsibleState());s.description=NI(this.container);let a=this.getContextBase();s.iconPath=MI(r,kEe),s.contextValue="exited"+a;let c=!1;return o&&this.container.Id===o.Id?(s.iconPath=MI(r,TEe),s.contextValue="active"+a,c=!0):n&&await this.setTreeItemIconAndContext(n,a,s),s.tooltip=this.getHover(c,s.iconPath instanceof ee.ThemeIcon?s.iconPath:new ee.ThemeIcon("vm"),s.label),this.folders.length===1&&this.isDevContainer&&(s.contextValue+="Folder"),s}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?ee.TreeItemCollapsibleState.Expanded:ee.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(n,r,o){switch(this.container.State.Status){case"created":{o.iconPath=new ee.ThemeIcon("vm"),o.contextValue="exited"+r;break}case"paused":{o.iconPath=new ee.ThemeIcon("vm-outline"),o.contextValue="running"+r;break}case"restarting":{o.iconPath=new ee.ThemeIcon("vm-outline"),o.contextValue="exited"+r;break}case"exited":{o.iconPath=new ee.ThemeIcon("vm"),o.contextValue="exited"+r;break}case"running":{o.iconPath=new ee.ThemeIcon("vm-running"),o.contextValue="running"+r;break}}}getTimeElapsed(n){return n?EU(n):""}getContainerLabel(){return RI(this.container)}getHover(n,r,o){let i=new ee.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${o} (${dc(this.container)})  
`),this.repository){let a=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${a} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let s=h_(this.container);return s&&i.appendMarkdown(`$(file-symlink-directory) ${s}  
`),n?i.appendMarkdown(Me.l10n.t("$(remote) Connected")):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}_repository;_alreadyCheckedRepository=!1;get repository(){if(!this._alreadyCheckedRepository){let n=lc(this.container);n&&(this._repository=si(n)),this._alreadyCheckedRepository=!0}return this._repository}inspect(n){return Ro(n,this.container.Id)}},Qc=class extends hr{constructor(n,r,o){super();this.container=n;this.folder=r;this.isDevContainer=o}type="Folder";async asTreeItem(n,r,o,i){let s=new ee.TreeItem(Hg.basename(this.folder.path),ee.TreeItemCollapsibleState.None);return s.description=this.folder.path,s.iconPath=MI(r,NEe),s.contextValue="attachedFolder",this.isDevContainer&&!lc(this.container)&&!Wl(this.container)&&(s.contextValue="devFolder"),o&&this.container.Id===o.Id&&i===this.folder.path&&(s.iconPath=MI(r,REe),s.tooltip=Me.l10n.t("Active Folder {0}",String(s.label)),s.contextValue=`active${s.contextValue}`),s}};function IEe(t,e,n,r){if(!(!ee.env.remoteName||ee.env.remoteName!=="attached-container"&&ee.env.remoteName!=="dev-container"))return IZ(t,e,n,r)}function IZ(t,e,n,r){ee.commands.executeCommand("setContext","remote-containers:showDetails",!0);let o=new TU(t,e,r,e.output),i=ee.window.createTreeView("detailsContainers",{treeDataProvider:o});return o.setTitle=s=>{i.title=s},t.subscriptions.push(n.onDidChangeActiveContainer(s=>o.refresh(s))),o}function PEe(t,e){let n=[_Z];return t&&t.Id===e.Id&&ee.workspace.workspaceFolders&&ee.workspace.workspaceFolders.length>0&&(n.push(DZ),ee.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&n.push(SZ)),n}var SU=class{constructor(e,n){this.dockerParams=e;this.containerId=n}writeEmitter=new ee.EventEmitter;onDidWrite=this.writeEmitter.event;destroyables=[];open(){let{cliHost:e,env:n,output:r}=this.dockerParams;e.exec({cmd:Ps(),args:["logs","-f",this.containerId],env:n,output:r}).then(o=>{this.destroyables.push(o.stdout.on("data",i=>{this.write(i.toString())})),this.destroyables.push(o.stderr.on("data",i=>{this.write(i.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(e=>{e.destroy()})}write(e){this.writeEmitter.fire(e.replace(/\n/g,`\r
`))}},UI=class{constructor(e,n,r,o,i,s){this.targetsTreeData=e;this.detailsTreeData=n;this.devVolumesTreeData=r;this.dockerParams=o;this.context=i;this.telemetry=s}updateDockerParameters(e){this.dockerParams=e}registerCommands(){let e=[];return e.push(ee.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),e.push(ee.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),e.push(ee.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),e.push(ee.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),e.push(ee.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),e.push(ee.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),e.push(ee.commands.registerCommand("remote-containers.attachToContainerInCurrentWindow",this.commandAttachToContainerInCurrentWindow,this)),e.push(ee.commands.registerCommand("remote-containers.attachToContainerInNewWindow",this.commandAttachToContainerInNewWindow,this)),e.push(ee.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),e.push(ee.commands.registerCommand("remote-containers.openInformationAboutMountPerformance",this.openInformationAboutMountPerformance,this)),e.push(ee.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),e.push(ee.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),e.push(ee.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),e.push(ee.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),e.push(ee.commands.registerCommand("remote-containers.openFolderInContainerInCurrentWindow",n=>this.commandStartAndOpenFolder(n,{forceReuseWindow:!0}),this)),e.push(ee.commands.registerCommand("remote-containers.openFolderInContainerInNewWindow",n=>this.commandStartAndOpenFolder(n,{forceNewWindow:!0}),this)),e.push(ee.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),e}async commandStopContainer(e){if(!hr.isContainerItem(e))return;let n=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===e.container.Id?Me.l10n.t("Stop active container? This will disconnect your current window."):Me.l10n.t("Stop {0}?",e.getContainerLabel()),r=await ee.window.showWarningMessage(n,{modal:!0},...PEe(this.targetsTreeData.currentContainer,e.container));await this.targetsTreeData.withProgress(e,async()=>{switch(r){case _Z:{await K1(this.dockerParams,e.container),e.container=await Ro(this.dockerParams,e.container.Id);break}case DZ:{await ee.commands.executeCommand("workbench.action.closeFolder");break}case SZ:{await ee.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(e){if(!hr.isContainerItem(e))return;let n=await ii(this.dockerParams,e.container.Id);if(!n)return;let r=Me.l10n.t("Remove"),o=await ee.window.showWarningMessage(Me.l10n.t("Remove this container?"),{modal:!0,detail:Me.l10n.t("This action is not reversible and deletes the container permanently.")},r);await this.targetsTreeData.withProgress(e.parent,async()=>{o===r&&(await K1(this.dockerParams,e.container),await VJ(this.dockerParams,n.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(e.container))})}async tryRemoveVolume(e){let n=h_(e);if(n||(n=I3(e)),n){let r=await t_(this.dockerParams,n);if((await jl(this.dockerParams)).indexOf(n)>=0){let s;r!=null&&r.Labels&&r.Labels["vsch.local.repository.unique"]==="true"?s=Me.l10n.t("The container is using a volume with a cloned repository."):s=Me.l10n.t("This is the last container using '{0}'.",n);let a=Me.l10n.t("Remove");await ee.window.showInformationMessage(s,{modal:!0,detail:Me.l10n.t("Do you want to remove the volume and the data it contains?")},a)===a&&await J1(this.dockerParams,n)}}}async commandExplorerVolumesRefresh(e){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(e){hr.isContainerItem(e)&&await this.targetsTreeData.withProgress(e,async()=>{await pI(this.dockerParams,e.container),e.container=await Ro(this.dockerParams,e.container.Id)})}async commandRemoveRecentFolder(e){hr.isFolderItem(e)&&(await ee.commands.executeCommand("vscode.removeFromRecentlyOpened",e.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(e){hr.isContainerItem(e)&&(this.detailsTreeData||(this.detailsTreeData=IZ(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(e))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(e,n){let r,o;hr.isFolderItem(e)?(o=e,r=e.container):Bg.isContainerItem(e)&&(o=e.folders[0],r=e.container),r&&(await pI(this.dockerParams,r),o&&fc(o.folder.authority)?await qy(this.dockerParams,r,this.context,!!(n!=null&&n.forceNewWindow),o.folder.path):await ee.commands.executeCommand("remote-containers.openFolder",o,n))}async commandAttachToContainerInCurrentWindow(e){return this.attachToContainerInternal(e,!1)}async commandAttachToContainerInNewWindow(e){return this.attachToContainerInternal(e,!0)}async attachToContainerInternal(e,n){let r;hr.isContainerItem(e)?r=e.container:this.detailsTreeData&&(r=this.detailsTreeData.container),r&&(await pI(this.dockerParams,r),await qy(this.dockerParams,r,this.context,n))}async commandInspectDockerResource(e){let n;(hr.isContainerItem(e)||el.isImageItem(e)||el.isVolume(e)||el.isDevVolume(e))&&(n=await e.inspect(this.dockerParams)),n&&ee.window.showTextDocument(await ee.workspace.openTextDocument({language:"json",content:JSON.stringify(n,null,"	")}))}async openInformationAboutMountPerformance(){await ee.env.openExternal(ee.Uri.parse("https://aka.ms/vscode-remote/containers/open-repo"))}async commandInspectInBasicDevContainer(e){el.isDevVolume(e)&&await e.inspectInBasicDevContainer()}async commandCloneInVolume(e){el.isDevVolume(e)&&await e.cloneRepositoryInVolume()}async commandRemoveVolume(e){el.isDevVolume(e)&&await e.removeVolume(this.dockerParams)}static async commandNewContainer(){var r;let e=[...(r=ee.workspace.workspaceFolders)!=null&&r.length?[{label:Me.l10n.t("Open Current Folder in Container"),command:"remote-containers.reopenInContainer"}]:[],{label:Me.l10n.t("Open Folder in Container..."),command:"remote-containers.openFolder"},{label:Me.l10n.t("Open Workspace in Container..."),command:"remote-containers.openWorkspace"},{label:Me.l10n.t("New Dev Container..."),command:"remote-containers.createDevContainer"},{label:Me.l10n.t("Clone Repository in Container Volume..."),command:"remote-containers.openRepositoryInVolume"},{label:Me.l10n.t("Clone GitHub Pull Request in Container Volume..."),command:"remote-containers.openPullRequestInVolume"},{label:Me.l10n.t("Try a Sample..."),command:"remote-containers.trySample"}],n=await ee.window.showQuickPick(e,{placeHolder:Me.l10n.t("Select an action to create a dev container")});if(n)return ee.commands.executeCommand(n.command)}async commandShowContainerLog(e){if(!hr.isContainerItem(e))return;let n=new SU(this.dockerParams,e.container.Id);ee.window.createTerminal({name:e.container.Config.Image,pty:n}).show()}};function PZ(t,e,n,r){ee.commands.executeCommand("setContext","remote-containers:showDetails",!1);let o=new DU(t,e,s,n,r),i=ee.window.createTreeView("targetsContainers",{treeDataProvider:o});o.setMessage=a=>i.message=a,t.subscriptions.push(ee.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await o.getDockerParams(!0),o.refresh(void 0)))),t.subscriptions.push(ee.commands.registerCommand("remote-containers.newContainer",UI.commandNewContainer)),t.subscriptions.push(ee.commands.registerCommand("remote-containers.pruneVolumes",async()=>{let a=await o.getDockerParams(!0);a&&await CZ(a)}));function s(a){let c=IEe(t,a,o,n),l=new RU(t,n,r),u=ee.window.createTreeView("devVolumes",{treeDataProvider:l});t.subscriptions.push(u);let d=new UI(o,c,l,a,t,n);t.subscriptions.push(...d.registerCommands()),t.subscriptions.push(Y1(t,n.product)(async()=>{o.refresh(void 0),l.refresh(void 0);let f=await st(t,r);c&&c.updateDockerParameters(f),d.updateDockerParameters(f)}))}}var DU=class{constructor(e,n,r,o,i){this.context=e;this.resolverResults=n;this.onFirstReveal=r;this.telemetry=o;this.output=i}_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;_onDidChangeActiveContainer=new ee.EventEmitter;onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;dockerParams;refreshDockerParams=!1;needsSSHCredentials=!1;passiveSSHAskpassEnv;eventsProcess;setTreeMessage=()=>{};_currentContainer;currentFolder;devContainers=[];attachContainers=[];otherContainers=[];recentAttachEntries=new Map;recentAttachDevContainerEntries=new Map;recentDevComposeEntries=new Map;containerItems=new Map;action=Promise.resolve();set setMessage(e){this.setTreeMessage=e}get currentContainer(){return this._currentContainer}async getDockerParams(e=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=$l(this.context.extensionPath,async n=>(this.needsSSHCredentials=!0,sp(n,!1)),this.output));try{this.dockerParams=await st(this.context,this.output,void 0,void 0,e?void 0:this.passiveSSHAskpassEnv,!1),await jy(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(n){if(!this.needsSSHCredentials)throw n}}return this.dockerParams}handleDockerEvent(e){try{let n=JSON.parse(e.toString());if(!n.Action)return;let r="exec_create: /root/.vscode-server";if(n.Action==="die"||n.Action==="destroy"||n.Action==="create")this._onDidChangeTreeData.fire();else if(!n.Action.startsWith("exec_create")&&n.Actor&&n.Actor.ID&&this.containerItems.has(n.Actor.ID)){let o=this.containerItems.get(n.Actor.ID);this.dockerParams&&o?(async()=>(o.container=await Ro(this.dockerParams,o.container.Id),this._onDidChangeTreeData.fire(o)))():this._onDidChangeTreeData.fire(o);return}else if(n.Action.startsWith(r)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let e=await this.getDockerParams();if(e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await IN(e,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async getTreeItem(e){return e.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}needsDockerStartOrInstallContext=void 0;async setDockerStartOrInstallContext(e){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==e)&&(this.needsDockerStartOrInstallContext=e,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await ee.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await ee.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}hasContainersContext=void 0;async setHasContainersContext(e){if(this.hasContainersContext===void 0||this.hasContainersContext!==e){this.hasContainersContext=e;let n=ee.workspace.workspaceFolders&&ee.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await ee.commands.executeCommand("setContext",n,!this.hasContainersContext)}}async getDockerOrShowMessage(e){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(e){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(e);let n=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&n.push(new FI(Me.l10n.t("Dev Containers"),0)),this.otherContainers.length>0&&n.push(new FI(Me.l10n.t("Other Containers"),2)),n}async getChildDevContainer(e,n){let r=await this.getWorkspaceFolderFromContainer(e),o=r?[new Qc(e,r,!0)]:[],i=Vl(e);i&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Qc(e,a,!1))):i&&this.recentAttachEntries.has(e.Id)?o.push(...this.recentAttachEntries.get(e.Id).map(a=>new Qc(e,a,!1))):(i=lc(e))&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Qc(e,a,!1))):(i=ON(Wl(e)))&&this.recentAttachDevContainerEntries.has(i)?o.push(...this.recentAttachDevContainerEntries.get(i).map(a=>new Qc(e,a,!1))):i===void 0&&this.recentDevComposeEntries.has(e.Id)&&o.push(...this.recentDevComposeEntries.get(e.Id).map(a=>new Qc(e,a,!1)));let s=new Bg(e,o,n,!0);return this.setContainerItems(s),s}setContainerItems(e){this.containerItems.set(e.container.Id,e),this._currentContainer&&e.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(e)}async getChildContainers(e){let n;if(e.groupType===0){let r=this.devContainers.map(async o=>this.getChildDevContainer(o,e));r.push(...this.attachContainers.map(async o=>{let i=new Bg(o,this.recentAttachEntries.get(o.Id).map(s=>new Qc(o,s,!1)),e);return this.setContainerItems(i),i})),n=await Promise.all(r)}else n=this.otherContainers.map(r=>{let o=new Bg(r,[],e);return this.setContainerItems(o),o});return n.sort((r,o)=>r.getContainerLabel().localeCompare(o.getContainerLabel()))}getChildFolders(e){return e.folders&&e.folders.length>1?e.folders:[]}async getChildItems(e){if(e===void 0){let n=await ic(this.dockerParams,!0);if(await this.setHasContainersContext(n.length>0),n.length===0)return[];let r=await qs(this.dockerParams,n);return this.getChildGroups(r)}else{if(hr.isGroupItem(e))return this.getChildContainers(e);if(hr.isContainerItem(e))return this.getChildFolders(e)}return[]}async getChildren(e){return await this.action,await this.getDockerOrShowMessage(e)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(e)):[]}async refresh(e){e===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(e)}async setCurrents(){let e=ee.workspace.workspaceFolders,n;if(this.dockerParams){if(e&&e.length>0){let r=this.resolverResults.get(e[0].uri.authority);r&&r.dockerContainerId&&(n=await ii(this.dockerParams,r.dockerContainerId),this.currentFolder=e[0].uri.path)}else if(this.resolverResults.size>0){let r=[...this.resolverResults.values()][0].dockerContainerId;r&&(n=await ii(this.dockerParams,r))}}n!==this._currentContainer&&(this._currentContainer=n)}addContainerToMap(e){if(Vl(e)){this.devContainers.push(e);return}else if(lc(e)){this.devContainers.push(e);return}else if(Wl(e)){this.devContainers.push(e);return}else if(o_(e)&&this.recentDevComposeEntries.has(e.Id)){this.devContainers.push(e);return}else if(this.recentAttachEntries.has(e.Id)){this.attachContainers.push(e);return}this.otherContainers.push(e)}async setContainerTypes(e){return await this.setRecentEntries(e),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,e.forEach(n=>{this.addContainerToMap(n)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(e,n){let{cliHost:r,dockerCLI:o,dockerComposePath:i}=this.dockerParams,s=It(r.path,e),a=n?_e.from({scheme:it.scheme,path:n}):await c3(r,s,Ty(),Bn),c={cliHost:r,dockerPath:o,dockerComposePath:i,appRoot:ee.env.appRoot,extensionPath:this.context.extensionPath,package:await Ur(this.context.extensionPath),output:this.output},l=a&&await Dg(c,s.rootFolderPath,a);if(l){let u=ar(this.dockerParams.env);return ee.Uri.parse($x(r.authority,e,l.workspace.workspaceFolder,u),!0)}}async getWorkspaceFolderFromContainer(e){let n=Vl(e);if(n){let r=D3(e);return this.getWorkspaceFolderFromHostWorkspace(n,r)}else{let r=lc(e),o=h_(e),i=P3(e),s=this.dockerParams;if(r){let c=ar(s.env);return ee.Uri.parse(us(s.cliHost.authority,r,o,i,!1,c,void 0))}let a=Wl(e);if(a){let c=ar(s.env);return ee.Uri.parse(us(s.cliHost.authority,void 0,a.volumeName,a.folder,!1,c,void 0))}}}async getWorkspaceFolderFromHostPath(e){let n=this.dockerParams.cliHost,r=await j3(n,e,this.output),o=H3(n,r,e),i=ar(this.dockerParams.env);return ee.Uri.parse($x(n.authority,e,o,i),!0)}getWorkspaceFolderFromRepository(e,n,r){let o=this.dockerParams,i=ar(o.env);return ee.Uri.parse(us(o.cliHost.authority,e,n,r,!1,i,void 0),!0)}getWorkspaceFolderFromDevContainerInVolume(e,n){let r=this.dockerParams,o=ar(r.env);return ee.Uri.parse(us(r.cliHost.authority,void 0,e,n,!1,o,void 0),!0)}async findComposeTargetContainer(e,n){var r;return(r=n.find(o=>Vl(o)===e))==null?void 0:r.Id}trySetEntryWithAttachAuthority(e,n,r){let o;if("containerName"in n){let i=r.find(s=>s.Name===n.containerName);i&&(o=i.Id)}else o=n.containerId;o&&(this.recentAttachEntries.has(o)?this.recentAttachEntries.get(o).push(e):this.recentAttachEntries.set(o,[e]))}async trySetEntryWithDevAuthority(e,n,r,o){let i=n.hostPath,s=o[i];if(s||(s=await this.getWorkspaceFolderFromHostPath(n.hostPath),o[i]=s),s.path!==e.path){this.recentAttachDevContainerEntries.has(n.hostPath)?this.recentAttachDevContainerEntries.get(n.hostPath).push(e):this.recentAttachDevContainerEntries.set(n.hostPath,[e]);let a=await this.findComposeTargetContainer(n.hostPath,r);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(e):a&&this.recentDevComposeEntries.set(a,[e])}}trySetEntryWithRepoAuthority(e,n){this.getWorkspaceFolderFromRepository(n.repositoryPath,n.volumeName,n.folder).path!==e.path&&(this.recentAttachDevContainerEntries.has(n.repositoryPath)?this.recentAttachDevContainerEntries.get(n.repositoryPath).push(e):this.recentAttachDevContainerEntries.set(n.repositoryPath,[e]))}trySetEntryWithDevContainerInVolumeAuthority(e,n){if(this.getWorkspaceFolderFromDevContainerInVolume(n.volumeName,n.folder).path!==e.path){let o=ON(n);this.recentAttachDevContainerEntries.has(o)?this.recentAttachDevContainerEntries.get(o).push(e):this.recentAttachDevContainerEntries.set(o,[e])}}trySetEntryWithVolumeAuthority(e,n){let r=n.volumeName;r&&(this.recentAttachEntries.has(r)?this.recentAttachEntries.get(r).push(e):this.recentAttachEntries.set(r,[e]))}async trySetEntry(e,n,r){if(!e||!e.folderUri&&!e.workspace.configPath)return;let o=e.folderUri??e.workspace.configPath,i=fc(o.authority);if(i)this.trySetEntryWithAttachAuthority(o,i,n);else{let s=Br(o.authority);s&&(on(s)?await this.trySetEntryWithDevAuthority(o,s,n,r):so(s)?this.trySetEntryWithRepoAuthority(o,s):sc(s)?this.trySetEntryWithDevContainerInVolumeAuthority(o,s):this.trySetEntryWithVolumeAuthority(o,s))}}async setRecentEntries(e){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let n=await ee.commands.executeCommand("_workbench.getRecentlyOpened");if(n&&n.workspaces){let r={};for(let o of n.workspaces)await this.trySetEntry(o,e,r)}}withProgress(e,n){return this.action=this.action.then(()=>n()),this.refresh(e)}};var el=class{constructor(e){this.label=e}detail;context;command;type="Default";static isDetailItem(e){return!!e&&e.label!==void 0&&e.type!==void 0}static isImageItem(e){return!!e&&e.type==="Image"}static isVolume(e){return!!e&&e.type==="Volume"}static isDevVolume(e){return!!e&&e.type==="DevVolume"}},IU=class{constructor(e){this.detail=e}type="Image";context="image";label=Me.l10n.t("Image");inspect(e){return XG(e,this.detail)}},PU=class{constructor(e,n,r){this.label=e;this.detail=n;this.volumeDetails=r}type="Volume";context="volume";async inspect(e){return t_(e,this.volumeDetails)}},TU=class{constructor(e,n,r,o){this.context=e;this.dockerParams=n;this.telemetry=r;this.output=o}_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;_container;setTreeTitle=()=>{};updateDockerParameters(e){this.dockerParams=e}set setTitle(e){this.setTreeTitle=e}get container(){return this._container?this._container.container:void 0}getTreeItem(e){let n=new ee.TreeItem(e.label,Array.isArray(e.detail)&&e.detail.length>0?ee.TreeItemCollapsibleState.Expanded:ee.TreeItemCollapsibleState.None);return n.tooltip=e.label,e.detail&&!Array.isArray(e.detail)&&(n.description=e.detail,n.tooltip+=` ${n.description}`),n.contextValue=e.context,n.command=e.command,n}async getAttributes(e,n,r){let o=[];n&&o.push({label:Me.l10n.t("Workspace"),detail:n});let i=lc(e.container);i&&o.push({label:Me.l10n.t("Repository"),detail:i});let s=Wl(e.container);return s&&(o.push({label:Me.l10n.t("Volume"),detail:s.volumeName}),o.push({label:Me.l10n.t("Folder"),detail:s.folder})),o.push({label:Me.l10n.t("Name"),detail:e.container.Name}),o.push(new IU(e.container.Config.Image)),r&&o.push({label:Me.l10n.t("Configuration"),detail:r,command:{title:Me.l10n.t("Open Dev Container File"),command:"remote-containers.openDevContainerFile",arguments:[r]},context:"devContainer"}),o}async getMounts(e){let n=[];return e&&e.Mounts.forEach(r=>{if(r.Type==="volume"){let o=r.Name,i=new PU(Me.l10n.t("Volume"),o,o),s={label:Me.l10n.t("Destination"),detail:r.Destination};n.push({label:Me.l10n.t("Volume mount"),detail:[i,s]})}else if(r.Type==="bind"){let o={label:Me.l10n.t("Source"),detail:r.Source},i={label:Me.l10n.t("Destination"),detail:r.Destination},s=this.dockerParams&&["win32","darwin"].includes(this.dockerParams.cliHost.platform)?[{label:Me.l10n.t("I/O performance"),detail:Me.l10n.t("reduced by bridging OSes"),context:"mountPerformanceInfo",command:{command:"remote-containers.openInformationAboutMountPerformance"}}]:[];n.push({label:Me.l10n.t("Bind mount"),detail:[o,i,...s]})}}),n}async getChildrenFromRoot(e){let n=[],r=Vl(e.container),o=(e.container.Config.Labels||{})[Lm];n.push({label:Me.l10n.t("Attributes"),detail:await this.getAttributes(e,r,o),type:"Title"});let i;this.dockerParams&&(i=await Ro(this.dockerParams,e.container.Id));let s=await this.getMounts(i);return s.length>0&&n.push({label:Me.l10n.t("Mounts"),detail:s,type:"Title"}),n}async testContainer(){let e=!0;try{(this.dockerParams?await Ro(this.dockerParams,this._container.container.Id):void 0)===void 0&&(e=!1)}catch{e=!1}return e||(this._container=void 0,this.setTreeTitle(Me.l10n.t("Details (Containers)"))),e}async getChildren(e){if(this._container===void 0)return[];let n=[];return e===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),n=await this.getChildrenFromRoot(this._container)):Array.isArray(e.detail)&&n.push(...e.detail),n}async refresh(e){this.dockerParams=await st(this.context,this.output),await jy(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=e||this._container,this._onDidChangeTreeData.fire(void 0)}},kU=class extends el{type="DevVolume";volumeDetails;createdAt;constructor(e){super(e.Name),this.volumeDetails=e,this.createdAt=void 0}async asTreeItem(){let e=this.getLabel(),n=new ee.TreeItem(e,ee.TreeItemCollapsibleState.None);return n.iconPath=this.iconPath,n.description=this.getDescription(),this.isUniqueVolume()?n.contextValue="uniqueDevVolume":n.contextValue="devVolume",n}isUniqueVolume(){return jg(this.volumeDetails)}getLabel(){return LI(this.volumeDetails)}getDescription(){return AI(this.volumeDetails)}getBranchName(){return CU(this.volumeDetails)}getPullRequestId(){return bU(this.volumeDetails)}getRepository(){return OI(this.volumeDetails)}get iconPath(){return new ee.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let e="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let r=new Date,o=new Date(this.volumeDetails.CreatedAt);e=Me.l10n.t("{0} ago",_U(r,o))}return this.createdAt=e,e}async inspect(e){return t_(e,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await ee.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await ee.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(e){if(!((await jl(e)).indexOf(this.volumeDetails.Name)>=0)){await ee.window.showInformationMessage(Me.l10n.t("Volume '{0}' is in use and cannot be removed.",this.volumeDetails.Name),{modal:!0});return}let o=Me.l10n.t("Remove");await ee.window.showInformationMessage(Me.l10n.t("Are you sure you want to remove volume '{0}'?",this.volumeDetails.Name),{modal:!0},o)===o&&await J1(e,this.volumeDetails.Name)}},RU=class{constructor(e,n,r){this.context=e;this.telemetry=n;this.output=r}dockerParams;_onDidChangeTreeData=new ee.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;eventsProcess;async getTreeItem(e){return e.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await st(this.context,this.output,void 0,void 0),await jy(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(e){await ee.commands.executeCommand("setContext","remote-containers:noDevVolumes",e)}async getDockerOrShowMessage(e){return!(!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(e){if(!await this.getDockerOrShowMessage(e))return[];let n=await st(this.context,this.output),r=await No(n),o=await ef(n,r),i=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=o.filter(i);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let l=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-l.getTime()}),s.map(a=>new kU(a))}async resolveTreeItem(e,n){let r=await st(this.context,this.output),o=await this.getAssociatedContainers(r,n),i=n.getLabel(),s=n.getRepository(),a=n.getBranchName(),c=n.getPullRequestId(),l=n.getTimeElapsed();return o.length>0?e.tooltip=this.renderMarkdown(i,s,a,c,l,o.join(", ")):e.tooltip=this.renderMarkdown(i,s,a,c,l,Me.l10n.t("None")),e}async getAssociatedContainers(e,n){let r=[],o=await ic(e,!0),i=await qs(e,o);for(let s of i)for(let a of s.Mounts)a.Type==="volume"&&a.Name===n.volumeDetails.Name&&r.push(dc(s));return r}renderMarkdown(e,n,r,o,i,s){let a=new ee.MarkdownString(void 0,!0);if(n){let c=n.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",l=n.gitUrlInfo.repositoryUrl;l.startsWith("http")?(l=n.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${l}](${l})
`)):a.appendMarkdown(`${c} ${l})
`),a.appendMarkdown(`&nbsp;  
`),r&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${r}](${l}/tree/${r})
`):a.appendMarkdown(`$(git-compare) ${r}
`),a.appendMarkdown(`&nbsp;  
`)),o&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${o}](${l}/pull/${o})
`):a.appendMarkdown(`$(git-pull-request-create) #${o}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${i}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${e}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${i}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(e){try{let n=JSON.parse(e.toString());if(!n.Action)return;(n.Action==="die"||n.Action==="destroy"||n.Action==="create"||n.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let e=await this.getDockerParams();if(e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await IN(e,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async refresh(e){e===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(e)}},TEe="vm-active",kEe="vm-default",REe="folder-active",NEe="folder";function MI(t,e){let n=`${e}.svg`;return{light:ee.Uri.file(t.asAbsolutePath(Hg.join("resources","light",n))),dark:ee.Uri.file(t.asAbsolutePath(Hg.join("resources","dark",n))),highContrast:ee.Uri.file(t.asAbsolutePath(Hg.join("resources","highContrast",n)))}}var jU=require("util");var Ki=G(require("vscode")),fd=require("vscode");async function TZ(t,e,n={},r={}){let o=tc(e[0],e.slice(1),void 0),i=await ZV(e[0],e.slice(1),void 0,t.loadNativeModule),s=await $b({params:t,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:o,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0,remoteWaylandSocket:void 0}),{hostOrContainerPort:a,connectionToken:c,remoteEnv:l,serverDownloaded:u}=await Al(t,s,n,r);return{params:t,properties:s,config:void 0,resolvedAuthority:{host:Hl,port:a,connectionToken:c,extensionHostEnv:l},tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:u}}async function kZ(t,e,n){var r,o,i;if(await ad(t))if(n&&n.name){let s=["get","pod",n.name,"-o","json"];n.namespace&&s.push("--namespace",n.namespace);let{cliHost:a,env:c,output:l}=e,u=(await ae({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:c,output:l})).stdout.toString().trim(),f=(await ae({exec:a.exec,cmd:"kubectl",args:s,env:c,output:l})).stdout.toString(),p=JSON.parse(f),m=((r=p.spec)==null?void 0:r.containers)||[];if(!m.length){e.output.write(`No containers found. Pod details:
${f}`),await Ki.window.showErrorMessage(fd.l10n.t("No containers found."),{modal:!0},fd.l10n.t("Show Log"))&&Ki.commands.executeCommand(Tt);return}let h=m.length>1?(o=await Ki.window.showQuickPick(m.map(v=>({label:v.name,detail:v.image,container:v})),{placeHolder:fd.l10n.t("Select container")}))==null?void 0:o.container:m[0];if(h){let v=((i=p.metadata)==null?void 0:i.namespace)||n.namespace,g={remoteAuthority:AEe({context:u,podname:n.name,namespace:v,name:h.name,image:h.image})};/\d$/.test(t.extensionPath)||(g.reuseWindow=!0),await Ki.commands.executeCommand("vscode.newWindow",g)}}else e.output.write(`No Pod name found. Pod object:
${JSON.stringify(n,void 0,"  ")}`),await Ki.window.showErrorMessage(fd.l10n.t("No Pod name found."),{modal:!0},fd.l10n.t("Show Log"))&&Ki.commands.executeCommand(Tt)}async function RZ(t,e,n,r,o,i){return await ad(t)?{...await LEe(t,e,n,r,o,i),isTrusted:!0}:(await Ki.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function LEe(t,e,n,r,o,i){let s;return Ki.window.withProgress({location:Ki.ProgressLocation.Notification,title:Sg,cancellable:!1},async a=>{try{let c=OEe(n),l=process.cwd(),u=Ta(),d=await Lo(void 0,void 0,l,Bn,u,t.extensionPath,await ko(),e.product,o.log,Ts);s=await _g({authority:n,extensionContext:t,sessionStart:o.sessionStart,progress:a,cliHost:d,env:d.env,cwd:l,wslSettings:u,isLocalContainer:!0,telemetry:e,output:o.log,logFilePath:o.logFilePath,allowSystemConfigChange:!1,postCreate:i}),s.setWorkspaceName(`${c.name} in ${c.podname} (${c.image})`);let f=["kubectl","exec","-it",c.podname];return c.context&&f.push("--context",c.context),c.namespace&&f.push("--namespace",c.namespace),f.push("--container",c.name,"--"),await TZ(s,f)}catch(c){let l=c instanceof Ee?c:new Ee({description:fd.l10n.t("An error occurred attaching to the container."),originalError:c});throw l.actions=[...Pg,up,cd,Ig,lp],l}}).then(a=>(Xc(e,"k8s-container","success",o.sessionStart,s,void 0,void 0,a.properties),a),a=>{let c=a instanceof Ee?a:new Ee({description:fd.l10n.t("An error occurred attaching to the container."),originalError:a});return Xc(e,"k8s-container","failure",o.sessionStart,s,void 0,void 0,c.containerProperties,c),ld(c,"k8s-container",e,!0,o.log)})}function AEe(t){return`k8s-container+${Buffer.from(JSON.stringify(t),"utf8").toString("hex")}`}function OEe(t){let e=t.substring(t.indexOf("+")+1);try{return JSON.parse(Buffer.from(e,"hex").toString("utf8"))}catch{}return e.split("+").reduce((n,r)=>{let o=r.indexOf("=");return o!==-1&&(n[r.substr(0,o)]=decodeURIComponent(r.substr(o+1))),n},{})}var kt=G(require("vscode")),Mt=require("vscode"),mp=G(require("fs")),qg=G(require("os")),pp=G(require("path")),$I=require("child_process"),Wg=require("util");function jI(t){switch(t.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${t.quality}`}}async function NZ(t,e){let n=t.globalStorageUri,r=ni.joinPath(n,"cli-bin");await kt.workspace.fs.createDirectory(r);let o="";try{o=(await kt.workspace.fs.readFile(ni.joinPath(r,"remote-containers-path"))).toString()}catch(l){if((l==null?void 0:l.code)!=="FileNotFound")return}if(o===t.extensionPath)return;let i=ni.joinPath(t.extensionUri,"dev-containers-user-cli","bin"),s=jI(e),a=`devcontainer${s}`,c=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let l of c)await kt.workspace.fs.copy(ni.joinPath(i,l.source),ni.joinPath(r,l.destination),{overwrite:!0});process.platform!=="win32"&&await mp.promises.chmod(ni.joinPath(r,a).fsPath,493),await kt.workspace.fs.writeFile(ni.joinPath(r,"vscode-app-root"),Buffer.from(kt.env.appRoot,"utf-8")),await kt.workspace.fs.writeFile(ni.joinPath(r,"vscode-path"),Buffer.from(process.execPath,"utf-8")),await kt.workspace.fs.writeFile(ni.joinPath(r,"vscode-quality"),Buffer.from(e.quality??"","utf-8")),await kt.workspace.fs.writeFile(ni.joinPath(r,"vscode-machine-id"),Buffer.from(kt.env.machineId,"utf-8")),await kt.workspace.fs.writeFile(ni.joinPath(r,"remote-containers-path"),Buffer.from(t.extensionPath,"utf-8"))}async function FEe(t,e){let n=jI(e),r="";try{let o=await Do("powershell.exe");if(r=(await(0,Wg.promisify)($I.exec)(`"${o}" -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),r.indexOf(t)>=0)return await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI is already in your PATH"),{modal:!0,detail:Mt.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)}),!0;let s=Mt.l10n.t("Add"),a=Mt.l10n.t("Copy CLI Path");switch(await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI needs to be added to your PATH"),{modal:!0},s,a)){case s:let l=(0,Wg.promisify)($I.exec)(`"${o}"  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${r};${t}', 'User')`),u=kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI has been added to your PATH"),{modal:!0,detail:Mt.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)});await Promise.all([l,u]);break;case a:await kt.env.clipboard.writeText(t),await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Mt.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)});break}return!0}catch{return!1}}async function UEe(t,e){let r=(process.env.PATH??"").split(":"),o=[pp.join(qg.homedir(),"bin"),pp.join(qg.homedir(),".local/bin")],i="/usr/local/bin";qg.platform()==="darwin"&&o.push(i);let s=(0,Wg.promisify)(mp.stat);for(let a of o){if(r.findIndex(m=>m===a)<0)continue;try{await s(a)}catch{continue}let c=jI(e),l=pp.join(a,`devcontainer${c}`);try{let m=await s(l);return console.log(m),await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI is already symlinked in {0}",a),{modal:!0,detail:Mt.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)}),!0}catch(m){if((m==null?void 0:m.code)!=="ENOENT")return!1}let u=Mt.l10n.t("Create"),d=Mt.l10n.t("Copy CLI Path"),f=await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI needs to be in your PATH"),{detail:Mt.l10n.t("Create a symlink in {0}?",a),modal:!0},u,d),p=pp.join(t,`devcontainer${c}`);switch(f){case u:if(a===i){if(!await MEe(p,l))break}else await(0,Wg.promisify)(mp.symlink)(p,l);await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI has been symlinked in {0}",a),{modal:!0,detail:Mt.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)});break;case d:await kt.env.clipboard.writeText(t),await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Mt.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${c}`)});break}return!0}return!1}async function MEe(t,e){try{return await mp.promises.symlink(t,e),!0}catch(n){if(n.code!=="EACCES"&&n.code!=="ENOENT")throw n;let r=Mt.l10n.t("OK");if(await kt.window.showInformationMessage(Mt.l10n.t("This will now prompt with 'osascript' for Administrator privileges to install the shell command."),{modal:!0},r)===r){let s=`"${await Do("osascript")}" -e "do shell script \\"mkdir -p ${pp.dirname(e)} && ln -sf '${t}' '${e}'\\" with administrator privileges"`;return await(0,Wg.promisify)($I.exec)(s),!0}return!1}}async function LZ(t,e){let n=t.globalStorageUri,r=ni.joinPath(n,"cli-bin").fsPath;switch(qg.platform()){case"win32":if(await FEe(r,e))return;break;case"darwin":case"linux":if(await UEe(r,e))return;break}let o=Mt.l10n.t("Copy CLI Path");if(await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI needs to be included your PATH"),{modal:!0},o)===o){await kt.env.clipboard.writeText(r);let s=jI(e);await kt.window.showInformationMessage(Mt.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Mt.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${s}`)})}}var go=G(require("vscode")),Ir=require("vscode"),NU=G(require("path"));var $Ee=Ir.l10n.t("Select Dev Container Configuration"),jEe=Ir.l10n.t('[Creating Dev Container (show log)](command:remote-containers.revealLogTerminal "Show details in terminal")'),AZ="alpine:3.16.3";async function OZ(t,e,n){let r=await HEe(t,e,n);if(!r)return;let{volumeAndFolderName:o}=r,i=ar(e.env),s=go.Uri.parse(us(e.cliHost.authority,void 0,o,o,!1,i,void 0));await cp({uri:s,type:"folder",label:Ir.l10n.t("{0} [Dev Container]",o)}),await go.commands.executeCommand("vscode.openFolder",s)}async function HEe(t,e,n){let{output:r}=e;qe(e,"pull",AZ);let o=await aU({telemetry:n,output:r,openConfigurationCommandId:ip,showLogCommandId:Tt},$Ee,!0);o.askForTrust=!0;let i=await No(e),s=async()=>{o.skipOptions=!0;let u=await gI(o,void 0,void 0,Promise.resolve(void 0));if(u==="back"||!u)return;let d=u.metadata.template;if(eU.indexOf(d.owner)===-1){let f=`@${d.owner}`,p={label:Ir.l10n.t("Trust {0}",f),description:Ir.l10n.t("from GitHub"),buttons:[{iconPath:new go.ThemeIcon("info"),tooltip:Ir.l10n.t("Open Documentation")}]},m={label:Ir.l10n.t("Back")},h={label:Ir.l10n.t("Cancel")},v=o.quickPick.onDidTriggerItemButton(()=>{go.env.openExternal(go.Uri.parse(d.documentationURL))}),g=await zo(o.quickPick,[p,m,h],Ir.l10n.t("The {0} is from the {1} GitHub owner/organization.",d.name,f),void 0,void 0,!0);if(v.dispose(),!g||g===h)return;if(g==="back"||g===m)return s()}return FZ(o,u,i,BEe(u.id,i),s)},a=await s();if(!a){o.quickPick.dispose();return}let{selectedTemplate:c,volumeName:l}=a;return go.window.withProgress({location:go.ProgressLocation.Notification,title:jEe,cancellable:!1},async()=>{let u;try{await Pm(e,l,[`${m_}=true`]);let{stdout:d}=await qe(e,...qEe(l,tf()));u=d.toString().trim();let f=NU.posix.join(tf(),l),p=cs(e,u,"root"),m=await Ws(e,u,"root",Bn),h=oi("container",f,{},p,m,()=>{throw new Error("not implemented")},"node",r);await h.mkdirp(f);let v=It(NU.posix,f),g=await iU(o,h,v.configFolderPath,"workspace",c);return o.quickPick.hide(),g?{volumeAndFolderName:l}:void 0}finally{if(u)try{await qe(e,"rm","-f",u)}catch{}}})}function BEe(t,e){let n,r=(/([^/:]+)(:[^/:]+)?$/.exec(t)||[])[1]||"devcontainer",o=0;do n=`${r}${o++?`-${o}`:""}`;while(e.indexOf(n)!==-1);return n}async function FZ(t,e,n,r,o){let{quickPick:i}=t;i.placeholder=Ir.l10n.t("Dev container name"),i.selectedItems=[],i.value=r,i.buttons=[go.QuickInputButtons.Back];let s={label:Ir.l10n.t("Additional Options..."),alwaysShow:!0},a=!1;function c(){a=!1,i.items=[{label:Ir.l10n.t("Create Dev Container"),description:i.value,alwaysShow:!0},s]}function l(p){a=!0,i.items=[{label:p,alwaysShow:!0}]}c();let u=[],d=await new Promise(p=>{u=[i.onDidAccept(()=>{i.value?a||p({volumeName:i.value,options:i.selectedItems[0]===s}):l(Ir.l10n.t("The name cannot be empty."))}),i.onDidHide(()=>p(void 0)),i.onDidChangeValue(m=>{n.indexOf(m)!==-1?l(Ir.l10n.t("A Docker volume with this name already exists.")):m&&!/^[a-zA-Z0-9]/.test(m)?l(Ir.l10n.t("Only alphanumeric characters are allowed as the first character.")):m&&!/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/.test(m)?l(Ir.l10n.t("Only alphanumeric characters, periods, underscores and hyphens are allowed.")):c()}),i.onDidTriggerButton(()=>p("back"))]});if(u.forEach(p=>p.dispose()),!d)return;if(d==="back")return o();let{volumeName:f}=d;if(d.options){let m=await(async()=>{t.skipOptions=!1;let h=await dp(t,e.metadata.template,Promise.resolve(void 0),async()=>{let v=await FZ(t,e,n,f,o);if(v)return f=v.volumeName,v.selectedTemplate});if(!(h==="back"||!h))return h})();if(!m)return;e=m}return i.busy=!0,i.enabled=!1,{volumeName:f,selectedTemplate:e}}function qEe(t,e){return["run","-d","--mount",`type=volume,src=${t},dst=${e}`,AZ,"sleep","infinity"]}O.l10n.bundle&&HZ.config({contents:O.l10n.bundle});var OU=class{constructor(e,n,r){this.context=e;this.output=n;this.telemetry=r}handleUri(e){switch(e.path){case"/cloneInVolume":this.cloneInVolume(e)}}async cloneInVolume(e){let n=qZ.parse(e.query);if(!n.url){O.window.showErrorMessage(oe.l10n.t("Failed to handle the URI '{0}' expected a 'url' query parameter.",e.toString()),{modal:!0});return}let r;if(Array.isArray(n.url)?r=n.url[0]:r=n.url,!await Qr(this.context,this.output.log,this.output.onDidInput,this.telemetry,"cloneInVolume"))return;let o=await st(this.context,this.output.log);if(await fR(o.cliHost,r,await cI(this.output.log),this.output.log)===!1){O.commands.executeCommand(Tt),await O.window.showErrorMessage(oe.l10n.t("Cannot access the repository '{0}'.",r),{modal:!0});return}await O.commands.executeCommand(sI,n.url)}};async function YEe(t){var R;tX();let e=new Date;eX(t);let n=await Ur(t.extensionPath),r=await tx(O.env.appRoot);nX(t,r);let o=QJ(t,n,r),i=await oX(n,r),s=new Iy(t.logPath,e,i);t.subscriptions.push(O.commands.registerCommand(Tt,()=>s.show()));let{channel:a,postCreate:c}=ZJ(s.log,e);t.subscriptions.push(O.commands.registerCommand(W1,()=>a.show()));let l,u=new Promise(b=>l=b);t.subscriptions.push(O.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:aI(s,c,ho.results,l,async(b,I,_,D)=>MX(t,o,b,I,ho.onRemoveOnShutdownChanged,_,D)),async getCanonicalURI(b){let I=Br(b.authority);if(I&&on(I)){let{hostPath:_,settings:D}=I;return yr(_)?hm(_,s.log):Pl(D)?px(D.host,_):Tl(I.parentAuthority)?_.startsWith("/")?zl(I.parentAuthority,_):b:uc(I.parentAuthority)?_.startsWith("/")?zl(I.parentAuthority,_):b:O.Uri.file(_)}return b}}),O.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:aI(s,c,ho.results,l,async(b,I,_,D)=>ZX(t,o,b,I,_,D))}),O.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:aI(s,c,ho.results,l,async(b,I,_,D)=>RZ(t,o,b,I,_,D))}),O.window.registerUriHandler(new OU(t,s,o)));let d=async(b,I,_)=>{if(!await Qr(t,s.log,s.onDidInput,o,"openInContainer"))return;let D=await st(t,s.log),S;if(hr.isFolderItem(b)?S=b.folder:S=b,S.scheme==="vscode-remote"&&S.authority.startsWith("dev-container+"))return O.commands.executeCommand("vscode.openFolder",S,_);{let C=It(D.cliHost.path,Ie(S,D.cliHost.platform));return Wy(t,C,D,s.onDidInput,o,I,_)}};t.subscriptions.push(O.commands.registerCommand("remote-containers.openFolder",async(b,I)=>b?d(b,!1,I):LU(t,!0,o,!1,s.log,s.onDidInput))),t.subscriptions.push(O.commands.registerCommand("remote-containers.openWorkspace",async(b,I)=>b?d(b,!1,I):LU(t,!1,o,!1,s.log,s.onDidInput))),t.subscriptions.push(O.commands.registerCommand(MJ,async b=>Yg(t,o,s.log,s.onDidInput,b))),t.subscriptions.push(O.commands.registerCommand(sI,async b=>Yg(t,o,s.log,s.onDidInput,b,Ni))),t.subscriptions.push(O.commands.registerCommand(jJ,async()=>{var L,A,N;let I=(await((L=O.extensions.getExtension("vscode.git"))==null?void 0:L.activate())).getAPI(1);if(I.repositories.length===0)return;let _=I.repositories.reduce((B,K)=>{let q=K.state.remotes.find(X=>{var ue,De;return X.name===((De=(ue=K.state.HEAD)==null?void 0:ue.upstream)==null?void 0:De.remote)});return q!=null&&q.pushUrl&&B.push({repository:K,label:q.pushUrl}),B},[]),D=_[0];if(_.length>1){let B=await O.window.showQuickPick(_,{canPickMany:!1,placeHolder:oe.l10n.t("Choose which repository to clone")});if(B===void 0)return;D=B}let S=D.label,C=(N=(A=D.repository.state.HEAD)==null?void 0:A.upstream)==null?void 0:N.name;return Yg(t,o,s.log,s.onDidInput,{url:S,branch:C},Ni)})),t.subscriptions.push(O.commands.registerCommand($J,async()=>{var C;let b=O.workspace.workspaceFolders;if(!b)return;let I=b[0].uri;if(b.length>1){let L=await O.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:oe.l10n.t("Choose a repository to clone in a Container Volume")});I=L==null?void 0:L[0]}let _,D;try{let L=await O.commands.executeCommand("remoteHub.api.getRepositoryContext",I);if(!L)throw new Error("Unable to get active repository context.");_=L.name,D=L.ref}catch{let N=await(await((C=O.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:C.activate())).getMetadata(I);if(!N)throw new Error("Unable to get active repository context.");_=`${N.repo.owner}/${N.repo.name}`,D=(await N.getRevision()).name}let S=`https://github.com/${_}`;return D&&(S=`${S}/tree/${D}`),Yg(t,o,s.log,s.onDidInput,S,Ni)})),t.subscriptions.push(O.commands.registerCommand(HJ,async b=>rCe(t,o,s.log,s.onDidInput,b,Ni))),t.subscriptions.push(O.commands.registerCommand("remote-containers.inspectVolume",async(b,I,_)=>zZ(t,b,I,_,o,s.log,s.onDidInput))),t.subscriptions.push(O.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async b=>oCe(t,b,o,s.log,s.onDidInput))),t.subscriptions.push(O.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async b=>Yg(t,o,s.log,s.onDidInput,void 0,b))),t.subscriptions.push(O.commands.registerCommand("remote-containers.reopenInContainer",()=>f(!1))),t.subscriptions.push(O.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>f(!0))),t.subscriptions.push(O.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>f("rebuildNoCache")));let f=async b=>{if(!await O.workspace.requestWorkspaceTrust({message:ky})||!await Qr(t,s.log,s.onDidInput,o,"reopenInContainer"))return;let _=await st(t,s.log),D=O.workspace.workspaceFile;if(D&&D.scheme==="untitled"){await Z0();return}let S=O.workspace.workspaceFolders;if(!D&&S&&S.length){let L=S.length>1?await O.window.showWorkspaceFolderPick({placeHolder:oe.l10n.t("Pick a folder to reopen in a container.")}):S[0];L&&(D=L.uri)}let C=V1(D);if(C){await Yy(t,C.repositoryPath,C.volumeName,C.folder,_);return}if(D){let L;if(_.cliHost.type==="wsl"&&D.scheme==="file"){let N=Ie(D,process.platform),B=mm(N)||G1()||await gb(_.output)||(()=>{throw new Error("No default WSL distro found.")})();L=await Vd(B,N,_.output)}else L=Ie(D,_.cliHost.platform);let A=It(_.cliHost.path,L);await Wy(t,A,_,s.onDidInput,o,b,{forceReuseWindow:!0})}else return LU(t,!0,o,b,s.log,s.onDidInput)};t.subscriptions.push(O.commands.registerCommand("remote-containers.reopenLocally",async()=>{let b=O.workspace.workspaceFolders,I=O.workspace.workspaceFile||b&&b.length&&b[0].uri;if(I&&I.scheme==="vscode-remote"){let _=Br(I.authority);if(_&&on(_)){let D=O.Uri.file(_.hostPath),S={forceReuseWindow:!0};await O.commands.executeCommand("vscode.openFolder",D,S)}else O.window.showInformationMessage(oe.l10n.t("'Reopen Locally' not possible in current context."))}})),t.subscriptions.push(O.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let b=O.workspace.workspaceFolders,I=O.workspace.workspaceFile||b&&b.length&&b[0].uri;if(I&&I.scheme==="vscode-remote"){let _=Br(I.authority);if(_&&on(_)&&yr(_.hostPath)){let D=O.Uri.parse((await hm(_.hostPath,s.log)).toString()),S={forceReuseWindow:!0};await O.commands.executeCommand("vscode.openFolder",D,S)}else O.window.showInformationMessage(oe.l10n.t("'Reopen in WSL' not possible in current context."))}})),t.subscriptions.push(O.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let b=O.workspace.workspaceFolders,I=O.workspace.workspaceFile||b&&b.length&&b[0].uri;if(I&&I.scheme==="vscode-remote"){let _=Br(I.authority),D=_==null?void 0:_.settings;if(_&&on(_)&&(Tl(_.parentAuthority)||Pl(D))){let S=Pl(D)?px(D.host,_.hostPath):zl(_.parentAuthority,_.hostPath),C={forceReuseWindow:!0};await O.commands.executeCommand("vscode.openFolder",O.Uri.parse(S.toString()),C)}else O.window.showInformationMessage(oe.l10n.t("'Reopen in SSH' not possible in current context."))}})),t.subscriptions.push(O.commands.registerCommand("remote-containers.reopenInTunnel",async()=>{let b=O.workspace.workspaceFolders,I=O.workspace.workspaceFile||b&&b.length&&b[0].uri;if(I&&I.scheme==="vscode-remote"){let _=Br(I.authority);if(_&&on(_)&&uc(_.parentAuthority)){let D=O.Uri.parse(zl(_.parentAuthority,_.hostPath).toString()),S={forceReuseWindow:!0};await O.commands.executeCommand("vscode.openFolder",D,S)}else O.window.showInformationMessage(oe.l10n.t("'Reopen in Tunnel' not possible in current context."))}}));let p=async b=>{var C;if(!await ad(t))return;let I,_=typeof b=="string"?b:(C=b==null?void 0:b.containerDesc)==null?void 0:C.Id;if(_){if(!await Qr(t,s.log,s.onDidInput,o,"attachToContainer"))return;let L=await st(t,s.log);I=await Ro(L,_)}else{let L=Qr(t,s.log,s.onDidInput,o,"attachToContainer");if(I=await fCe(t,s.log,L),!I)return}let D=await st(t,s.log),S=t.extensionMode===O.ExtensionMode.Development;qy(D,I,t,!S)};t.subscriptions.push(O.commands.registerCommand("remote-containers.attachToRunningContainer",p)),t.subscriptions.push(O.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",p)),t.subscriptions.push(O.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async b=>kZ(t,await st(t,s.log),b)));let m=async b=>{var _;if(!await Qr(t,s.log,s.onDidInput,o,"checkoutPRInVolume"))return;let I=(_=b==null?void 0:b.pullRequestModel)==null?void 0:_.html_url;Yg(t,o,s.log,I,Ni)};t.subscriptions.push(O.commands.registerCommand("remote-containers.checkoutPRInVolume",m)),t.subscriptions.push(O.commands.registerCommand("remote-containers.switchContainer",async()=>{let b=await st(t,s.log),I=It(b.cliHost.path,b.cliHost.cwd);if((await YZ(b.cliHost,I,await Zc(t,b.cliHost))).length<2){await O.window.showInformationMessage(oe.l10n.t("No other Dev Container configurations found in folder. Did you mean to open another folder in a container?"),{modal:!0},oe.l10n.t("Open Folder in Container..."))&&O.commands.executeCommand("remote-containers.openFolder");return}await Wy(t,I,b,s.onDidInput,o,!1)})),t.subscriptions.push(O.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let b=ap();if(b){let I=await st(t,s.log);await Yy(t,b.repositoryPath,b.volumeName,b.folder,I,!0);return}return await Promise.all(ho.onRemoveOnShutdownChangedEmitter.fire(!0)),O.commands.executeCommand("workbench.action.reloadWindow")})),t.subscriptions.push(O.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let b=ap();if(b){let I=await st(t,s.log);await Yy(t,b.repositoryPath,b.volumeName,b.folder,I,"rebuildNoCache");return}return await Promise.all(ho.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),O.commands.executeCommand("workbench.action.reloadWindow")}));let h=BJ(),v=((R=(O.workspace.workspaceFolders||[])[0])==null?void 0:R.uri)||_e.file(process.cwd()),g=h.then(b=>Ia(b,v)),w,x=()=>w||(w=st(t,s.log).then(b=>b.cliHost)),y,E=()=>y||(y=(async()=>{let b=await g,I=await x(),_=O.env.remoteName==="dev-container"&&O.env.remoteAuthority&&Br(O.env.remoteAuthority),S=!_||on(_)?await Zc(t,I):void 0;return s.log.write("Initializing configuration support..."),UX(t,{fileHost:b,userDataFolderForConfigurations:S,findDevContainerFiles:async C=>mI(I,It(b.path,Ie(v,b.platform)),S,C),telemetry:o,output:s.log,openConfigurationCommandId:ip,showLogCommandId:Tt})})());async function T(){var b;return(b=O.workspace.workspaceFolders)!=null&&b.length?!0:(await O.window.showInformationMessage(oe.l10n.t("Open a folder to create the configuration files in first."),{modal:!0},oe.l10n.t("Open Folder"))&&await O.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder"),!1)}t.subscriptions.push(O.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{await T()&&await HI(t,await x(),await E(),o,s.log,s.onDidInput)})),t.subscriptions.push(O.commands.registerCommand("remote-containers.createDevContainerFileWithCopilot",async()=>{await T()&&await HI(t,await x(),await E(),o,s.log,s.onDidInput,{picker:"copilot"})})),t.subscriptions.push(O.commands.registerCommand("remote-containers.createDevContainer",async()=>{if(!await Qr(t,s.log,s.onDidInput,o,"createDevContainer"))return;let b=await st(t,s.log);await OZ(t,b,o)})),t.subscriptions.push(O.commands.registerCommand("remote-containers.openDevContainerFile",async(b,I)=>{let _,D=await st(t,s.log),S;if(typeof b=="string"?_=[{type:"unknown",uri:_e.file(b),fileHost:Ia(process.platform,_e.file(St.dirname(b)))}]:(S=await mI(D.cliHost,It(D.cliHost.path,D.cliHost.cwd),await Zc(t,D.cliHost)),_=(await Promise.all(S.map(C=>C.uri.scheme==="file"||C.uri.scheme==="vscode-remote"?C:D.cliHost.toCommonURI(Ie(C.uri,D.cliHost.platform)).then(L=>L&&{type:C.type,uri:L})))).filter(C=>!!C)),_.length){let C=await np(_);if(!C||C==="cancelled")return;let L=ap();if(L){let A=XJ(L.folder);for(let N of A){try{await O.workspace.openTextDocument(O.Uri.parse(N.toString()))}catch{continue}await O.commands.executeCommand("vscode.open",O.Uri.parse(N.toString()),I);return}return}if(C){if(C.scheme==="file"&&await gr(C.fsPath))return await O.commands.executeCommand("vscode.open",O.Uri.parse(C.toString()),I);if(C.scheme==="file"&&ho.results.size)return await Ti(ss,C,[],oc),await O.commands.executeCommand("vscode.open",O.Uri.parse(C.toString()),I);if(C.scheme==="vscode-remote")return await O.commands.executeCommand("vscode.open",O.Uri.parse(C.toString()),I);if(b===void 0)return await HI(t,await x(),await E(),o,s.log,s.onDidInput)}}else if(b===void 0&&!(S!=null&&S.length))return await HI(t,await x(),await E(),o,s.log,s.onDidInput)})),t.subscriptions.push(O.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:b,dockerParams:I}=[...ho.results.values()][0];if(!b||!I)return O.window.showInformationMessage(oe.l10n.t("Named configurations are only available for Docker containers."),{modal:!0});let _=await Ro(I,b),D=bI(t.globalStoragePath,_),S=O.Uri.file(D);return await gr(D)?O.commands.executeCommand("vscode.open",S):(await Ti(ss,S,[],oc),O.commands.executeCommand("vscode.open",S))})),t.subscriptions.push(O.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let b=[...(await zX(t.globalStoragePath)).map(_=>({label:_.name,..._})).sort((_,D)=>_.label.localeCompare(D.label)),...(await KX(t.globalStoragePath)).map(_=>({label:_.image,..._})).sort((_,D)=>_.label.localeCompare(D.label))],I=await O.window.showQuickPick(b.length?b:[{label:oe.l10n.t("No configuration found.")}],{placeHolder:oe.l10n.t("Choose a configuration file")});if(I&&"uri"in I)return O.commands.executeCommand("vscode.open",O.Uri.parse(I.uri.toString()))})),t.subscriptions.push(O.commands.registerCommand("remote-containers.settings",async()=>O.commands.executeCommand("workbench.action.openSettings",`@ext:${$Z()}`))),t.subscriptions.push(O.commands.registerCommand("remote-containers.getHelp",async()=>O.env.openExternal(O.Uri.parse("https://aka.ms/vscode-remote/containers")))),t.subscriptions.push(O.commands.registerCommand("remote-containers.getStarted",async()=>O.env.openExternal(O.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),t.subscriptions.push(O.commands.registerCommand("remote-containers.reportIssue",async()=>{let b={extensionId:$Z(),issueBody:oe.l10n.t("For bug reports please include the complete log output. (In the VS Code window: `F1` > `Dev Containers: Show Container Log`.)")};return O.commands.executeCommand("vscode.openIssueReporter",b)})),t.subscriptions.push(O.commands.registerCommand("remote-containers.provideFeedback",async()=>O.env.openExternal(O.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),g.then(b=>{t.subscriptions.push(O.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new kI(b)))}),t.subscriptions.push(O.commands.registerCommand("remote-containers.trySample",()=>wCe(t,s,o))),t.subscriptions.push(O.commands.registerCommand("remote-containers.openLogFile",()=>yCe(t))),t.subscriptions.push(O.commands.registerCommand("remote-containers.openLastLogFile",()=>ECe(t,"remoteContainers",s.logFilePath))),t.subscriptions.push(O.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>hCe(t))),t.subscriptions.push(O.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>zEe(t))),t.subscriptions.push(O.commands.registerCommand("remote-containers.installDocker",()=>DI(s.log))),t.subscriptions.push(O.commands.registerCommand("remote-containers.installDockerInWSL",()=>TI(t,s.log,s.onDidInput,o))),t.subscriptions.push(O.commands.registerCommand("remote-containers.cleanUpDevContainers",async()=>EZ(await st(t,s.log)))),PZ(t,ho.results,o,s.log),NZ(t,r).catch(b=>{s.log.write(`Error ensuring user CLI is configured: ${(b==null?void 0:b.stack)||(b==null?void 0:b.message)||String(b)}`)}),t.subscriptions.push(O.commands.registerCommand("remote-containers.installUserCLI",()=>LZ(t,r))),(async()=>{let b=O.env.remoteAuthority,I=b&&Br(b);I&&(so(I)||sc(I))&&I.inspectVolume&&await u,b&&fc(b)&&await u;let _=O.env.remoteName,D=!_||["dev-container","attached-container","wsl","ssh-remote","tunnel","exec","k8s-container"].indexOf(_)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[],S=await E();t.subscriptions.push(O.languages.registerCompletionItemProvider([...D,{pattern:St.join(_I(t.globalStoragePath),"*.json")},{pattern:St.join(CI(t.globalStoragePath),"*.json")}],S.createCompletionItemProvider())),_!=="codespaces"&&(S.startCodeLensProvider(),S.startHoverProvider(),S.startDiagnosticsCollection()),await JJ(t)||await GZ(t,await x(),o,s.log,s.onDidInput)})().catch(console.error),GEe(t),t.subscriptions.push(O.commands.registerCommand("remote-containers.addExtensionToConfig",async b=>(await E()).addExtensionToConfiguration(b)),O.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>(await E()).configureContainerFeatures()),O.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",async b=>(await E()).addPortLabelToConfiguration(b))),ap()&&O.commands.executeCommand("setContext","isRecoveryContainer",!0),WJ(t).catch(b=>s.log.write(`Error remembering local extensions: ${(b==null?void 0:b.stack)||(b==null?void 0:b.message)||String(b)}`))}var MZ="showRecoveryContainerNotification",WZ="showReopenInContainerNotificationReset",VEe=5e3;function zEe(t){return t.globalState.update(WZ,Date.now())}async function GEe(t){setTimeout(async()=>{let e=t.globalState.get(WZ);if($U(t.globalState.get(MZ),e))return;if(ap()){let r=oe.l10n.t("This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry."),o=oe.l10n.t("Reopen in Container"),i=oe.l10n.t("Don't Show Again"),s=await O.window.showInformationMessage(r,o,i);s===o?O.commands.executeCommand("remote-containers.reopenInContainer"):s===i&&await t.globalState.update(MZ,Date.now())}},VEe)}async function KEe(){await Promise.all([...ho.results.values()].map(t=>Promise.all(t.params.shutdowns.map(e=>{try{e()}catch(n){console.error(n)}}))))}function $Z(){let{name:t,publisher:e}=UZ();return`${e}.${t}`}async function LU(t,e,n,r,o,i){var f;if(!await Qr(t,o,i,n,"openInContainer"))return;let s=await st(t,o),a,c=O.workspace.workspaceFolders;if(c&&c[0]){let p=c[0].uri;if(p.scheme==="vscode-remote"){let m=Br(p.authority);if(m&&on(m)){let h=It(s.cliHost.path,m.hostPath);a=O.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote|tunnel)\+/.test(p.authority)&&(a=p)}else p.scheme==="file"&&(a=p)}a||((f=O.env.remoteName)!=null&&f.match(/^(wsl|ssh-remote|tunnel)$/)?a=O.Uri.from({scheme:"vscode-remote",authority:O.env.remoteAuthority,path:await s.cliHost.homedir()}):a=O.Uri.file(BZ.homedir()));let l=e?{defaultUri:a,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:oe.l10n.t("Open")}:{defaultUri:a,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{[oe.l10n.t("Code Workspace")]:["code-workspace"]},openLabel:oe.l10n.t("Open")},u=await O.window.showOpenDialog(l),d=u&&u[0];if(d){let p=e?d:d.with({path:St.posix.dirname(d.path)}),m=await st(t,s.output,p,z1()==="always"),h=Ie(d,m.cliHost.platform),v=It(m.cliHost.path,h);await Wy(t,v,m,i,n,r)}}async function Wy(t,e,n,r,o,i,s){try{await JEe(t,e,n,r,o,i,s)}catch(a){await ld(a,"ui",o,!1,n.output)}}async function JEe(t,e,n,r,o,i,s){var R;let{cliHost:a}=n;if(yr(e.rootFolderPath)){if(!await Qr(t,n.output,r,o,"openInContainer",e.rootFolderPath))return;n=await st(t,n.output,e.rootFolderPath),a=n.cliHost,e=It(a.path,e.isWorkspaceFile?a.path.join(a.cwd,St.basename(e.workspaceOrFolderPath)):a.cwd)}let c=await YC(a,e);if(c){let b=oe.l10n.t("Continue");if(await O.window.showInformationMessage(oe.l10n.t("The workspace could fail to open in a container: {0}",c),{modal:!0},b)!==b)return}let l=await QEe(t,a,e);if(l==="cancelled")return;let u=l&&(l.scheme==="file"?await ot(l.fsPath):await a.readFile(Ie(l,a.platform))).toString(),d=!!(u&&((R=Ge(u))!=null&&R.initializeCommand)),{dockerCLI:f,dockerComposePath:p}=n,m={cliHost:a,dockerPath:f,dockerComposePath:p,appRoot:O.env.appRoot,extensionPath:t.extensionPath,package:await Ur(t.extensionPath),output:n.output},h=l&&await(d?Dg(m,e.rootFolderPath,l):await Q1(m,e.rootFolderPath,l)||Dg(m,e.rootFolderPath,l));if(h==="canceled")return;if(!h&&l){let b=Ie(l,a.platform),I=await a.toCommonURI(b);I&&O.window.showTextDocument(O.Uri.parse(I.toString()));let _=oe.l10n.t("Show Log");await O.window.showErrorMessage(oe.l10n.t("Failed to read Dev Container configuration '{0}' file.",a.path.relative(e.configFolderPath,b)),{modal:!0},_)===_&&O.commands.executeCommand(Tt);return}let v=h&&!Jb(h.configuration);if(!h||v){let b=await wI({fileHost:a,userDataFolderForConfigurations:await Zc(t,a),telemetry:o,output:n.output,openConfigurationCommandId:ip,showLogCommandId:Tt},e,void 0,h==null?void 0:h.configuration.configFilePath);if(!b||(l=_e.file(b).with({scheme:it.scheme}),h=await Q1(m,e.rootFolderPath,l),!h||h==="canceled"))return}if(!await rX(t,n,h.configuration)||!await tCe(n,"mergedConfiguration"in h?h.mergedConfiguration:h.configuration))return;let g=h.configuration,w=h.workspace.workspaceFolder;if(To(g)){let b=Qd(a,g);if(!g.initializeCommand&&!await sr(a).readDocument(b))return Vy(oe.l10n.t('"{0}" does not exist.',b.fsPath),a,g.configFilePath);if(g.workspaceFolder&&!St.posix.isAbsolute(g.workspaceFolder))return Vy(oe.l10n.t("Workspace folder in devcontainer.json must be an absolute path."),a,g.configFilePath)}else if(!("image"in g))if("dockerComposeFile"in g){if(!await hZ(n)||!await pCe(e,n,g))return}else{let b=g.configFilePath;return Vy(oe.l10n.t('Configuration "{0}" not valid.',a.path.relative(e.rootFolderPath,Ie(b,a.platform))),a,b)}e.isWorkspaceFile&&(w=St.posix.join(w,a.path.basename(e.workspaceOrFolderPath)));let x=ar(n.env),y=a.type==="wsl"?(await a.toCommonURI(e.workspaceOrFolderPath)).fsPath:e.workspaceOrFolderPath,E=(a.type==="local"||a.type==="wsl")&&Pl(x),T=(l==null?void 0:l.scheme)===it.scheme&&a.type==="wsl"&&!yr(y)&&await a.toCommonURI(Ie(l,a.platform))||l,k=O.Uri.parse($x(O.env.remoteAuthority,y,w,x,E,T));await cp({uri:k,type:e.isWorkspaceFile?"workspace":"folder",label:oe.l10n.t("{0} [Dev Container]",`${by(a.platform,e.workspaceOrFolderPath,await a.homedir())}${Om(O.env.remoteAuthority,x)}`)}),await X1(t,i?k.authority:!1),await Py(t,i==="rebuildNoCache"?k.authority:!1),await O.commands.executeCommand("vscode.openFolder",k,s)}async function YZ(t,e,n){let r=await eCe(t,e.rootFolderPath),i=(r==null?void 0:r.scheme)==="file"&&process.platform==="win32"&&yr(r.fsPath)&&!O.workspace.getConfiguration("security").get("allowedUNCHosts",[]).includes(r.authority)?ZEe(t,e):XEe(r,t,e);return(await Promise.all([i.then(s=>s.map(a=>({type:"workspace",uri:a,fileHost:t}))),Z1(t,e).then(s=>s.map(a=>({type:"repositoryConfig",uri:a,fileHost:Ia(process.platform,a.with({path:St.posix.dirname(a.path)}))}))),n?rI(t,e,n).then(s=>s.map(a=>({type:"userData",uri:a,fileHost:t}))):[]])).flat()}async function XEe(t,e,n){let r=t?new O.RelativePattern(t,Jc):Jc;return Promise.all((await O.workspace.findFiles(r)).map(async i=>{if(!t){let s=St.posix.relative(O.workspace.workspaceFolders[0].uri.path,i.path),a=e.platform==="win32"?"/"+n.rootFolderPath.replace(/\\/g,"/"):n.rootFolderPath;return _e.from({scheme:it.scheme,path:St.posix.join(a,s)})}return i.scheme===io.scheme?_e.from({scheme:it.scheme,path:i.path}):e.type==="wsl"&&i.scheme==="file"?_e.from({scheme:it.scheme,path:await u_(i,e)}):i}))}async function ZEe(t,e){let n=t.path.join(e.rootFolderPath,".devcontainer"),r=[...Ul(t.path,e.rootFolderPath),...(await t.readDirWithTypes(n)).filter(([,o])=>(o&2)!==0).map(([o])=>t.path.join(n,o,"devcontainer.json"))];return(await Promise.all(r.map(o=>t.isFile(o).then(i=>i?_e.from({scheme:it.scheme,path:o}):void 0)))).filter(Boolean)}async function QEe(t,e,n){let r=await YZ(e,n,await Zc(t,e)),o;if(O.env.remoteAuthority){let i=Br(O.env.remoteAuthority);i&&on(i)&&(o=i.configFile)}return np(r,o)}function eCe(t,e){switch(t.type){case"local":return _e.file(e);case"wsl":return O.env.remoteName==="wsl"?_e.from({scheme:"vscode-remote",authority:O.env.remoteAuthority,path:e}):t.toCommonURI(e);case"remote":return O.env.remoteName==="ssh-remote"||O.env.remoteName==="tunnel"?kn(t.platform,_e.from({scheme:"vscode-remote",authority:O.env.remoteAuthority}),e):void 0;default:return}}async function tCe(t,{hostRequirements:e}){var r,o;let n=e&&nCe(e);if(n&&(n.cpus||n.memory||n.gpu&&n.gpu!=="optional")){let i=await qe(t,"info","--format","{{json .}}"),s=JSON.parse(i.stdout.toString()),a=s.NCPU&&n.cpus&&n.cpus>s.NCPU,c=s.MemTotal&&n.memory&&n.memory>s.MemTotal,l=((o=(r=s.Runtimes)==null?void 0:r.nvidia)==null?void 0:o.path)==="nvidia-container-runtime";if(a||c){let u=[];s.NCPU&&u.push(oe.l10n.t("CPUs {0}",s.NCPU.toLocaleString())),s.MemTotal&&u.push(oe.l10n.t("RAM {0}",AU(s.MemTotal))),l&&u.push(oe.l10n.t("GPU"));let d=[];n.cpus&&d.push(oe.l10n.t("CPUs {0}",n.cpus.toLocaleString())),n.memory&&d.push(oe.l10n.t("RAM {0}",AU(n.memory))),n.storage&&d.push(oe.l10n.t("disk {0}",AU(n.storage))),n.gpu&&n.gpu!=="optional"&&d.push(oe.l10n.t("GPU"));let f=oe.l10n.t(`Docker daemon: {0}
devcontainer.json: {1}`,u.join(", "),d.join(", "));if(!await O.window.showInformationMessage(oe.l10n.t("Not all host requirements in devcontainer.json are met by the Docker daemon."),{modal:!0,detail:f},oe.l10n.t("Continue")))return!1}}return!0}function nCe(t){return{cpus:t.cpus||0,memory:jZ(t.memory||"0"),storage:jZ(t.storage||"0"),gpu:t.gpu}}function jZ(t){let e=/^(\d+)([tgmk]b)?$/.exec(t);if(e){let[,n,r]=e,o=parseInt(n,10),i=r&&{t:2**40,g:2**30,m:2**20,k:2**10}[r[0]]||1;return o*i}return 0}function AU(t){let e=Math.min(Math.floor(Math.log2(Math.max(Math.abs(t),1))/10),4),n=t/Math.pow(2,10*e),r=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(n),1)))),1),o=Math.round(n*r)/r,i=[" bytes","kb","mb","gb","tb"][e];return`${o.toLocaleString()}${i}`}async function Yg(t,e,n,r,o,i){if(!await Ry(t))return;let s=null;if(!await Qr(t,n,r,e,"cloneInVolume"))return;let a=await st(t,n);if(typeof o=="string")s=o;else{let c;if(o!==void 0?c=o:c=await O.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:l=>oe.l10n.t("Clone a repository from {0} in a Container Volume",l.name),urlLabel:oe.l10n.t("Clone git repository from URL"),branch:!0}),c){s=(typeof c=="string"?c:c.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let l=zs(s);if(await fR(a.cliHost,l.repositoryUrl,await cI(a.output),a.output)===!1){O.commands.executeCommand(Tt),await O.window.showInformationMessage(oe.l10n.t("Cannot access the repository '{0}'.",l.repositoryUrl),{modal:!0});return}typeof c!="string"&&c.branch&&(s=`${s}/tree/${c.branch}`)}}s&&await VZ(t,a,s,i)}async function VZ(t,e,n,r){if(r||(r=await sCe(e)),r){let o=HU(n);r!==Ni&&(o=await cCe(n)),o&&await Yy(t,n,r,o,e)}}async function rCe(t,e,n,r,o,i){if(!await Ry(t))return;let s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await Qr(t,n,r,e,"checkoutPRInVolume"))return;let a=await st(t,n),c={placeHolder:oe.l10n.t("e.g. https://github.com/microsoft/vscode/pull/123"),prompt:oe.l10n.t("Enter a GitHub pull request url"),validateInput:d=>s.test(d)?void 0:oe.l10n.t("Invalid pull request url")},l;if(o?l=o:l=await O.window.showInputBox(c),!l)return;let u=zs(l);if(u.repository==="unknown"||!u.pullRequestId){await O.window.showInformationMessage(oe.l10n.t("Invalid pull request URL '{0}'.",l),{modal:!0});return}await VZ(t,a,l,i)}async function zZ(t,e,n,r,o,i,s){if(!await Qr(t,i,s,o,"inspectVolume"))return;let a=await st(t,i);e||(e=await iCe(a)),e&&(n&&r?await dCe(e,n,r,a):await uCe(e,a))}async function oCe(t,e,n,r,o){await Qr(t,r,o,n,"inspectVolume")&&e&&e.volumeName&&await zZ(t,e.volumeName,void 0,void 0,n,r,o)}var zy=class{get detail(){return""}},FU=class extends zy{get label(){return oe.l10n.t("$(plus) Create a new volume...")}get description(){return""}get volumeName(){return""}get detail(){return oe.l10n.t("Use this volume to store several cloned repositories.")}get alwaysShow(){return!0}},UU=class extends zy{volume;constructor(e){super(),this.volume=e}get label(){return oe.l10n.t("$(folder) {0}",this.volume.Name)}get description(){let e=new Date(this.volume.CreatedAt);return oe.l10n.t("created at {0}",e.toDateString())}get volumeName(){return this.volume.Name}},MU=class extends zy{volume;constructor(e){super(),this.volume=e}get label(){return oe.l10n.t("$(folder) {0}",this.volume.Name)}get description(){let e=new Date(this.volume.CreatedAt);return oe.l10n.t("created at {0}",e.toDateString())}get volumeName(){return this.volume.Name}};async function iCe(t){let e=await No(t),r=(await ef(t,e)).map(a=>new MU(a)),o=oe.l10n.t("Select the volume to inspect with Visual Studio Code"),i=O.window.createQuickPick();i.items=r,i.placeholder=o,i.show();let s=await new Promise(a=>{i.onDidAccept(()=>a(i.activeItems[0])),i.onDidHide(()=>a(void 0))});return i.hide(),s?s.volume.Name:null}async function sCe(t){let e=await No(t,["vsch.local.repository.unique=false"]),r=(await ef(t,e)).map(u=>new UU(u)),o=new FU,i=[o,...r],s=oe.l10n.t("Select the volume for the cloned repository"),a=O.window.createQuickPick();a.items=i,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(u=>{a.onDidAccept(()=>u(a.activeItems[0])),a.onDidHide(()=>u(void 0))});if(a.hide(),!c)return null;let l=null;return c===o?l=await aCe(t):l=c.volumeName,l}async function aCe(t){let e="",n="vsc-remote-containers",r=await No(t);r.find(s=>s===n)||(e=n);let o={prompt:oe.l10n.t("Enter the volume name."),value:e,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?oe.l10n.t("Volume names should be at least two characters and the first character must be alphanumeric."):oe.l10n.t("Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric.")},i=await O.window.showInputBox(o);return i?r.find(s=>s===i)?(await O.window.showErrorMessage(oe.l10n.t("Volume already exists"),{modal:!0}),null):i:null}async function cCe(t){let e={prompt:oe.l10n.t("Enter the target folder name."),value:HU(t),ignoreFocusOut:!0},n=await O.window.showInputBox(e);return n||null}function HU(t){return si(t).repositoryName}async function lCe(){return(await O.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function Yy(t,e,n,r,o,i=!1){let s=ar(o.env),a=p_(e),c;try{c=await a.parseUrl(void 0)}catch(u){if(u instanceof Fx){O.window.showErrorMessage(u.description);return}let d=await lCe();try{c=await a.parseUrl(d)}catch{O.window.showErrorMessage(oe.l10n.t("Cannot access '{0}'.",e),{modal:!0});return}}let l=O.Uri.parse(us(o.cliHost.authority,e,n,r,!1,s,c));n===Ni&&(n=oe.l10n.t("a unique volume")),await cp({uri:l,type:"folder",label:oe.l10n.t("{0} in {1} [Dev Container]",r,n)}),await X1(t,i?l.authority:!1),await Py(t,i==="rebuildNoCache"?l.authority:!1),await O.commands.executeCommand("vscode.openFolder",l)}async function uCe(t,e){let n=ar(e.env),r=O.Uri.parse(us(e.cliHost.authority,void 0,t,void 0,!0,n,void 0));await cp({uri:r,type:"folder",label:oe.l10n.t("Volume {0} [Dev Container]",t)}),await O.commands.executeCommand("vscode.openFolder",r)}async function dCe(t,e,n,r){let o=ar(r.env),i=O.Uri.parse(us(r.cliHost.authority,e,t,n,!0,o,void 0));await cp({uri:i,type:"folder",label:oe.l10n.t("{0} in {1} [Inspect Dev Container]",n,t)}),await O.commands.executeCommand("vscode.openFolder",i)}async function qy(t,e,n,r,o){var c;if(!await ad(n))return;let i,s=t.cliHost;if(s.type==="wsl"){let l=await s.toCommonURI(s.cwd);l&&l.scheme==="file"&&(i=l.fsPath)}let a=M3(t.cliHost.authority,e.Name,ar(t.env),i);if(o=o||((c=await YX(n.globalStoragePath,e))==null?void 0:c.workspaceFolder),o){let l=O.Uri.parse(`vscode-remote://${a}${o}`),u={};r?u.forceNewWindow=!0:u.forceReuseWindow=!0,await O.commands.executeCommand("vscode.openFolder",l,u)}else{let l={remoteAuthority:a};r||(l.reuseWindow=!0),await O.commands.executeCommand("vscode.newWindow",l)}}async function fCe(t,e,n){let r=!0,o=(async()=>{if(!await n)throw new Error("cancel");r=!1;let i=await st(t,e),s=await ic(i),a=await qs(i,s),c=[];if(a.forEach(l=>{l.State.Status==="running"&&c.push({label:l.Name,description:`${l.Config.Image} ${l.Id}`,containerInfo:l})}),c.length===0)throw O.window.showErrorMessage(oe.l10n.t("There are no running containers to attach to."),{modal:!0}),new Error("cancel");return c.sort((l,u)=>l.label.localeCompare(u.label))})();try{let i={placeHolder:oe.l10n.t("Select the container to attach VS Code")},s=await O.window.showQuickPick(o,i);if(!s&&r){if(!await n)throw new Error("cancel");s=await O.window.showQuickPick(o,i)}return s?s.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function pCe(t,e,n){if(!n.workspaceFolder)return Vy(oe.l10n.t("Workspace folder not specified in devcontainer.json."),e.cliHost,n.configFilePath),!1;if(!St.posix.isAbsolute(n.workspaceFolder))return Vy(oe.l10n.t("Workspace folder in devcontainer.json must be an absolute path."),e.cliHost,n.configFilePath),!1;if(n.initializeCommand)return!0;let r=await Ml(e.cliHost,n,e.cliHost.env,e.cliHost.cwd),o=await kN(e,t,r),i=await i3(e,o,n.service);return!(i&&await Ro(e,i)&&!await mCe(e.cliHost,r))}async function mCe(t,e){let n=[];for(let r=0;r<e.length;r++)await t.isFile(e[r])||n.push(e[r]);return n.length>0?(O.window.showErrorMessage(oe.l10n.t("The following referenced docker compose files do not exist: {0}",n.join(", ")),{modal:!0}),!1):!0}async function Vy(t,e,n){if(await O.window.showErrorMessage(t,{modal:!0},oe.l10n.t("Open devcontainer.json"))){let o=Ie(n,e.platform),i=await e.toCommonURI(o);i&&O.window.showTextDocument(O.Uri.parse(i.toString()))}}async function HI(t,e,n,r,o,i,s){await n.createConfiguration(s)&&await GZ(t,e,r,o,i)}async function GZ(t,e,n,r,o){if([void 0,"wsl","ssh-remote","tunnel"].indexOf(O.env.remoteName)===-1)return;let i=O.workspace.workspaceFile,s=O.workspace.workspaceFolders,a=i||s&&s.length&&s[0].uri||void 0;if(a&&a.scheme!=="vscode-vfs"){let c=Ie(a,e.platform),l=It(e.path,c),d=(await mI(e,l,await Zc(t,e))).sort((f,p)=>{if(f.type!==p.type)return f.type.localeCompare(p.type);let m=St.posix.dirname(f.uri.path),h=St.posix.dirname(p.uri.path);return m.localeCompare(h)})[0];d&&await gCe(t,d,l,e,n,r,o)}}var BI="showReopenInContainerNotification",KZ="showReopenInContainerNotificationReset";function hCe(t){return t.globalState.update(KZ,Date.now())}async function gCe(t,e,n,r,o,i,s){let a=t.globalState.get(KZ);if($U(t.globalState.get(BI),a)||$U(t.workspaceState.get(BI),a))return;let c=u3(r,n,e.uri),l,u="";if(r.platform!=="linux"&&O.env.remoteName!=="wsl"&&!(r.platform==="win32"&&yr(n.rootFolderPath))&&O.env.remoteName!=="ssh-remote"){let x=await st(t,i);if(l=await lY(x.cliHost,n,x.output),l&&c){let y=await Qv(x.cliHost,n.rootFolderPath,x.output);y&&await dY(x.cliHost,n,x.cliHost.path.relative(y,Ie(e.uri,x.cliHost.platform)),x.output)||(l=void 0)}if(l){let{cliHost:y,dockerCLI:E,dockerComposePath:T}=x,k={cliHost:y,dockerPath:E,dockerComposePath:T,appRoot:O.env.appRoot,extensionPath:t.extensionPath,package:await Ur(t.extensionPath),output:i},R=await Dg(k,n.rootFolderPath,e.uri);(!R||!To(R.configuration)&&!("image"in R.configuration))&&(l=void 0)}l&&(u=oe.l10n.t(" Or: Clone repository in Docker volume for [better I/O performance](https://aka.ms/vscode-remote/containers/open-repo)."))}O.env.remoteName==="wsl"&&n.rootFolderPath.match(/^\/mnt\/[a-z]\//)&&(u=oe.l10n.t(" This workspace is on the Windows file system (/mnt/). For best performance, we recommend moving the workspace to the Linux file system (~/home)."));let d;c?n.isWorkspaceFile?d=oe.l10n.t("Workspace contains a Dev Container configuration file."):d=oe.l10n.t("Folder contains a Dev Container configuration file."):d=oe.l10n.t("There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.");let f=oe.l10n.t("Reopen in Container"),p=oe.l10n.t("Clone in Volume"),m=oe.l10n.t("Don't Show Again..."),h=n.isWorkspaceFile?oe.l10n.t("{0} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).{1}",d,u):oe.l10n.t("{0} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).{1}",d,u),v=l?[f,p,m]:[f,m];vCe(o,e.type);let g=await O.window.showInformationMessage(h,...v);if(xCe(o,g===f?"reopen":g===p?"openRepository":g===m?"dontShowAgain":"cancel",e.type),g===f){if(!await O.workspace.requestWorkspaceTrust({message:ky})||!await Qr(t,i,s,o,"reopenInContainer"))return;let y=await st(t,i);if(y.cliHost.type==="wsl"&&r.platform==="win32"){let{cwd:E}=await HR(n.workspaceOrFolderPath,Ta(),i);n=It(y.cliHost.path,E)}await Wy(t,n,y,s,o,!1,{forceReuseWindow:!0})}else if(g===p){let x=await st(t,i),y=await uY(x.cliHost,n,x.output),E=oe.l10n.t("OK"),T=oe.l10n.t("Cancel");(!y||E===await O.window.showInformationMessage(oe.l10n.t("Local changes not pushed to the Git remote will not be available in the Docker volume."),E,T))&&await O.window.withProgress({location:O.ProgressLocation.Notification,title:oe.l10n.t("Clone in Volume")},async(k,R)=>{k.report({message:oe.l10n.t("Follow the prompts at the top of the window.")}),await O.commands.executeCommand(sI,l)})}else if(g===m){let x=n.isWorkspaceFile?oe.l10n.t("Any Workspace"):oe.l10n.t("Any Folder"),y=n.isWorkspaceFile?oe.l10n.t("Current Workspace"):oe.l10n.t("Current Folder"),E=n.isWorkspaceFile?oe.l10n.t("Don't show again for the current workspace or for any workspace?"):oe.l10n.t("Don't show again for the current folder or for any folder?"),T=await O.window.showInformationMessage(E,x,y);T===x?await t.globalState.update(BI,Date.now()):T===y&&await t.workspaceState.update(BI,Date.now())}}function vCe(t,e){t.sendTelemetryEvent("reopenNotificationOpen",{location:e})}function xCe(t,e,n){t.sendTelemetryEvent("reopenNotificationResult",{result:e,location:n})}function $U(t,e){return t===!1?t=1:t===void 0&&(t=-1),e===void 0&&(e=0),e<t}async function wCe(t,e,n){if(!await Qr(t,e.log,e.onDidInput,n,"trySample"))return;let r=await st(t,e.log),o=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET",detail:"https://github.com/Microsoft/vscode-remote-try-dotnet"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],i={placeHolder:oe.l10n.t("Select a sample repository to clone in a container volume")},s=await O.window.showQuickPick(o,i);s&&s.detail&&await Yy(t,s.detail,Ni,HU(s.detail),r)}async function yCe(t){let e=await Promise.all((await JZ(t)).map(async r=>{let o=await(0,jU.promisify)(WI.stat)(r.path),i=r.time;return{label:r.prefix,description:`${Vg(i.getFullYear())}-${Vg(i.getMonth()+1)}-${Vg(i.getDate())} ${Vg(i.getHours())}:${Vg(i.getMinutes())}:${Vg(i.getSeconds())} - ${o.size} bytes`,path:r.path}}));e.length||e.push({label:oe.l10n.t("No log files found.")});let n=await O.window.showQuickPick(e,{placeHolder:oe.l10n.t("Choose a log file")});n&&n.path&&await O.window.showTextDocument(O.Uri.file(n.path))}function Vg(t,e=2){return t.toString().padStart(e,"0")}async function ECe(t,e,n){let r=(await JZ(t)).find(o=>o.name.startsWith(e)&&o.path!==n);r?await O.window.showTextDocument(O.Uri.file(r.path)):await O.window.showInformationMessage(oe.l10n.t("No previous log file found."),{modal:!0})}async function JZ(t){let e=[],n=St.basename(t.logPath),r=St.dirname(St.dirname(St.dirname(t.logPath))),o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/;o.test(St.basename(r))&&(r=St.dirname(r));for(let i of(await qI(r)).sort().reverse()){let s=o.exec(i);if(s){let a=St.join(r,i);for(let c of await qI(a)){let l=St.join(a,c),u=c.startsWith("window");for(let d of u?await qI(l):[c]){let f=St.join(u?l:a,d),p=St.join(f,n);for(let m of(await qI(p)).sort()){let h=St.join(p,m),v=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(m),g=v?new Date(`${v[1]}-${v[2]}-${v[3]}T${v[4]}:${v[5]}:${v[6]}.${v[7]}Z`):new Date(`${s[1]}-${s[2]}-${s[3]}T${s[4]}:${s[5]}:${s[6]}Z`);e.push({name:m,path:h,time:g,prefix:v?m.substr(0,v.index-1):m.substr(0,m.length-4)})}}}}}return e.sort((i,s)=>i.time>s.time?-1:i.time<s.time?1:i.path.localeCompare(s.path)),e}async function qI(t){try{return await(0,jU.promisify)(WI.readdir)(t)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=extension.js.map
